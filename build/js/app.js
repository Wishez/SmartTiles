"use strict";!function(e){var t={};$("#main");t.select={$main:$("#main"),$btnTop:$("#btnTop")};t.elements={container:'<div class="container">'},t.nav={home:"#home",catalog:"#catalog",contacts:"#contacts",service:"#service",projects:"#projects",btnUp:"#btnTop"},t.ids={main:"#main",breadcrumb:{home:"#bcHome",catalog:"#bcCatalog",projects:"#bcProjects"}},t.breadcrumb={category:{short_name:"",name:""},firm:{short_name:"",name:""},collection:{short_name:"",name:""},project:{short_name:"",name:"",amountImgs:0}};var o=function(){return{getHomePattern:function(){return $.get("/media/smarttiles/snippets/home-snippet/home-snippet.html")},getContacts:function(){return $.get("/media/smarttiles/snippets/contacts-snippet/contacts-snippet.html")},getService:function(){return $.get("/media/smarttiles/snippets/service-snippet/service-snippet.html")},getCatalog:function(){return $.get("/media/smarttiles/snippets/catalog-snippet/catalog-snippet.html")},getCollection:function(){return $.get("/media/smarttiles/snippets/collection-snippet//collection-snippet.html")},getTile:function(){return $.get("/media/smarttiles/snippets/tile-snippet/tile-snippet.html")},getTileProject:function(){return $.get("/media/smarttiles/snippets/project-snippet/project-snippet.html")},getSample:function(){return $.get("/media/smarttiles/snippets/sample-snippet/sample-snippet.html")},getCategories:function(){return $.getJSON("/media/smarttiles/data/categories.json")},getCategoryFirms:function(){return $.getJSON("/media/smarttiles/data/firms.json")},getAllCollections:function(){return $.getJSON("/media/smarttiles/data/allCollections.json")},getCollectionItems:function(){return $.getJSON("/media/smarttiles/data/samples.json")},getProjects:function(){return $.getJSON("/media/smarttiles/data/projects.json")}}}();t.showLoading=function(e){var t="<div class='text-center'>";t+="<img src='/media/smarttiles/img/ajax-loader.gif'/></div>",$(e).html(t)},t.switchActiveMenu=function(e){$("#nav").find("li").removeClass("active"),$(e).addClass("active")};var n=function(e,t,o){var n="{{"+t+"}}";return e=e.replace(new RegExp(n,"g"),o)};t.setPolifillForPlaceholder=function(){Modernizr.input.placeholder||$.getScript("js/jquery.html5support.min.js").done(function(){$.html5support(),$.placeholder()}).fail(function(){console.log("Placeholder is not supported.")})},$("#navbarToggle").click(function(e){$(e.target).focus()}),$("#navbarToggle").blur(function(e){window.innerWidth<768&&$("#collapsable").collapse("hide")}),$(".call__icon i").hover(function(){var e=$(this);e.stop(!0).animate({opacity:.1},250,function(){e.removeClass("fa-phone").addClass("fa-volume-control-phone")}).animate({opacity:1},250)},function(){var e=$(this);e.stop(!0).animate({opacity:.1},250,function(){e.removeClass("fa-volume-control-phone").addClass("fa-phone")}).animate({opacity:1},250)}),t.loadHomeContent=function(){o.getHomePattern().done(function(e){o.getContacts().done(function(o){var n=e+o;t.select.$main.html(n),$(".exclusive__slides").slick({dots:!0,autoplay:!0,autoplaySpeed:3500,responsive:[{breakpoint:768,settings:{arrows:!1}}]}),t.settingUpForm(),t.setPolifillForPlaceholder()})})},t.buildHomeCategories=function(e){o.getCategories().done(function(t){o.getTile().done(function(o){var n=e.arrayCategories.split(" "),a=e.name,r=[];n.forEach(function(e){t.forEach(function(t){t.short_name==e&&r.push(t)})}),i({name:a,stylesPlace:"mainContent__homeCategories",idPlace:"homeCategories",stock:r,path:"category",tileHtml:o,geolocation:"#main"}).presentResource()})})};var i=function(e){var o={},i=e.name,a=e.styleName?e.styleName:"",r=e.geolocation,s=e.func?e.func:"",c='<section class="'+e.stylesPlace+'" id="'+e.idPlace+'" itemscope itemtype="https://schema.org/Thing">',m=e.stock,l=e.styleStock?e.styleStock:"",d=e.path,u=e.tileHtml;return o.position=c,o.positionCloseTag="</section>",o._name=i,o.buildHeading=function(){var e='<h2 class="heading '+a+'" itemprop="category">';return e+=o._name+"</h2>"},o.buildTiles=function(){var e='<div class="coverTiles '+l+'">';return e+='<div class="container">',e+='<ul class="tiles__tilesList tilesList" role="group" itemscope  itemtype="https://schema.org/Thing">',m.map(function(o){var i=u,a=o.name,r=o.description,s="";switch(d){case"category":s=o.short_name+"/"+o.short_name,i=n(i,"category",o.short_name),i=n(i,"firm",t.breadcrumb.firm.short_name),i=n(i,"collection","");break;case"firm":s=t.breadcrumb.category.short_name+"/"+o.short_name+"/"+o.short_name,i=n(i,"category",t.breadcrumb.category.short_name),i=n(i,"firm",o.short_name),i=n(i,"collection","");break;case"collection":s=t.breadcrumb.category.short_name+"/"+t.breadcrumb.firm.short_name+"/"+o.short_name+"/"+o.short_name,i=n(i,"category",t.breadcrumb.category.short_name),i=n(i,"firm",t.breadcrumb.firm.short_name),i=n(i,"collection",o.short_name);break;case"firms":var c=o.categories;s=c[0]+"/"+o.short_name+"/"+o.short_name,i=n(i,"category",c.toString()),i=n(i,"firm",o.short_name),i=n(i,"collection","");break;case"collections":s=o.category+"/"+o.firm+"/"+o.short_name+"/"+o.short_name,i=n(i,"category",t.breadcrumb.category.short_name),i=n(i,"firm",t.breadcrumb.firm.short_name),i=n(i,"collection",o.short_name)}i=n(i,"short_name",s),i=n(i,"name",a),i=n(i,"description",r),e+=i}),e+="</ul></div></div>"},o.presentResource=function(){var e=o.buildHeading(),t=o.buildTiles(),n=o.position+'<div class="container">'+e+"</div>"+t+"</section>";"append"===s?$(r).append(n):$(r).html(n)},o};t.buildAndShowAssortment=function(){o.getCategories().done(function(e){o.getCategoryFirms().done(function(t){o.getTile().done(function(o){var n=i({name:"Покрытия",stylesPlace:"mainContent__covers covers",idPlace:"catalogCovers",stock:e,path:"category",tileHtml:o,geolocation:"#main",func:"append"}),a=i({name:"Фирмы",styleName:"heading-firm",stylesPlace:"mainContent__firms firms",idPlace:"catalogFirms",stock:t,path:"firms",tileHtml:o,geolocation:"#main",func:"append"});n.presentResource(),a.presentResource()})})})},t.showCatalogHTML=function(){o.getCatalog().done(function(e){t.select.$main.html(e),t.buildAndShowAssortment()})},t.showServiceHTML=function(){o.getService().done(function(e){t.select.$main.html(e)})};var a=function(e){var o=i(e);return delete e.name,delete e.func,o._categoryName='<span itemprop="name">'+t.breadcrumb.category.name+"</span>",o._firmName='<span itemprop="name">'+t.breadcrumb.firm.name+"</span>",o._collectionName='<span itemprop="name">'+t.breadcrumb.collection.name+"</span>",o._breadcrumbElements={list:'<ol id="breadcrumb" class="mainContent__breadcrumb breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList">',listFirm:'<ol id="breadcrumb" class="mainContent__breadcrumb breadcrumb breadcrumb-firm" itemscope itemtype="http://schema.org/BreadcrumbList">',bcElemActive:'<li class="breadcrumb__breadcrumbItem breadcrumbItem active" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem" ',bcElem:'<li data-cat="" data-firm="" class="breadcrumb__breadcrumbItem breadcrumbItem" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem" ',bcRefer:'<a class="breadcrumbItem__refer" href="#" itemprop="item">',ids:{bcCategory:'id="bcCategory">',bcFirm:'id="bcFirm">'},solidElements:{homeAndCatalogBC:""}},o._myVisitCard='<div   class="collection__contact"><div class="container"><div class="contact__visitCard" itemscope itemtype="http://schema.org/Organization"><div class="visitCard__header"></div><div class="visitCard__body"><h3 class="body__title">Контакты</h3><p class="body__contacts"><a class="contacts__tel" href="tel:8-495-909-50-20" itemprop="telephone">8-495-909-50-20</a> <a class="contacts__email" href="mailto:connect@smart-tiles.ru" itemprop="email"> connect@smart-tiles.ru</a></p></div></div></div>',o.homeAndCatalogBC=o._breadcrumbElements.bcElem+'id="bcHome">'+o._breadcrumbElements.bcRefer+'<span itemprop="name">Главная</span></a><meta itemprop="position" content="1" /></li>'+o._breadcrumbElements.bcElem+'id="bcCatalog">'+o._breadcrumbElements.bcRefer+'<span itemprop="name">Каталог</span></a><meta itemprop="position" content="2" /></li>',o._buildBreadcrumb=function(){},o.presentResource=function(){var t=o._buildBreadcrumb(),n=o.buildHeading(),i=o.buildTiles(),a=o.position+'<div class="container">'+t+n+"</div>"+i+o.positionCloseTag;$(e.geolocation).html(a)},o},r=function(e){var t=a(e);t._name=t._categoryName;var o=t._breadcrumbElements.bcElemActive+t._breadcrumbElements.ids.bcCategory+t._name+"</li></ol>";return t._buildBreadcrumb=function(){var e=t._breadcrumbElements.list+t.homeAndCatalogBC;return e+=o},t};t.buildHomeAndCatalogCategory=function(){o.getCategoryFirms().done(function(e){o.getTile().done(function(o){var n=[];e.forEach(function(e){e.categories.forEach(function(o){o==t.breadcrumb.category.short_name&&n.push(e)})}),r({idPlace:"category",stock:n,styleStock:"coverTiles-firm",path:"firm",tileHtml:o,geolocation:"#main"}).presentResource()})})};var s=function(e){var t=a(e);t._name=t._categoryName;var o=t._breadcrumbElements.bcElem+t._breadcrumbElements.ids.bcFirm+t._breadcrumbElements.bcRefer+t._firmName+'</a><meta itemprop="position" content="3" />'+t._breadcrumbElements.bcElemActive+t._breadcrumbElements.ids.bcCategory+t._name+'<meta itemprop="position" content="4" /></li></ol>';return t._buildBreadcrumb=function(){var e=t._breadcrumbElements.list+t.homeAndCatalogBC;return e+=o},t};t.buildCategoryOfFirmHTML=function(){o.getCategoryFirms().done(function(e){o.getTile().done(function(o){var n=[];e.forEach(function(e){e.short_name==t.breadcrumb.firm.short_name&&(n=e.collections.filter(function(e){return e.category===t.breadcrumb.category.short_name}))}),s({stylePlace:"mainContent__category",idPlace:"categoryCollections",stock:n,styleStock:"coverTiles-firm",path:"collection",tileHtml:o,geolocation:"#main"}).presentResource()})})},t.settingUpForm=function(){$("#id_phone").mask("0 (000) 000 00 00")};var c=function(e){var t=a(e);t._name='<span itemprop="name">'+t._firmName+"</span>";var o=t._breadcrumbElements.bcElemActive+t._breadcrumbElements.ids.bcFirm+t._name+'<meta itemprop="position" content="3" /></li></ol>';return t._buildBreadcrumb=function(){var e=t._breadcrumbElements.listFirm+t.homeAndCatalogBC;return e+=o},t};t.buildCatalogFirmHTML=function(){o.getCategories().done(function(e){o.getCategoryFirms().done(function(n){o.getTile().done(function(o){var i,a=[];n.forEach(function(o){o.short_name==t.breadcrumb.firm.short_name&&o.categories.forEach(function(t){e.forEach(function(e){e.short_name==t&&a.push(e)})})}),i=c({styleName:"heading-firm",stylesPlace:"mainContent__firm firm",idPlace:"firmCategories",stock:a,path:"category",tileHtml:o,geolocation:"#main"}),i.presentResource()})})})};var m=function(e){var t=a(e);t._name='<span itemprop="name">'+t._firmName+"</span>";var o=t._breadcrumbElements.bcElem+t._breadcrumbElements.ids.bcCategory+t._breadcrumbElements.bcRefer+'<span itemprop="name">'+t._categoryName+'</span></a><meta itemprop="position" content="3" /></li>'+t._breadcrumbElements.bcElemActive+t._breadcrumbElements.ids.bcFirm+t._name+'<meta itemprop="position" content="4" /></li></ol>';return t._buildBreadcrumb=function(){var e=t._breadcrumbElements.listFirm+t.homeAndCatalogBC;return e+=o},t};t.buildAndShowFirmHTML=function(){o.getCategoryFirms().done(function(e){o.getTile().done(function(o){var n,i=[];e.map(function(e){e.short_name==t.breadcrumb.firm.short_name&&e.collections.map(function(e){i.push(e)})}),n=m({styleName:"heading-firm",stylesPlace:"mainContent__firm firm",idPlace:"firm",stock:i,path:"collection",tileHtml:o,geolocation:"#main"}),n.presentResource()})})};var l=function(e){var o=a(e);return delete o.buildTiles,delete e.tileHtml,delete e.path,delete e.styleStock,o.buildSamples=function(){var i=e.sampleHtml,a=e.stock,r='<div class="row" role="row">',s='<ul class="collectionSlider__listTiles">',c='<div class="collection__collectionSlider collectionSlider"><div id="collection"  class="collectionSlider__slides container"><div id="collectionSamples" role="group" itemscope itemtype="https://schema.org/Thing"> >'+r+'<div class="container">'+s,m=o._myVisitCard,l=t.breadcrumb.category.short_name,d=t.breadcrumb.firm.short_name,u=t.breadcrumb.collection.short_name,p=6;return a.forEach(function(e,t){t===p&&t!==a.length&&(c+="</ul></div></div>"+r+'<div class="container">'+s,p+=6);var o=i,m=""+e.name,b=e.description,h=e.num;o=n(o,"short_name",l+"/"+d+"/"+u+"/"+h),o=n(o,"name",m),o=n(o,"description",b),o=n(o,"number",h),c+=o}),c+="</ul></div></div></div></div></div>",c+=m},o.presentResource=function(){var t=o._buildBreadcrumb(),n=o.buildHeading(),i=o.buildSamples(),a=o.position+'<div class="container">'+t+n+"</div>"+i+o.positionCloseTag;$(e.geolocation).html(a)},o},d=function(e){var t=l(e);t._name=t._collectionName;var o=t._breadcrumbElements.bcElem+t._breadcrumbElements.ids.bcFirm+t._breadcrumbElements.bcRefer+t._firmName+'</a><meta itemprop="position" content="3" /></li>'+t._breadcrumbElements.bcElem+t._breadcrumbElements.ids.bcCategory+t._breadcrumbElements.bcRefer+t._categoryName+'</a><meta itemprop="position" content="4" /></li>'+t._breadcrumbElements.bcElemActive+">"+t._name+'<meta itemprop="position" content="5" /></li></ol>';return t._buildBreadcrumb=function(){var e=t._breadcrumbElements.list+t.homeAndCatalogBC;return e+=o},t},u=function(e){var t=l(e);t._name=t._collectionName;var o=t._breadcrumbElements.bcElem+t._breadcrumbElements.ids.bcCategory+t._breadcrumbElements.bcRefer+t._categoryName+'</a><meta itemprop="position" content="3" /></li>'+t._breadcrumbElements.bcElem+t._breadcrumbElements.ids.bcFirm+t._breadcrumbElements.bcRefer+t._firmName+'</a><meta itemprop="position" content="4" /></li>'+t._breadcrumbElements.bcElemActive+">"+t._name+'<meta itemprop="position" content="5" /></li></ol>';return t._buildBreadcrumb=function(){var e=t._breadcrumbElements.list+t.homeAndCatalogBC;return e+=o},t};t.buildAndShowCollectionHtml=function(e){o.getSample().done(function(n){o.getCollectionItems().done(function(o){var i,a=o[0][t.breadcrumb.collection.short_name],r=a.samples,s="firm"===e?"collectionFirm":"collectionCategoryFirm",c={stylesPlace:"mainContent__collection",idPlace:s,stock:r,sampleHtml:n,geolocation:"#main"};t.breadcrumb.category.short_name=a.category.short_name,t.breadcrumb.firm.short_name=a.firm.short_name,t.breadcrumb.category.name=a.category.name,t.breadcrumb.firm.name=a.firm.name,i="firm"==e?u(c):d(c),i.presentResource(),$("#collectionSamples").slick({dots:!0,responsive:[{breakpoint:768,settings:{arrows:!1}}]}),$(".collectionSlider__listTiles").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}})})})},e.$st=t}(window),$(function(){$(document).on("click","#subNav .subCategory__refer, #btnTop",function(){var e=$(this);return $("html, body").stop().animate({scrollTop:$(e.attr("href")).offset().top},1500,"easeInOutExpo"),!1}),$st.select.$btnTop.hide(),$(window).scroll(function(){$(this).scrollTop()<100?$st.select.$btnTop.fadeOut(1e3):$st.select.$btnTop.fadeIn(1e3)});var e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/api/v0/categories/?format=json"}),t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/api/v0/firms/?format=json"}),o=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/api/v0/collections/?format=json"});$("#search .typeahead").typeahead({highlight:!0,minLength:0},{name:"categories",display:"name",source:e,templates:{header:'<h3 class="search__caption search__caption-theme_categories">Категории</h3>'},limit:10},{name:"collections",display:"name",source:o,templates:{header:'<h3 class="search__caption search__caption-theme_collections">Коллекции</h3>'},limit:10},{name:"firms",display:"name",source:t,templates:{header:'<h3 class="search__caption search__caption-theme_firms">Фирмы</h3>'},limit:10}),$("#navbarToggle").click(function(e){$(e.target).focus()}),$("#navbarToggle").blur(function(e){window.innerWidth<768&&$("#collapsable").collapse("hide")}),$(".signature__author").on("click",function(){var e=$(this).attr("href");return window.open(e),!1}),$("#footer a").hover(function(){Modernizr.csstransitions||$(this).stop().animate({color:"#76bdff"},500)},function(){Modernizr.csstransitions||$(this).stop().animate({color:"#108cff"},500)}),$(".exclusive__slides").slick({dots:!0,autoplay:!0,autoplaySpeed:3500,responsive:[{breakpoint:768,settings:{arrows:!1}}]}),$(document).on("click","#subNav .subCategory__refer, #btnTop",function(e){var t=$(this);$("html, body").stop().animate({scrollTop:$(t.attr("href")).offset().top},1500,"easeInOutExpo"),e.preventDefault()}),$(document).on("input propertychange",".contactForm__controller",function(e){$(this).toggleClass("contactForm__controller-filled",!!$(e.target).val());var t=$("#id_name"),o=t.val();o=o.toLowerCase().split(" ").map(function(e){return e.replace(e.charAt(0),e.charAt(0).toUpperCase())}).join(" "),t.val(o)}).on("focus",".contactForm__controller",function(){$(this).addClass("contactForm__controller-focused")}).on("blur",".contactForm__controller",function(){$(this).removeClass("contactForm__controller-focused")});var n=["gmail.com","aol.com","yahoo.com","mail.ru","yandex.ru","list.ru"],i=["com","net","org","ru","io"];$(document).on("blur","#id_email",function(){$(this).mailcheck({domains:n,topLevelDomains:i,suggested:function(e,t){$("#helper").html("Возможно, вы имели в виду <b><i>"+t.full+"</b></i>?")},empty:function(e){$("#helper").html("")}})}),$("#id_phone").mask("0 (000) 000 00 00"),$(".slider__slides").slick({dots:!0,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:768,settings:{arrows:!1}}]}),$("#collectionSamples").slick({dots:!0,responsive:[{breakpoint:768,settings:{arrows:!1}}]}),$(".collectionSlider__listTiles").magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}),$(document).on("mouseover",".tile",function(){Modernizr.csstransitions||$(this).find(".tile__description, .sample__description").stop().animate({height:"70%",borderBottomWidth:2,boxShadow:"0 5px 20px rgba(0, 0, 0, .5)",padding:"5%"},1e3)}),$(document).on("mouseout",".tile",function(){Modernizr.csstransitions||$(this).find(".tile__description, .sample__description").stop().animate({height:0,borderBottomWidth:0,boxShadow:0,padding:0},1e3)}),$(document).on("mouseover",".listWorks__item",function(){Modernizr.csstransitions||$(this).find(".projectBody__description").stop().animate({width:"50%",color:"#76bdff",padding:"3%"},1e3)}).on("mouseout",".listWorks__item",function(){Modernizr.csstransitions||$(this).find(".projectBody__description").stop().animate({width:0,color:"transparent",padding:0},1e3)}),$(".loading__figure").fadeOut(),$(".loading").delay(250).fadeOut(400),$st.setPolifillForPlaceholder(),$(".searchForm__btnSearch").hover(function(){Modernizr.csstransitions||$(this).stop().animate({backgroundColor:"#74ff86"},500)},function(){Modernizr.csstransitions||$(this).stop().animate({backgroundColor:"#76bdff"},500)}),$("#nav li").mouseover(function(){Modernizr.csstransitions||$(this).stop().animate({backgroundColor:"#dfa76e"},500)}).mouseout(function(){Modernizr.csstransitions||$(this).stop().animate({backgroundColor:"transparent"},500)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJzdCIsIiQiLCJzZWxlY3QiLCIkbWFpbiIsIiRidG5Ub3AiLCJlbGVtZW50cyIsImNvbnRhaW5lciIsIm5hdiIsImhvbWUiLCJjYXRhbG9nIiwiY29udGFjdHMiLCJzZXJ2aWNlIiwicHJvamVjdHMiLCJidG5VcCIsImlkcyIsIm1haW4iLCJicmVhZGNydW1iIiwiY2F0ZWdvcnkiLCJzaG9ydF9uYW1lIiwibmFtZSIsImZpcm0iLCJjb2xsZWN0aW9uIiwicHJvamVjdCIsImFtb3VudEltZ3MiLCJzbWFydEFwcCIsImdldEhvbWVQYXR0ZXJuIiwiZ2V0IiwiZ2V0Q29udGFjdHMiLCJnZXRTZXJ2aWNlIiwiZ2V0Q2F0YWxvZyIsImdldENvbGxlY3Rpb24iLCJnZXRUaWxlIiwiZ2V0VGlsZVByb2plY3QiLCJnZXRTYW1wbGUiLCJnZXRDYXRlZ29yaWVzIiwiZ2V0SlNPTiIsImdldENhdGVnb3J5RmlybXMiLCJnZXRBbGxDb2xsZWN0aW9ucyIsImdldENvbGxlY3Rpb25JdGVtcyIsImdldFByb2plY3RzIiwic2hvd0xvYWRpbmciLCJzZWxlY3RvciIsImh0bWwiLCJzd2l0Y2hBY3RpdmVNZW51IiwiZmluZCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpbnNlcnRQcm9wZXJ0eSIsInN0cmluZyIsInByb3BOYW1lIiwicHJvcFZhbHVlIiwicHJvcFRvUmVwbGFjZSIsInJlcGxhY2UiLCJSZWdFeHAiLCJzZXRQb2xpZmlsbEZvclBsYWNlaG9sZGVyIiwiTW9kZXJuaXpyIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsImdldFNjcmlwdCIsImRvbmUiLCJodG1sNXN1cHBvcnQiLCJmYWlsIiwiY29uc29sZSIsImxvZyIsImNsaWNrIiwiZXZlbnQiLCJ0YXJnZXQiLCJmb2N1cyIsImJsdXIiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiY29sbGFwc2UiLCJob3ZlciIsIiR0aGlzIiwidGhpcyIsInN0b3AiLCJhbmltYXRlIiwib3BhY2l0eSIsImxvYWRIb21lQ29udGVudCIsImhvbWVDb250ZW50SHRtbCIsImNvbnRhY3RzSHRtbCIsImZpbmFsSFRNTCIsInNsaWNrIiwiZG90cyIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJhcnJvd3MiLCJzZXR0aW5nVXBGb3JtIiwiYnVpbGRIb21lQ2F0ZWdvcmllcyIsInNwZWMiLCJjYXRlZ29yaWVzIiwidGlsZUh0bWwiLCJhcnJheUNhdGVnb3JpZXMiLCJzcGxpdCIsInNvcnRlZENhdGVnb3JpZXMiLCJmb3JFYWNoIiwiY29tcGFyZUNhdGVnb3J5IiwicHVzaCIsImNhdGFsb2dSZXNvdXJjZSIsInN0eWxlc1BsYWNlIiwiaWRQbGFjZSIsInN0b2NrIiwicGF0aCIsImdlb2xvY2F0aW9uIiwicHJlc2VudFJlc291cmNlIiwidGhhdCIsInN0eWxlTmFtZSIsImZ1bmMiLCJwb3NpdGlvbiIsInN0eWxlU3RvY2siLCJwYXRoVG9JbWdzIiwicG9zaXRpb25DbG9zZVRhZyIsIl9uYW1lIiwiYnVpbGRIZWFkaW5nIiwiaGVhZGluZyIsImJ1aWxkVGlsZXMiLCJmaW5hbEh0bWwiLCJtYXAiLCJpdGVtIiwiZGVzY3JpcHRpb24iLCJjYXRzIiwidG9TdHJpbmciLCJ0aWxlcyIsImFwcGVuZCIsImJ1aWxkQW5kU2hvd0Fzc29ydG1lbnQiLCJmaXJtcyIsImNhdGFsb2dDYXRlZ29yaWVzIiwiY2F0YWxvZ0Zpcm1zIiwic2hvd0NhdGFsb2dIVE1MIiwic2hvd1NlcnZpY2VIVE1MIiwic2VydmljZUh0bWwiLCJzaW5nbGVSZXNvdXJjZSIsInBhcmFtcyIsIl9jYXRlZ29yeU5hbWUiLCJfZmlybU5hbWUiLCJfY29sbGVjdGlvbk5hbWUiLCJfYnJlYWRjcnVtYkVsZW1lbnRzIiwibGlzdCIsImxpc3RGaXJtIiwiYmNFbGVtQWN0aXZlIiwiYmNFbGVtIiwiYmNSZWZlciIsImJjQ2F0ZWdvcnkiLCJiY0Zpcm0iLCJzb2xpZEVsZW1lbnRzIiwiaG9tZUFuZENhdGFsb2dCQyIsIl9teVZpc2l0Q2FyZCIsIl9idWlsZEJyZWFkY3J1bWIiLCJjYXRhbG9nQW5kSG9tZUNhdGVnb3J5IiwiY2F0ZWdvcnlCQyIsImJ1aWxkSG9tZUFuZENhdGFsb2dDYXRlZ29yeSIsImFycmF5SXRlbXMiLCJjYXQiLCJjYXRlZ29yeUZpcm0iLCJiY0Zpcm1DYXRlZ29yeSIsImJ1aWxkQ2F0ZWdvcnlPZkZpcm1IVE1MIiwiY29sbGVjdGlvbnMiLCJmaWx0ZXIiLCJzdHlsZVBsYWNlIiwibWFzayIsImNhdGFsb2dGaXJtIiwiYnVpbGRDYXRhbG9nRmlybUhUTUwiLCJmaXJtQ2F0ZWdvcnkiLCJiY0NhdGVnb3J5RmlybSIsImJ1aWxkQW5kU2hvd0Zpcm1IVE1MIiwic2luZ2xlQ29sbGVjdGlvbiIsImJ1aWxkU2FtcGxlcyIsInNhbXBsZUh0bWwiLCJyb3ciLCJ1bCIsInZpc2l0Q2FyZCIsImNhdGVnb3J5U2hvcnROYW1lIiwiZmlybVNob3J0TmFtZSIsImNvbGxlY3Rpb25TaG9ydE5hbWUiLCJjb3VudGVyIiwiaSIsImxlbmd0aCIsIm51bWJlciIsIm51bSIsImNvbGxlY3Rpb25DYXRlZ29yeU9mRmlybSIsImJjRmlybUNhdGVnb3J5Q29sbGVjdGlvbiIsImNvbGxlY3Rpb25GaXJtIiwiYmNDYXRlZ29yeUZpcm1Db2xsZWN0aW9uIiwiYnVpbGRBbmRTaG93Q29sbGVjdGlvbkh0bWwiLCJjb2xsZWN0aW9uSW5mbyIsInNhbXBsZXMiLCJpZCIsIm1hZ25pZmljUG9wdXAiLCJkZWxlZ2F0ZSIsInR5cGUiLCJnYWxsZXJ5IiwiZW5hYmxlZCIsIiRzdCIsImRvY3VtZW50Iiwib24iLCJzY3JvbGxUb3AiLCJhdHRyIiwib2Zmc2V0IiwidG9wIiwiaGlkZSIsInNjcm9sbCIsImZhZGVPdXQiLCJmYWRlSW4iLCJCbG9vZGhvdW5kIiwiZGF0dW1Ub2tlbml6ZXIiLCJ0b2tlbml6ZXJzIiwib2JqIiwid2hpdGVzcGFjZSIsInF1ZXJ5VG9rZW5pemVyIiwicmVtb3RlIiwidHlwZWFoZWFkIiwiaGlnaGxpZ2h0IiwibWluTGVuZ3RoIiwiZGlzcGxheSIsInNvdXJjZSIsInRlbXBsYXRlcyIsImhlYWRlciIsImxpbWl0IiwidXJsIiwib3BlbiIsImNzc3RyYW5zaXRpb25zIiwiY29sb3IiLCJlIiwicHJldmVudERlZmF1bHQiLCJ0b2dnbGVDbGFzcyIsInZhbCIsIiRuYW1lSW5wdXQiLCJzdHIiLCJ0b0xvd2VyQ2FzZSIsIndvcmQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImpvaW4iLCJkb21haW5zIiwidG9wTGV2ZWxEb21haW5zIiwibWFpbGNoZWNrIiwic3VnZ2VzdGVkIiwiZWxlbWVudCIsInN1Z2dlc3Rpb24iLCJmdWxsIiwiZW1wdHkiLCJoZWlnaHQiLCJib3JkZXJCb3R0b21XaWR0aCIsImJveFNoYWRvdyIsInBhZGRpbmciLCJ3aWR0aCIsImRlbGF5IiwiYmFja2dyb3VuZENvbG9yIiwibW91c2VvdmVyIiwibW91c2VvdXQiXSwibWFwcGluZ3MiOiJBQUFBLGNBRUEsU0FBV0EsR0FDVCxHQUFJQyxLQUdRQyxHQUFFLFFBRWRELEdBQUdFLFFBQ0RDLE1BQU9GLEVBQUUsU0FDVEcsUUFBU0gsRUFBRSxXQUtiRCxHQUFHSyxVQUNEQyxVQUFXLDJCQUliTixFQUFHTyxLQUNEQyxLQUFNLFFBQ05DLFFBQVMsV0FDVEMsU0FBVSxZQUNWQyxRQUFTLFdBQ1RDLFNBQVUsWUFDVkMsTUFBTyxXQUdUYixFQUFHYyxLQUNEQyxLQUFNLFFBQ05DLFlBQ0VSLEtBQU0sVUFDTkMsUUFBUyxhQUNURyxTQUFVLGdCQUlkWixFQUFHZ0IsWUFDREMsVUFDRUMsV0FBWSxHQUNaQyxLQUFNLElBRVJDLE1BQ0VGLFdBQVksR0FDWkMsS0FBTSxJQUVSRSxZQUNFSCxXQUFZLEdBQ1pDLEtBQU0sSUFFUkcsU0FDRUosV0FBWSxHQUNaQyxLQUFNLEdBQ05JLFdBQVksR0FLaEIsSUFBSUMsR0FBVyxXQWdCYixPQUNFQyxlQUFnQixXQUNkLE1BQU94QixHQUFFeUIsSUFoQkUsOERBbUJiQyxZQUFhLFdBQ1gsTUFBTzFCLEdBQUV5QixJQW5CTSxzRUFzQmpCRSxXQUFZLFdBQ1YsTUFBTzNCLEdBQUV5QixJQXJCSyxvRUF3QmhCRyxXQUFZLFdBQ1YsTUFBTzVCLEdBQUV5QixJQTFCSyxvRUE2QmhCSSxjQUFlLFdBQ2IsTUFBTzdCLEdBQUV5QixJQTVCUSwyRUErQm5CSyxRQUFTLFdBQ1AsTUFBTzlCLEdBQUV5QixJQTFCRSw4REE2QmJNLGVBQWdCLFdBQ2QsTUFBTy9CLEdBQUV5QixJQTdCUyxvRUFnQ3BCTyxVQUFXLFdBQ1QsTUFBT2hDLEdBQUV5QixJQWhDSSxrRUFtQ2ZRLGNBQWUsV0FDYixNQUFPakMsR0FBRWtDLFFBM0NXLDJDQThDdEJDLGlCQUFrQixXQUNoQixNQUFPbkMsR0FBRWtDLFFBOUNHLHNDQWlEZEUsa0JBQW1CLFdBQ2pCLE1BQU9wQyxHQUFFa0MsUUFqRFEsK0NBb0RuQkcsbUJBQW9CLFdBQ2xCLE1BQU9yQyxHQUFFa0MsUUFwRFMsd0NBdURwQkksWUFBYSxXQUNYLE1BQU90QyxHQUFFa0MsUUF2REUsNENBNERqQm5DLEdBQUd3QyxZQUFjLFNBQVVDLEdBQ3pCLEdBQUlDLEdBQU8sMkJBQ1hBLElBQVEsMkRBQ1J6QyxFQUFFd0MsR0FBVUMsS0FBS0EsSUFHbkIxQyxFQUFHMkMsaUJBQW1CLFNBQVVGLEdBQzlCeEMsRUFBRSxRQUFRMkMsS0FBSyxNQUFNQyxZQUFZLFVBQ2pDNUMsRUFBRXdDLEdBQVVLLFNBQVMsVUFHdkIsSUFBSUMsR0FBaUIsU0FBd0JDLEVBQVFDLEVBQVVDLEdBQzdELEdBQUlDLEdBQWdCLEtBQU9GLEVBQVcsSUFHdEMsT0FGQUQsR0FBU0EsRUFBT0ksUUFBUSxHQUFJQyxRQUFPRixFQUFlLEtBQU1ELEdBSzFEbEQsR0FBR3NELDBCQUE0QixXQUN4QkMsVUFBVUMsTUFBTUMsYUFDbkJ4RCxFQUFFeUQsVUFBVSxpQ0FBaUNDLEtBQUssV0FDaEQxRCxFQUFFMkQsZUFDRjNELEVBQUV3RCxnQkFDREksS0FBSyxXQUNOQyxRQUFRQyxJQUFJLG9DQUlsQjlELEVBQUUsaUJBQWlCK0QsTUFBTSxTQUFVQyxHQUNqQ2hFLEVBQUVnRSxFQUFNQyxRQUFRQyxVQUdsQmxFLEVBQUUsaUJBQWlCbUUsS0FBSyxTQUFVSCxHQUNkSSxPQUFPQyxXQUNQLEtBQ2hCckUsRUFBRSxnQkFBZ0JzRSxTQUFTLFVBR2Z0RSxFQUFFLGlCQUVSdUUsTUFBTSxXQUNkLEdBQUlDLEdBQVF4RSxFQUFFeUUsS0FDZEQsR0FBTUUsTUFBSyxHQUFNQyxTQUNmQyxRQUFTLElBQ1IsSUFBSyxXQUNOSixFQUFNNUIsWUFBWSxZQUFZQyxTQUFTLDZCQUN0QzhCLFNBQ0RDLFFBQVMsR0FDUixNQUNGLFdBQ0QsR0FBSUosR0FBUXhFLEVBQUV5RSxLQUNkRCxHQUFNRSxNQUFLLEdBQU1DLFNBQ2ZDLFFBQVMsSUFDUixJQUFLLFdBQ05KLEVBQU01QixZQUFZLDJCQUEyQkMsU0FBUyxjQUNyRDhCLFNBQ0RDLFFBQVMsR0FDUixPQXFKTDdFLEVBQUc4RSxnQkFBa0IsV0FDbkJ0RCxFQUFTQyxpQkFBaUJrQyxLQUFLLFNBQVVvQixHQUV2Q3ZELEVBQVNHLGNBQWNnQyxLQUFLLFNBQVVxQixHQUVwQyxHQUFJQyxHQUFZRixFQUFrQkMsQ0FDbENoRixHQUFHRSxPQUFPQyxNQUFNdUMsS0FBS3VDLEdBRXJCaEYsRUFBRSxzQkFBc0JpRixPQUN0QkMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZDLGNBQWUsS0FDZkMsYUFDRUMsV0FBWSxJQUNaQyxVQUNFQyxRQUFRLE9BS2R6RixFQUFHMEYsZ0JBQ0gxRixFQUFHc0QsaUNBS1R0RCxFQUFHMkYsb0JBQXNCLFNBQVVDLEdBUWpDcEUsRUFBU1UsZ0JBQWdCeUIsS0FBSyxTQUFVa0MsR0FFdENyRSxFQUFTTyxVQUFVNEIsS0FBSyxTQUFVbUMsR0FDaEMsR0FBSUMsR0FBa0JILEVBQUtHLGdCQUFnQkMsTUFBTSxLQUdqRDdFLEVBQU95RSxFQUFLekUsS0FDUjhFLElBR0pGLEdBQWdCRyxRQUFRLFNBQVVDLEdBRWhDTixFQUFXSyxRQUFRLFNBQVVqRixHQUN2QkEsRUFBU0MsWUFBY2lGLEdBQ3pCRixFQUFpQkcsS0FBS25GLE9BS1BvRixHQUNuQmxGLEtBQU1BLEVBQ05tRixZQUFhLDhCQUNiQyxRQUFTLGlCQUNUQyxNQUFPUCxFQUNQUSxLQUFNLFdBQ05YLFNBQVVBLEVBQ1ZZLFlBQWEsVUFHQUMsc0JBbURyQixJQUFJTixHQUFrQixTQUF5QlQsR0FnQjdDLEdBQUlnQixNQUlKekYsRUFBT3lFLEVBQUt6RSxLQUNSMEYsRUFBWWpCLEVBQUtpQixVQUFZakIsRUFBS2lCLFVBQVksR0FHbERILEVBQWNkLEVBQUtjLFlBR25CSSxFQUFPbEIsRUFBS2tCLEtBQU9sQixFQUFLa0IsS0FBTyxHQUkvQkMsRUFBVyxtQkFBcUJuQixFQUFLVSxZQUFjLFNBQVdWLEVBQUtXLFFBQVUsbURBSTdFQyxFQUFRWixFQUFLWSxNQUNUUSxFQUFhcEIsRUFBS29CLFdBQWFwQixFQUFLb0IsV0FBYSxHQUdyREMsRUFBYXJCLEVBQUthLEtBR2xCWCxFQUFXRixFQUFLRSxRQTJHaEIsT0F4R0FjLEdBQUtHLFNBQVdBLEVBQ2hCSCxFQUFLTSxpQkFka0IsYUFldkJOLEVBQUtPLE1BQVFoRyxFQUdieUYsRUFBS1EsYUFBZSxXQUNsQixHQUFJQyxHQUFVLHNCQUF3QlIsRUFBWSx3QkFHbEQsT0FGQVEsSUFBV1QsRUFBS08sTUFBUSxTQU0xQlAsRUFBS1UsV0FBYSxXQUNoQixHQUFJQyxHQUFZLDBCQUE0QlAsRUFBYSxJQTBFekQsT0F6RUFPLElBQWEsMEJBQ2JBLEdBQWEsc0dBRWJmLEVBQU1nQixJQUFJLFNBQVVDLEdBRWxCLEdBQUkvRSxHQUFPb0QsRUFDUDNFLEVBQU9zRyxFQUFLdEcsS0FDWnVHLEVBQWNELEVBQUtDLFlBQ25CeEcsRUFBYSxFQUlqQixRQUFRK0YsR0FFTixJQUFLLFdBQ0gvRixFQUFhdUcsRUFBS3ZHLFdBQWEsSUFBTXVHLEVBQUt2RyxXQUUxQ3dCLEVBQU9LLEVBQWVMLEVBQU0sV0FBWStFLEVBQUt2RyxZQUc3Q3dCLEVBQU9LLEVBQWVMLEVBQU0sT0FBUTFDLEVBQUdnQixXQUFXSSxLQUFLRixZQUN2RHdCLEVBQU9LLEVBQWVMLEVBQU0sYUFBYyxHQUUxQyxNQUVGLEtBQUssT0FDSHhCLEVBQWFsQixFQUFHZ0IsV0FBV0MsU0FBU0MsV0FBYSxJQUFNdUcsRUFBS3ZHLFdBQWEsSUFBTXVHLEVBQUt2RyxXQUVwRndCLEVBQU9LLEVBQWVMLEVBQU0sV0FBWTFDLEVBQUdnQixXQUFXQyxTQUFTQyxZQUMvRHdCLEVBQU9LLEVBQWVMLEVBQU0sT0FBUStFLEVBQUt2RyxZQUN6Q3dCLEVBQU9LLEVBQWVMLEVBQU0sYUFBYyxHQUUxQyxNQUVGLEtBQUssYUFDSHhCLEVBQWFsQixFQUFHZ0IsV0FBV0MsU0FBU0MsV0FBYSxJQUFNbEIsRUFBR2dCLFdBQVdJLEtBQUtGLFdBQWEsSUFBTXVHLEVBQUt2RyxXQUFhLElBQU11RyxFQUFLdkcsV0FFMUh3QixFQUFPSyxFQUFlTCxFQUFNLFdBQVkxQyxFQUFHZ0IsV0FBV0MsU0FBU0MsWUFDL0R3QixFQUFPSyxFQUFlTCxFQUFNLE9BQVExQyxFQUFHZ0IsV0FBV0ksS0FBS0YsWUFDdkR3QixFQUFPSyxFQUFlTCxFQUFNLGFBQWMrRSxFQUFLdkcsV0FFL0MsTUFHRixLQUFLLFFBQ0gsR0FBSXlHLEdBQU9GLEVBQUs1QixVQUNoQjNFLEdBQWF5RyxFQUFLLEdBQUssSUFBTUYsRUFBS3ZHLFdBQWEsSUFBTXVHLEVBQUt2RyxXQUUxRHdCLEVBQU9LLEVBQWVMLEVBQU0sV0FBWWlGLEVBQUtDLFlBQzdDbEYsRUFBT0ssRUFBZUwsRUFBTSxPQUFRK0UsRUFBS3ZHLFlBQ3pDd0IsRUFBT0ssRUFBZUwsRUFBTSxhQUFjLEdBRTFDLE1BRUYsS0FBSyxjQUNIeEIsRUFBYXVHLEVBQUt4RyxTQUFXLElBQU13RyxFQUFLckcsS0FBTyxJQUFNcUcsRUFBS3ZHLFdBQWEsSUFBTXVHLEVBQUt2RyxXQUVsRndCLEVBQU9LLEVBQWVMLEVBQU0sV0FBWTFDLEVBQUdnQixXQUFXQyxTQUFTQyxZQUMvRHdCLEVBQU9LLEVBQWVMLEVBQU0sT0FBUTFDLEVBQUdnQixXQUFXSSxLQUFLRixZQUN2RHdCLEVBQU9LLEVBQWVMLEVBQU0sYUFBYytFLEVBQUt2RyxZQUtuRHdCLEVBQU9LLEVBQWVMLEVBQU0sYUFBY3hCLEdBQzFDd0IsRUFBT0ssRUFBZUwsRUFBTSxPQUFRdkIsR0FDcEN1QixFQUFPSyxFQUFlTCxFQUFNLGNBQWVnRixHQUUzQ0gsR0FBYTdFLElBR2Y2RSxHQUFhLHFCQU1mWCxFQUFLRCxnQkFBa0IsV0FDckIsR0FBSVUsR0FBVVQsRUFBS1EsZUFDZlMsRUFBUWpCLEVBQUtVLGFBRWJyQyxFQUFZMkIsRUFBS0csU0FBVywwQkFBNEJNLEVBQVUsU0FBV1EsRUE3RzVELFlBOEdSLFlBQVRmLEVBQ0Y3RyxFQUFFeUcsR0FBYW9CLE9BQU83QyxHQUV0QmhGLEVBQUV5RyxHQUFhaEUsS0FBS3VDLElBSWpCMkIsRUFJVDVHLEdBQUcrSCx1QkFBeUIsV0FFMUJ2RyxFQUFTVSxnQkFBZ0J5QixLQUFLLFNBQVVrQyxHQUV0Q3JFLEVBQVNZLG1CQUFtQnVCLEtBQUssU0FBVXFFLEdBRXpDeEcsRUFBU08sVUFBVTRCLEtBQUssU0FBVW1DLEdBRWhDLEdBQUltQyxHQUFvQjVCLEdBQ3RCbEYsS0FBTSxXQUNObUYsWUFBYSw2QkFDYkMsUUFBUyxnQkFDVEMsTUFBT1gsRUFDUFksS0FBTSxXQUNOWCxTQUFVQSxFQUNWWSxZQUFhLFFBQ2JJLEtBQU0sV0FFSm9CLEVBQWU3QixHQUNqQmxGLEtBQU0sUUFDTjBGLFVBQVcsZUFDWFAsWUFBYSwyQkFDYkMsUUFBUyxlQUNUQyxNQUFPd0IsRUFDUHZCLEtBQU0sUUFDTlgsU0FBVUEsRUFDVlksWUFBYSxRQUNiSSxLQUFNLFVBRVJtQixHQUFrQnRCLGtCQUNsQnVCLEVBQWF2Qix5QkFNckIzRyxFQUFHbUksZ0JBQWtCLFdBQ25CM0csRUFBU0ssYUFBYThCLEtBQUssU0FBVWxELEdBQ25DVCxFQUFHRSxPQUFPQyxNQUFNdUMsS0FBS2pDLEdBQ3JCVCxFQUFHK0gsNEJBR1AvSCxFQUFHb0ksZ0JBQWtCLFdBQ25CNUcsRUFBU0ksYUFBYStCLEtBQUssU0FBVTBFLEdBQ25DckksRUFBR0UsT0FBT0MsTUFBTXVDLEtBQUsyRixLQThEekIsSUFBSUMsR0FBaUIsU0FBd0JDLEdBWTNDLEdBQUkzQixHQUFPUCxFQUFnQmtDLEVBMEMzQixjQXZDT0EsR0FBT3BILFdBQ1BvSCxHQUFPekIsS0FFZEYsRUFBSzRCLGNBQWdCLHlCQUEyQnhJLEVBQUdnQixXQUFXQyxTQUFTRSxLQUFPLFVBQzlFeUYsRUFBSzZCLFVBQVkseUJBQTJCekksRUFBR2dCLFdBQVdJLEtBQUtELEtBQU8sVUFDdEV5RixFQUFLOEIsZ0JBQWtCLHlCQUEyQjFJLEVBQUdnQixXQUFXSyxXQUFXRixLQUFPLFVBR2xGeUYsRUFBSytCLHFCQUNIQyxLQUFNLHdIQUNOQyxTQUFVLHdJQUNWQyxhQUFjLDJJQUNkQyxPQUFRLDZKQUNSQyxRQUFTLDZEQUNUbEksS0FDRW1JLFdBQVksbUJBQ1pDLE9BQVEsZ0JBRVZDLGVBQ0VDLGlCQUFrQixLQUl0QnhDLEVBQUt5QyxhQUFlLGlmQUVwQnpDLEVBQUt3QyxpQkFBbUJ4QyxFQUFLK0Isb0JBQW9CSSxPQUFTLGVBQWlCbkMsRUFBSytCLG9CQUFvQkssUUFBVSx3RkFBK0ZwQyxFQUFLK0Isb0JBQW9CSSxPQUFTLGtCQUFvQm5DLEVBQUsrQixvQkFBb0JLLFFBQVUsd0ZBR3RTcEMsRUFBSzBDLGlCQUFtQixhQUV4QjFDLEVBQUtELGdCQUFrQixXQUNyQixHQUFJM0YsR0FBYTRGLEVBQUswQyxtQkFDbEJqQyxFQUFVVCxFQUFLUSxlQUNmUyxFQUFRakIsRUFBS1UsYUFDYnJDLEVBQVkyQixFQUFLRyxTQUFXLDBCQUE0Qi9GLEVBQWFxRyxFQUFVLFNBQVdRLEVBQVFqQixFQUFLTSxnQkFFM0dqSCxHQUFFc0ksRUFBTzdCLGFBQWFoRSxLQUFLdUMsSUFHdEIyQixHQUlMMkMsRUFBeUIsU0FBZ0NoQixHQUMzRCxHQUFJM0IsR0FBTzBCLEVBQWVDLEVBRzFCM0IsR0FBS08sTUFBUVAsRUFBSzRCLGFBRWxCLElBQUlnQixHQUFhNUMsRUFBSytCLG9CQUFvQkcsYUFBZWxDLEVBQUsrQixvQkFBb0I3SCxJQUFJbUksV0FBYXJDLEVBQUtPLE1BQVEsWUFVaEgsT0FSQVAsR0FBSzBDLGlCQUFtQixXQUN0QixHQUFJckUsR0FBWTJCLEVBQUsrQixvQkFBb0JDLEtBQU9oQyxFQUFLd0MsZ0JBSXJELE9BRkFuRSxJQUFhdUUsR0FLUjVDLEVBR1Q1RyxHQUFHeUosNEJBQThCLFdBRS9CakksRUFBU1ksbUJBQW1CdUIsS0FBSyxTQUFVcUUsR0FDekN4RyxFQUFTTyxVQUFVNEIsS0FBSyxTQUFVbUMsR0FFaEMsR0FBSTRELEtBR0oxQixHQUFNOUIsUUFBUSxTQUFVOUUsR0FFdEJBLEVBQUt5RSxXQUFXSyxRQUFRLFNBQVV5RCxHQUM1QkEsR0FBTzNKLEVBQUdnQixXQUFXQyxTQUFTQyxZQUNoQ3dJLEVBQVd0RCxLQUFLaEYsT0FNUG1JLEdBQ2JoRCxRQUFTLFdBQ1RDLE1BQU9rRCxFQUNQMUMsV0FBWSxrQkFDWlAsS0FBTSxPQUNOWCxTQUFVQSxFQUNWWSxZQUFhLFVBR05DLHNCQU1mLElBQUlpRCxHQUFlLFNBQXNCckIsR0FDdkMsR0FBSTNCLEdBQU8wQixFQUFlQyxFQUUxQjNCLEdBQUtPLE1BQVFQLEVBQUs0QixhQUVsQixJQUFJcUIsR0FBaUJqRCxFQUFLK0Isb0JBQW9CSSxPQUFTbkMsRUFBSytCLG9CQUFvQjdILElBQUlvSSxPQUFTdEMsRUFBSytCLG9CQUFvQkssUUFBVXBDLEVBQUs2QixVQUFZLCtDQUFpRDdCLEVBQUsrQixvQkFBb0JHLGFBQWVsQyxFQUFLK0Isb0JBQW9CN0gsSUFBSW1JLFdBQWFyQyxFQUFLTyxNQUFRLG9EQVVqUyxPQVJBUCxHQUFLMEMsaUJBQW1CLFdBQ3RCLEdBQUlyRSxHQUFZMkIsRUFBSytCLG9CQUFvQkMsS0FBT2hDLEVBQUt3QyxnQkFJckQsT0FGQW5FLElBQWE0RSxHQUtSakQsRUFHVDVHLEdBQUc4Six3QkFBMEIsV0FFM0J0SSxFQUFTWSxtQkFBbUJ1QixLQUFLLFNBQVVrQyxHQUV6Q3JFLEVBQVNPLFVBQVU0QixLQUFLLFNBQVVtQyxHQUVoQyxHQUFJaUUsS0FFSmxFLEdBQVdLLFFBQVEsU0FBVTBELEdBQ3ZCQSxFQUFhMUksWUFBY2xCLEVBQUdnQixXQUFXSSxLQUFLRixhQUVoRDZJLEVBQWNILEVBQWFHLFlBQVlDLE9BQU8sU0FBVTNJLEdBQ3RELE1BQU9BLEdBQVdKLFdBQWFqQixFQUFHZ0IsV0FBV0MsU0FBU0MsZ0JBSzdDMEksR0FDYkssV0FBWSx3QkFDWjFELFFBQVMsc0JBQ1RDLE1BQU91RCxFQUNQL0MsV0FBWSxrQkFDWlAsS0FBTSxhQUNOWCxTQUFVQSxFQUNWWSxZQUFhLFVBRU5DLHVCQUtmM0csRUFBRzBGLGNBQWdCLFdBQ2pCekYsRUFBRSxhQUFhaUssS0FBSyxxQkFTdEIsSUFBSUMsR0FBYyxTQUFxQjVCLEdBQ3JDLEdBQUkzQixHQUFPMEIsRUFBZUMsRUFFMUIzQixHQUFLTyxNQUFRLHlCQUEyQlAsRUFBSzZCLFVBQVksU0FFekQsSUFBSVMsR0FBU3RDLEVBQUsrQixvQkFBb0JHLGFBQWVsQyxFQUFLK0Isb0JBQW9CN0gsSUFBSW9JLE9BQVN0QyxFQUFLTyxNQUFRLG9EQVV4RyxPQVJBUCxHQUFLMEMsaUJBQW1CLFdBQ3RCLEdBQUlyRSxHQUFZMkIsRUFBSytCLG9CQUFvQkUsU0FBV2pDLEVBQUt3QyxnQkFJekQsT0FGQW5FLElBQWFpRSxHQUtSdEMsRUFJVDVHLEdBQUdvSyxxQkFBdUIsV0FFeEI1SSxFQUFTVSxnQkFBZ0J5QixLQUFLLFNBQVVrQyxHQUN0Q3JFLEVBQVNZLG1CQUFtQnVCLEtBQUssU0FBVXFFLEdBRXpDeEcsRUFBU08sVUFBVTRCLEtBQUssU0FBVW1DLEdBQ2hDLEdBQ0kxRSxHQURBNkUsSUFJSitCLEdBQU05QixRQUFRLFNBQVU5RSxHQUNsQkEsRUFBS0YsWUFBY2xCLEVBQUdnQixXQUFXSSxLQUFLRixZQUd4Q0UsRUFBS3lFLFdBQVdLLFFBQVEsU0FBVUMsR0FFaENOLEVBQVdLLFFBQVEsU0FBVWpGLEdBQ3ZCQSxFQUFTQyxZQUFjaUYsR0FDekJGLEVBQWlCRyxLQUFLbkYsU0FPaENHLEVBQU8rSSxHQUNMdEQsVUFBVyxlQUNYUCxZQUFhLHlCQUNiQyxRQUFTLGlCQUNUQyxNQUFPUCxFQUNQUSxLQUFNLFdBQ05YLFNBQVVBLEVBQ1ZZLFlBQWEsVUFHZnRGLEVBQUt1Rix3QkFPYixJQUFJMEQsR0FBZSxTQUFzQjlCLEdBQ3ZDLEdBQUkzQixHQUFPMEIsRUFBZUMsRUFFMUIzQixHQUFLTyxNQUFRLHlCQUEyQlAsRUFBSzZCLFVBQVksU0FFekQsSUFBSTZCLEdBQWlCMUQsRUFBSytCLG9CQUFvQkksT0FBU25DLEVBQUsrQixvQkFBb0I3SCxJQUFJbUksV0FBYXJDLEVBQUsrQixvQkFBb0JLLFFBQVUseUJBQTJCcEMsRUFBSzRCLGNBQWdCLDJEQUFrRTVCLEVBQUsrQixvQkFBb0JHLGFBQWVsQyxFQUFLK0Isb0JBQW9CN0gsSUFBSW9JLE9BQVN0QyxFQUFLTyxNQUFRLG9EQVVqVixPQVJBUCxHQUFLMEMsaUJBQW1CLFdBQ3RCLEdBQUlyRSxHQUFZMkIsRUFBSytCLG9CQUFvQkUsU0FBV2pDLEVBQUt3QyxnQkFJekQsT0FGQW5FLElBQWFxRixHQUtSMUQsRUFHVDVHLEdBQUd1SyxxQkFBdUIsV0FDeEIvSSxFQUFTWSxtQkFBbUJ1QixLQUFLLFNBQVVxRSxHQUN6Q3hHLEVBQVNPLFVBQVU0QixLQUFLLFNBQVVtQyxHQUNoQyxHQUNJMUUsR0FEQXNJLElBR0oxQixHQUFNUixJQUFJLFNBQVVwRyxHQUNkQSxFQUFLRixZQUFjbEIsRUFBR2dCLFdBQVdJLEtBQUtGLFlBRXhDRSxFQUFLMkksWUFBWXZDLElBQUksU0FBVW5HLEdBQzdCcUksRUFBV3RELEtBQUsvRSxPQUt0QkQsRUFBT2lKLEdBQ0x4RCxVQUFXLGVBQ1hQLFlBQWEseUJBQ2JDLFFBQVMsT0FDVEMsTUFBT2tELEVBQ1BqRCxLQUFNLGFBQ05YLFNBQVVBLEVBQ1ZZLFlBQWEsVUFHZnRGLEVBQUt1RixzQkFLWCxJQUFJNkQsR0FBbUIsU0FBMEJqQyxHQVMvQyxHQUFJM0IsR0FBTzBCLEVBQWVDLEVBMEUxQixjQXZFTzNCLEdBQUtVLGlCQUNMaUIsR0FBT3pDLGVBQ1B5QyxHQUFPOUIsV0FDUDhCLEdBQU92QixXQUdkSixFQUFLNkQsYUFBZSxXQUVsQixHQUFJQyxHQUFhbkMsRUFBT21DLFdBR3hCaEIsRUFBYW5CLEVBQU8vQixNQUloQm1FLEVBQU0sK0JBQ05DLEVBQUssMkNBRUxyRCxFQUpLLHdOQUlnQm9ELEVBMytCYiwwQkEyK0IrQkMsRUFDdkNDLEVBQVlqRSxFQUFLeUMsYUFLckJ5QixFQUFvQjlLLEVBQUdnQixXQUFXQyxTQUFTQyxXQUN2QzZKLEVBQWdCL0ssRUFBR2dCLFdBQVdJLEtBQUtGLFdBQ25DOEosRUFBc0JoTCxFQUFHZ0IsV0FBV0ssV0FBV0gsV0FHbkQrSixFQUFVLENBNkJWLE9BM0JBdkIsR0FBV3hELFFBQVEsU0FBVXVCLEVBQU15RCxHQUU3QkEsSUFBTUQsR0FBV0MsSUFBTXhCLEVBQVd5QixTQUdwQzVELEdBQWEsb0JBQXNCb0QsRUE3L0IzQiwwQkE2L0I2Q0MsRUFDckRLLEdBQVcsRUFHYixJQUFJdkksR0FBT2dJLEVBQ1B2SixFQUFPLEdBQUtzRyxFQUFLdEcsS0FDakJ1RyxFQUFjRCxFQUFLQyxZQUNuQjBELEVBQVMzRCxFQUFLNEQsR0FHbEIzSSxHQUFPSyxFQUFlTCxFQUFNLGFBRlhvSSxFQUFvQixJQUFNQyxFQUFnQixJQUFNQyxFQUFzQixJQUFNSSxHQUc3RjFJLEVBQU9LLEVBQWVMLEVBQU0sT0FBUXZCLEdBQ3BDdUIsRUFBT0ssRUFBZUwsRUFBTSxjQUFlZ0YsR0FDM0NoRixFQUFPSyxFQUFlTCxFQUFNLFNBQVUwSSxHQUV0QzdELEdBQWE3RSxJQUdmNkUsR0FBYSxzQ0FFYkEsR0FBYXNELEdBS2ZqRSxFQUFLRCxnQkFBa0IsV0FDckIsR0FBSTNGLEdBQWE0RixFQUFLMEMsbUJBQ2xCakMsRUFBVVQsRUFBS1EsZUFDZlMsRUFBUWpCLEVBQUs2RCxlQUVieEYsRUFBWTJCLEVBQUtHLFNBQVcsMEJBQTRCL0YsRUFBYXFHLEVBQVUsU0FBV1EsRUFBUWpCLEVBQUtNLGdCQUUzR2pILEdBQUVzSSxFQUFPN0IsYUFBYWhFLEtBQUt1QyxJQUd0QjJCLEdBSUwwRSxFQUEyQixTQUFrQy9DLEdBQy9ELEdBQUkzQixHQUFPNEQsRUFBaUJqQyxFQUU1QjNCLEdBQUtPLE1BQVFQLEVBQUs4QixlQUVsQixJQUFJNkMsR0FBMkIzRSxFQUFLK0Isb0JBQW9CSSxPQUFTbkMsRUFBSytCLG9CQUFvQjdILElBQUlvSSxPQUFTdEMsRUFBSytCLG9CQUFvQkssUUFBVXBDLEVBQUs2QixVQUFZLG9EQUFzRDdCLEVBQUsrQixvQkFBb0JJLE9BQVNuQyxFQUFLK0Isb0JBQW9CN0gsSUFBSW1JLFdBQWFyQyxFQUFLK0Isb0JBQW9CSyxRQUFVcEMsRUFBSzRCLGNBQWdCLG9EQUFzRDVCLEVBQUsrQixvQkFBb0JHLGFBQWUsSUFBTWxDLEVBQUtPLE1BQVEsb0RBVXRjLE9BUkFQLEdBQUswQyxpQkFBbUIsV0FDdEIsR0FBSXJFLEdBQVkyQixFQUFLK0Isb0JBQW9CQyxLQUFPaEMsRUFBS3dDLGdCQUlyRCxPQUZBbkUsSUFBYXNHLEdBS1IzRSxHQUdMNEUsRUFBaUIsU0FBd0JqRCxHQUMzQyxHQUFJM0IsR0FBTzRELEVBQWlCakMsRUFFNUIzQixHQUFLTyxNQUFRUCxFQUFLOEIsZUFFbEIsSUFBSStDLEdBQTJCN0UsRUFBSytCLG9CQUFvQkksT0FBU25DLEVBQUsrQixvQkFBb0I3SCxJQUFJbUksV0FBYXJDLEVBQUsrQixvQkFBb0JLLFFBQVVwQyxFQUFLNEIsY0FBZ0Isb0RBQXNENUIsRUFBSytCLG9CQUFvQkksT0FBU25DLEVBQUsrQixvQkFBb0I3SCxJQUFJb0ksT0FBU3RDLEVBQUsrQixvQkFBb0JLLFFBQVVwQyxFQUFLNkIsVUFBWSxvREFBc0Q3QixFQUFLK0Isb0JBQW9CRyxhQUFlLElBQU1sQyxFQUFLTyxNQUFRLG9EQVV0YyxPQVJBUCxHQUFLMEMsaUJBQW1CLFdBQ3RCLEdBQUlyRSxHQUFZMkIsRUFBSytCLG9CQUFvQkMsS0FBT2hDLEVBQUt3QyxnQkFJckQsT0FGQW5FLElBQWF3RyxHQUtSN0UsRUFNVDVHLEdBQUcwTCwyQkFBNkIsU0FBVWpGLEdBRXhDakYsRUFBU1MsWUFBWTBCLEtBQUssU0FBVStHLEdBRWxDbEosRUFBU2MscUJBQXFCcUIsS0FBSyxTQUFVb0csR0FFM0MsR0FNQTFJLEdBTklzSyxFQUFpQjVCLEVBQVksR0FBRy9KLEVBQUdnQixXQUFXSyxXQUFXSCxZQUc3RDBLLEVBQVVELEVBQWVDLFFBSXJCQyxFQUFjLFNBQVRwRixFQUFrQixpQkFBbUIseUJBQzFDOEIsR0FDRmpDLFlBQWEsMEJBQ2JDLFFBQVNzRixFQUNUckYsTUFBT29GLEVBQ1BsQixXQUFZQSxFQUNaaEUsWUFBYSxRQUdmMUcsR0FBR2dCLFdBQVdDLFNBQVNDLFdBQWF5SyxFQUFlMUssU0FBU0MsV0FDNURsQixFQUFHZ0IsV0FBV0ksS0FBS0YsV0FBYXlLLEVBQWV2SyxLQUFLRixXQUNwRGxCLEVBQUdnQixXQUFXQyxTQUFTRSxLQUFPd0ssRUFBZTFLLFNBQVNFLEtBQ3REbkIsRUFBR2dCLFdBQVdJLEtBQUtELEtBQU93SyxFQUFldkssS0FBS0QsS0FHNUNFLEVBRFUsUUFBUm9GLEVBQ1crRSxFQUFlakQsR0FFZitDLEVBQXlCL0MsR0FHeENsSCxFQUFXc0Ysa0JBR1gxRyxFQUFFLHNCQUFzQmlGLE9BQ3RCQyxNQUFNLEVBQ05HLGFBQ0VDLFdBQVksSUFDWkMsVUFDRUMsUUFBUSxPQU1keEYsRUFBRSxnQ0FBZ0M2TCxlQUNoQ0MsU0FBVSxJQUNWQyxLQUFNLFFBQ05DLFNBQ0VDLFNBQVMsVUFnSG5Cbk0sRUFBT29NLElBQU1uTSxHQUNacUUsUUFHSHBFLEVBQUUsV0FDQUEsRUFBRW1NLFVBQVVDLEdBQUcsUUFBUyx1Q0FBd0MsV0FDOUQsR0FBSTVILEdBQVF4RSxFQUFFeUUsS0FLZCxPQUpBekUsR0FBRSxjQUFjMEUsT0FBT0MsU0FDckIwSCxVQUFXck0sRUFBRXdFLEVBQU04SCxLQUFLLFNBQVNDLFNBQVNDLEtBQ3pDLEtBQU0sa0JBRUYsSUFvRFROLElBQUlqTSxPQUFPRSxRQUFRc00sT0FFbkJ6TSxFQUFFb0UsUUFBUXNJLE9BQU8sV0FDWDFNLEVBQUV5RSxNQUFNNEgsWUFBYyxJQUN4QkgsSUFBSWpNLE9BQU9FLFFBQVF3TSxRQUFRLEtBRTNCVCxJQUFJak0sT0FBT0UsUUFBUXlNLE9BQU8sTUFnQjlCLElBQUloSCxHQUFhLEdBQUlpSCxhQUNuQkMsZUFBZ0JELFdBQVdFLFdBQVdDLElBQUlDLFdBQVcsUUFDckRDLGVBQWdCTCxXQUFXRSxXQUFXRSxXQUN0Q0UsT0FBUSxvQ0FHTnBGLEVBQVEsR0FBSThFLGFBQ2RDLGVBQWdCRCxXQUFXRSxXQUFXQyxJQUFJQyxXQUFXLFFBQ3JEQyxlQUFnQkwsV0FBV0UsV0FBV0UsV0FDdENFLE9BQVEsK0JBYU5yRCxFQUFjLEdBQUkrQyxhQUNwQkMsZUFBZ0JELFdBQVdFLFdBQVdDLElBQUlDLFdBQVcsUUFDckRDLGVBQWdCTCxXQUFXRSxXQUFXRSxXQUN0Q0UsT0FBUSxvQ0FHVm5OLEdBQUUsc0JBQXNCb04sV0FDdEJDLFdBQVcsRUFDWEMsVUFBVyxJQUVYcE0sS0FBTSxhQUNOcU0sUUFBUyxPQUNUQyxPQUFRNUgsRUFDUjZILFdBQ0VDLE9BQVEsK0VBRVZDLE1BQU8sS0FFUHpNLEtBQU0sY0FDTnFNLFFBQVMsT0FDVEMsT0FBUTFELEVBQ1IyRCxXQUNFQyxPQUFRLGdGQUVWQyxNQUFPLEtBRVB6TSxLQUFNLFFBQ05xTSxRQUFTLE9BQ1RDLE9BQVF6RixFQUNSMEYsV0FDRUMsT0FBUSxzRUFFVkMsTUFBTyxLQUVUM04sRUFBRSxpQkFBaUIrRCxNQUFNLFNBQVVDLEdBQ2pDaEUsRUFBRWdFLEVBQU1DLFFBQVFDLFVBR2xCbEUsRUFBRSxpQkFBaUJtRSxLQUFLLFNBQVVILEdBQ2RJLE9BQU9DLFdBQ1AsS0FDaEJyRSxFQUFFLGdCQUFnQnNFLFNBQVMsVUFHL0J0RSxFQUFFLHNCQUFzQm9NLEdBQUcsUUFBUyxXQUNsQyxHQUFJd0IsR0FBTTVOLEVBQUV5RSxNQUFNNkgsS0FBSyxPQUl2QixPQUZBbEksUUFBT3lKLEtBQUtELElBRUwsSUFHVDVOLEVBQUUsYUFBYXVFLE1BQU0sV0FDZGpCLFVBQVV3SyxnQkFBZ0I5TixFQUFFeUUsTUFBTUMsT0FBT0MsU0FDNUNvSixNQUFPLFdBQ04sTUFDRixXQUNJekssVUFBVXdLLGdCQUFnQjlOLEVBQUV5RSxNQUFNQyxPQUFPQyxTQUM1Q29KLE1BQU8sV0FDTixPQUtML04sRUFBRSxzQkFBc0JpRixPQUN0QkMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZDLGNBQWUsS0FDZkMsYUFDRUMsV0FBWSxJQUNaQyxVQUNFQyxRQUFRLE9BaUJkeEYsRUFBRW1NLFVBQVVDLEdBQUcsUUFBUyx1Q0FBd0MsU0FBVTRCLEdBQ3hFLEdBQUl4SixHQUFReEUsRUFBRXlFLEtBQ2R6RSxHQUFFLGNBQWMwRSxPQUFPQyxTQUNyQjBILFVBQVdyTSxFQUFFd0UsRUFBTThILEtBQUssU0FBU0MsU0FBU0MsS0FDekMsS0FBTSxpQkFDVHdCLEVBQUVDLG1CQW9DSmpPLEVBQUVtTSxVQUFVQyxHQUFHLHVCQUF3QiwyQkFBNEIsU0FBVTRCLEdBQzNFaE8sRUFBRXlFLE1BQU15SixZQUFZLG1DQUFvQ2xPLEVBQUVnTyxFQUFFL0osUUFBUWtLLE1BRXBFLElBQUlDLEdBQWFwTyxFQUFFLFlBQ2ZxTyxFQUFNRCxFQUFXRCxLQUdyQkUsR0FBTUEsRUFBSUMsY0FBY3ZJLE1BQU0sS0FBS3dCLElBQUksU0FBVWdILEdBQy9DLE1BQU9BLEdBQUtwTCxRQUFRb0wsRUFBS0MsT0FBTyxHQUFJRCxFQUFLQyxPQUFPLEdBQUdDLGlCQUNsREMsS0FBSyxLQUVSTixFQUFXRCxJQUFJRSxLQUNkakMsR0FBRyxRQUFTLDJCQUE0QixXQUN6Q3BNLEVBQUV5RSxNQUFNNUIsU0FBUyxxQ0FDaEJ1SixHQUFHLE9BQVEsMkJBQTRCLFdBQ3hDcE0sRUFBRXlFLE1BQU03QixZQUFZLG9DQUd0QixJQUFJK0wsSUFBVyxZQUFhLFVBQVcsWUFBYSxVQUFXLFlBQWEsV0FDeEVDLEdBQW1CLE1BQU8sTUFBTyxNQUFPLEtBQU0sS0FHbEQ1TyxHQUFFbU0sVUFBVUMsR0FBRyxPQUFRLFlBQWEsV0FDbENwTSxFQUFFeUUsTUFBTW9LLFdBQ05GLFFBQVNBLEVBQ1RDLGdCQUFpQkEsRUFDakJFLFVBQVcsU0FBbUJDLEVBQVNDLEdBQ3JDaFAsRUFBRSxXQUFXeUMsS0FBSyxtQ0FBcUN1TSxFQUFXQyxLQUFPLGNBRTNFQyxNQUFPLFNBQWVILEdBQ3BCL08sRUFBRSxXQUFXeUMsS0FBSyxTQUt4QnpDLEVBQUUsYUFBYWlLLEtBQUsscUJBZXBCakssRUFBRSxtQkFBbUJpRixPQUNuQkMsTUFBTSxFQUNOQyxVQUFVLEVBQ1ZDLGNBQWUsS0FDZkMsYUFDRUMsV0FBWSxJQUNaQyxVQUNFQyxRQUFRLE9BNERkeEYsRUFBRSxzQkFBc0JpRixPQUN0QkMsTUFBTSxFQUNORyxhQUNFQyxXQUFZLElBQ1pDLFVBQ0VDLFFBQVEsT0FNZHhGLEVBQUUsZ0NBQWdDNkwsZUFDaENDLFNBQVUsSUFDVkMsS0FBTSxRQUNOQyxTQUNFQyxTQUFTLEtBa0Niak0sRUFBRW1NLFVBQVVDLEdBQUcsWUFBYSxRQUFTLFdBQzlCOUksVUFBVXdLLGdCQUNiOU4sRUFBRXlFLE1BQU05QixLQUFLLDRDQUE0QytCLE9BQU9DLFNBQzlEd0ssT0FBUSxNQUNSQyxrQkFBbUIsRUFDbkJDLFVBQVcsK0JBQ1hDLFFBQVMsTUFDUixPQUlQdFAsRUFBRW1NLFVBQVVDLEdBQUcsV0FBWSxRQUFTLFdBQzdCOUksVUFBVXdLLGdCQUNiOU4sRUFBRXlFLE1BQU05QixLQUFLLDRDQUE0QytCLE9BQU9DLFNBQzlEd0ssT0FBUSxFQUNSQyxrQkFBbUIsRUFDbkJDLFVBQVcsRUFDWEMsUUFBUyxHQUNSLE9BR1B0UCxFQUFFbU0sVUFBVUMsR0FBRyxZQUFhLG1CQUFvQixXQUN6QzlJLFVBQVV3SyxnQkFDYjlOLEVBQUV5RSxNQUFNOUIsS0FBSyw2QkFBNkIrQixPQUFPQyxTQUMvQzRLLE1BQU8sTUFDUHhCLE1BQU8sVUFDUHVCLFFBQVMsTUFDUixPQUVKbEQsR0FBRyxXQUFZLG1CQUFvQixXQUMvQjlJLFVBQVV3SyxnQkFDYjlOLEVBQUV5RSxNQUFNOUIsS0FBSyw2QkFBNkIrQixPQUFPQyxTQUMvQzRLLE1BQU8sRUFDUHhCLE1BQU8sY0FDUHVCLFFBQVMsR0FDUixPQUdQdFAsRUFBRSxvQkFBb0IyTSxVQUN0QjNNLEVBQUUsWUFBWXdQLE1BQU0sS0FBSzdDLFFBQVEsS0FFakNULElBQUk3SSw0QkFFSnJELEVBQUUsMEJBQTBCdUUsTUFBTSxXQUMzQmpCLFVBQVV3SyxnQkFDYjlOLEVBQUV5RSxNQUFNQyxPQUFPQyxTQUNiOEssZ0JBQWlCLFdBQ2hCLE1BRUosV0FDSW5NLFVBQVV3SyxnQkFDYjlOLEVBQUV5RSxNQUFNQyxPQUFPQyxTQUNiOEssZ0JBQWlCLFdBQ2hCLE9BSVB6UCxFQUFFLFdBQVcwUCxVQUFVLFdBQ2hCcE0sVUFBVXdLLGdCQUNiOU4sRUFBRXlFLE1BQU1DLE9BQU9DLFNBQ2I4SyxnQkFBaUIsV0FDaEIsT0FFSkUsU0FBUyxXQUNMck0sVUFBVXdLLGdCQUNiOU4sRUFBRXlFLE1BQU1DLE9BQU9DLFNBQ2I4SyxnQkFBaUIsZUFDaEIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuICB2YXIgc3QgPSB7fTtcblxuICAvLyDQktGL0LHQvtGA0LrQuFxuICB2YXIgJG1haW4gPSAkKCcjbWFpbicpO1xuXG4gIHN0LnNlbGVjdCA9IHtcbiAgICAkbWFpbjogJCgnI21haW4nKSxcbiAgICAkYnRuVG9wOiAkKCcjYnRuVG9wJylcbiAgfTtcblxuICAvLyDQp9Cw0YHRgtC+0LjRgdC/0L7Qu9GM0LfRg9C10LzRi9C1INGN0LvQtdC80LXQvdGC0YtcbiAgdmFyIGNvbnRhaW5lciA9ICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+JztcbiAgc3QuZWxlbWVudHMgPSB7XG4gICAgY29udGFpbmVyOiAnPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPidcbiAgfTtcblxuICAvLyDQndCw0LLQuNCz0LDRhtC40L7QvdC90YvQtSDQuNC90LTQuNGE0LjQutCw0YLQvtGA0YtcbiAgc3QubmF2ID0ge1xuICAgIGhvbWU6ICcjaG9tZScsXG4gICAgY2F0YWxvZzogJyNjYXRhbG9nJyxcbiAgICBjb250YWN0czogJyNjb250YWN0cycsXG4gICAgc2VydmljZTogJyNzZXJ2aWNlJyxcbiAgICBwcm9qZWN0czogJyNwcm9qZWN0cycsXG4gICAgYnRuVXA6ICcjYnRuVG9wJ1xuICB9O1xuICAvLyDQmNC90LTQuNGE0LjQutCw0YLQvtGA0YtcbiAgc3QuaWRzID0ge1xuICAgIG1haW46ICcjbWFpbicsXG4gICAgYnJlYWRjcnVtYjoge1xuICAgICAgaG9tZTogJyNiY0hvbWUnLFxuICAgICAgY2F0YWxvZzogJyNiY0NhdGFsb2cnLFxuICAgICAgcHJvamVjdHM6ICcjYmNQcm9qZWN0cydcbiAgICB9XG4gIH07XG4gIC8vINCd0LDQstC40LPQsNGG0LjQvtC90L3QvtC1INC60Y3RiNC40YDQvtCy0LDQvdC40LUuXG4gIHN0LmJyZWFkY3J1bWIgPSB7XG4gICAgY2F0ZWdvcnk6IHtcbiAgICAgIHNob3J0X25hbWU6IFwiXCIsXG4gICAgICBuYW1lOiBcIlwiXG4gICAgfSxcbiAgICBmaXJtOiB7XG4gICAgICBzaG9ydF9uYW1lOiBcIlwiLFxuICAgICAgbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29sbGVjdGlvbjoge1xuICAgICAgc2hvcnRfbmFtZTogXCJcIixcbiAgICAgIG5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHByb2plY3Q6IHtcbiAgICAgIHNob3J0X25hbWU6IFwiXCIsXG4gICAgICBuYW1lOiBcIlwiLFxuICAgICAgYW1vdW50SW1nczogMFxuICAgIH1cbiAgfTtcblxuICAvLyDQl9Cw0L/RgNC+0YHQuNC60LguXG4gIHZhciBzbWFydEFwcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyDQn9GD0YLQuCDQuiDRiNCw0LHQu9C+0L3QsNC8IFxuICAgIHZhciBob21lSHRtbCA9IFwiL21lZGlhL3NtYXJ0dGlsZXMvc25pcHBldHMvaG9tZS1zbmlwcGV0L2hvbWUtc25pcHBldC5odG1sXCIsXG4gICAgICAgIGNvbnRhY3RzSHRtbCA9IFwiL21lZGlhL3NtYXJ0dGlsZXMvc25pcHBldHMvY29udGFjdHMtc25pcHBldC9jb250YWN0cy1zbmlwcGV0Lmh0bWxcIixcbiAgICAgICAgY2F0YWxvZ0h0bWwgPSBcIi9tZWRpYS9zbWFydHRpbGVzL3NuaXBwZXRzL2NhdGFsb2ctc25pcHBldC9jYXRhbG9nLXNuaXBwZXQuaHRtbFwiLFxuICAgICAgICBzZXJ2aWNlSHRtbCA9IFwiL21lZGlhL3NtYXJ0dGlsZXMvc25pcHBldHMvc2VydmljZS1zbmlwcGV0L3NlcnZpY2Utc25pcHBldC5odG1sXCIsXG4gICAgICAgIGNvbGxlY3Rpb25IdG1sID0gXCIvbWVkaWEvc21hcnR0aWxlcy9zbmlwcGV0cy9jb2xsZWN0aW9uLXNuaXBwZXQvL2NvbGxlY3Rpb24tc25pcHBldC5odG1sXCIsXG4gICAgICAgIGNhdGFsb2dDYXRlZ29yaWVzID0gXCIvbWVkaWEvc21hcnR0aWxlcy9kYXRhL2NhdGVnb3JpZXMuanNvblwiLFxuICAgICAgICBmaXJtSXRlbXMgPSBcIi9tZWRpYS9zbWFydHRpbGVzL2RhdGEvZmlybXMuanNvblwiLFxuICAgICAgICBhbGxDb2xsZWN0aW9ucyA9IFwiL21lZGlhL3NtYXJ0dGlsZXMvZGF0YS9hbGxDb2xsZWN0aW9ucy5qc29uXCIsXG4gICAgICAgIGNvbGxlY3Rpb25JdGVtcyA9IFwiL21lZGlhL3NtYXJ0dGlsZXMvZGF0YS9zYW1wbGVzLmpzb25cIixcbiAgICAgICAgcHJvamVjdHMgPSBcIi9tZWRpYS9zbWFydHRpbGVzL2RhdGEvcHJvamVjdHMuanNvblwiLFxuICAgICAgICB0aWxlSHRtbCA9IFwiL21lZGlhL3NtYXJ0dGlsZXMvc25pcHBldHMvdGlsZS1zbmlwcGV0L3RpbGUtc25pcHBldC5odG1sXCIsXG4gICAgICAgIHByb2plY3RUaWxlSHRtbCA9IFwiL21lZGlhL3NtYXJ0dGlsZXMvc25pcHBldHMvcHJvamVjdC1zbmlwcGV0L3Byb2plY3Qtc25pcHBldC5odG1sXCIsXG4gICAgICAgIHNhbXBsZUh0bWwgPSBcIi9tZWRpYS9zbWFydHRpbGVzL3NuaXBwZXRzL3NhbXBsZS1zbmlwcGV0L3NhbXBsZS1zbmlwcGV0Lmh0bWxcIjtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRIb21lUGF0dGVybjogZnVuY3Rpb24gZ2V0SG9tZVBhdHRlcm4oKSB7XG4gICAgICAgIHJldHVybiAkLmdldChob21lSHRtbCk7XG4gICAgICB9LFxuXG4gICAgICBnZXRDb250YWN0czogZnVuY3Rpb24gZ2V0Q29udGFjdHMoKSB7XG4gICAgICAgIHJldHVybiAkLmdldChjb250YWN0c0h0bWwpO1xuICAgICAgfSxcblxuICAgICAgZ2V0U2VydmljZTogZnVuY3Rpb24gZ2V0U2VydmljZSgpIHtcbiAgICAgICAgcmV0dXJuICQuZ2V0KHNlcnZpY2VIdG1sKTtcbiAgICAgIH0sXG5cbiAgICAgIGdldENhdGFsb2c6IGZ1bmN0aW9uIGdldENhdGFsb2coKSB7XG4gICAgICAgIHJldHVybiAkLmdldChjYXRhbG9nSHRtbCk7XG4gICAgICB9LFxuXG4gICAgICBnZXRDb2xsZWN0aW9uOiBmdW5jdGlvbiBnZXRDb2xsZWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJC5nZXQoY29sbGVjdGlvbkh0bWwpO1xuICAgICAgfSxcblxuICAgICAgZ2V0VGlsZTogZnVuY3Rpb24gZ2V0VGlsZSgpIHtcbiAgICAgICAgcmV0dXJuICQuZ2V0KHRpbGVIdG1sKTtcbiAgICAgIH0sXG5cbiAgICAgIGdldFRpbGVQcm9qZWN0OiBmdW5jdGlvbiBnZXRUaWxlUHJvamVjdCgpIHtcbiAgICAgICAgcmV0dXJuICQuZ2V0KHByb2plY3RUaWxlSHRtbCk7XG4gICAgICB9LFxuXG4gICAgICBnZXRTYW1wbGU6IGZ1bmN0aW9uIGdldFNhbXBsZSgpIHtcbiAgICAgICAgcmV0dXJuICQuZ2V0KHNhbXBsZUh0bWwpO1xuICAgICAgfSxcblxuICAgICAgZ2V0Q2F0ZWdvcmllczogZnVuY3Rpb24gZ2V0Q2F0ZWdvcmllcygpIHtcbiAgICAgICAgcmV0dXJuICQuZ2V0SlNPTihjYXRhbG9nQ2F0ZWdvcmllcyk7XG4gICAgICB9LFxuICAgICAgLy8gISEh0JjRgdC/0YDQsNCy0LjRgtGMINC90LDQt9Cy0LDQvdC40LUg0LfQtNC10YHRjCDQuCDQstC+INCy0YHQtdGFINGE0YPQvdC60YbQuNGP0YUhISFcbiAgICAgIGdldENhdGVnb3J5RmlybXM6IGZ1bmN0aW9uIGdldENhdGVnb3J5RmlybXMoKSB7XG4gICAgICAgIHJldHVybiAkLmdldEpTT04oZmlybUl0ZW1zKTtcbiAgICAgIH0sXG5cbiAgICAgIGdldEFsbENvbGxlY3Rpb25zOiBmdW5jdGlvbiBnZXRBbGxDb2xsZWN0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuICQuZ2V0SlNPTihhbGxDb2xsZWN0aW9ucyk7XG4gICAgICB9LFxuXG4gICAgICBnZXRDb2xsZWN0aW9uSXRlbXM6IGZ1bmN0aW9uIGdldENvbGxlY3Rpb25JdGVtcygpIHtcbiAgICAgICAgcmV0dXJuICQuZ2V0SlNPTihjb2xsZWN0aW9uSXRlbXMpO1xuICAgICAgfSxcblxuICAgICAgZ2V0UHJvamVjdHM6IGZ1bmN0aW9uIGdldFByb2plY3RzKCkge1xuICAgICAgICByZXR1cm4gJC5nZXRKU09OKHByb2plY3RzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KCk7XG5cbiAgc3Quc2hvd0xvYWRpbmcgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICB2YXIgaHRtbCA9IFwiPGRpdiBjbGFzcz0ndGV4dC1jZW50ZXInPlwiO1xuICAgIGh0bWwgKz0gXCI8aW1nIHNyYz0nL21lZGlhL3NtYXJ0dGlsZXMvaW1nL2FqYXgtbG9hZGVyLmdpZicvPjwvZGl2PlwiO1xuICAgICQoc2VsZWN0b3IpLmh0bWwoaHRtbCk7XG4gIH07XG5cbiAgc3Quc3dpdGNoQWN0aXZlTWVudSA9IGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgICQoJyNuYXYnKS5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAkKHNlbGVjdG9yKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH07XG5cbiAgdmFyIGluc2VydFByb3BlcnR5ID0gZnVuY3Rpb24gaW5zZXJ0UHJvcGVydHkoc3RyaW5nLCBwcm9wTmFtZSwgcHJvcFZhbHVlKSB7XG4gICAgdmFyIHByb3BUb1JlcGxhY2UgPSBcInt7XCIgKyBwcm9wTmFtZSArIFwifX1cIjtcbiAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShuZXcgUmVnRXhwKHByb3BUb1JlcGxhY2UsIFwiZ1wiKSwgcHJvcFZhbHVlKTtcblxuICAgIHJldHVybiBzdHJpbmc7XG4gIH07XG5cbiAgc3Quc2V0UG9saWZpbGxGb3JQbGFjZWhvbGRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIU1vZGVybml6ci5pbnB1dC5wbGFjZWhvbGRlcikge1xuICAgICAgJC5nZXRTY3JpcHQoJ2pzL2pxdWVyeS5odG1sNXN1cHBvcnQubWluLmpzJykuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICQuaHRtbDVzdXBwb3J0KCk7XG4gICAgICAgICQucGxhY2Vob2xkZXIoKTtcbiAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnUGxhY2Vob2xkZXIgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgJChcIiNuYXZiYXJUb2dnbGVcIikuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgJChldmVudC50YXJnZXQpLmZvY3VzKCk7XG4gIH0pO1xuXG4gICQoXCIjbmF2YmFyVG9nZ2xlXCIpLmJsdXIoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIHNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgaWYgKHNjcmVlbldpZHRoIDwgNzY4KSB7XG4gICAgICAkKFwiI2NvbGxhcHNhYmxlXCIpLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgfVxuICB9KTtcbiAgdmFyICRjYWxsSWNvbiA9ICQoJy5jYWxsX19pY29uIGknKTtcblxuICAkY2FsbEljb24uaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgJHRoaXMuc3RvcCh0cnVlKS5hbmltYXRlKHtcbiAgICAgIG9wYWNpdHk6IC4xXG4gICAgfSwgMjUwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcygnZmEtcGhvbmUnKS5hZGRDbGFzcygnZmEtdm9sdW1lLWNvbnRyb2wtcGhvbmUnKTtcbiAgICB9KS5hbmltYXRlKHtcbiAgICAgIG9wYWNpdHk6IDFcbiAgICB9LCAyNTApO1xuICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAkdGhpcy5zdG9wKHRydWUpLmFuaW1hdGUoe1xuICAgICAgb3BhY2l0eTogLjFcbiAgICB9LCAyNTAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdmYS12b2x1bWUtY29udHJvbC1waG9uZScpLmFkZENsYXNzKCdmYS1waG9uZScpO1xuICAgIH0pLmFuaW1hdGUoe1xuICAgICAgb3BhY2l0eTogMVxuICAgIH0sIDI1MCk7XG4gIH0pOyAvLyBlbmQgaG92ZXJcbiAgLy9zdC5zaG93Rm91bmRFbGVtZW50c0hUTUwgPSBmdW5jdGlvbiggcGFyYW1zICkge1xuICAvLyAgLyogc3BlY1xuICAvLyAgICBlbGVtOiAnZmlybXMnLCAnY2F0ZWdvcmllcycsICdjb2xsZWN0aW9ucycsXG4gIC8vICAgIHN0b2NrOiBhcnJheVxuICAvLyAgKi9cbiAgLy8gIHNtYXJ0QXBwLmdldFRpbGUoKS5kb25lKGZ1bmN0aW9uKCB0aWxlSHRtbCApIHtcbiAgLy8gICAgdmFyIHN0b2NrID0gcGFyYW1zLnN0b2NrLFxuICAvLyAgICAgICAgZm91bmRFbGVtZW50cztcbiAgLy8gICAgc3dpdGNoKHBhcmFtcy5lbGVtKSB7XG4gIC8vICAgICAgY2FzZSAnY2F0ZWdvcmllcyc6XG4gIC8vICAgICAgICBmb3VuZEVsZW1lbnRzID0gY2F0YWxvZ1Jlc291cmNlKHtcbiAgLy8gICAgICAgICAgICAgICBuYW1lOiAn0JrQsNGC0LXQs9C+0YDQuNC4JyxcbiAgLy8gICAgICAgICAgICAgICBzdHlsZXNQbGFjZTogJ21haW5Db250ZW50X19mb3VuZENhdGVnb3JpZXMnLFxuICAvLyAgICAgICAgICAgICAgIGlkUGxhY2U6ICdmb3VuZENhdGVnb3JpZXMnLFxuICAvLyAgICAgICAgICAgICAgIHN0b2NrOiBzdG9jayxcbiAgLy8gICAgICAgICAgICAgICBwYXRoOiAnY2F0ZWdvcnknLFxuICAvLyAgICAgICAgICAgICAgIHRpbGVIdG1sOiB0aWxlSHRtbCxcbiAgLy8gICAgICAgICAgICAgICBnZW9sb2NhdGlvbjogJyNtYWluJyxcbiAgLy8gICAgICAgICAgICAgICBmdW5jOiBcImFwcGVuZFwifSk7XG4gIC8vXG4gIC8vICAgICAgICBicmVhaztcbiAgLy8gICAgICBjYXNlICdmaXJtcyc6XG4gIC8vICAgICAgICBmb3VuZEVsZW1lbnRzID0gY2F0YWxvZ1Jlc291cmNlKHtcbiAgLy8gICAgICAgICAgICAgICBuYW1lOiAn0KTQuNGA0LzRiycsXG4gIC8vICAgICAgICAgICAgICAgc3R5bGVzUGxhY2U6ICdtYWluQ29udGVudF9fZm91bmRGaXJtcycsXG4gIC8vICAgICAgICAgICAgICAgaWRQbGFjZTogJ2ZvdW5kRmlybXMnLFxuICAvLyAgICAgICAgICAgICAgIHN0b2NrOiBzdG9jayxcbiAgLy8gICAgICAgICAgICAgICBwYXRoOiAnZmlybXMnLFxuICAvLyAgICAgICAgICAgICAgIHRpbGVIdG1sOiB0aWxlSHRtbCxcbiAgLy8gICAgICAgICAgICAgICBnZW9sb2NhdGlvbjogJyNtYWluJyxcbiAgLy8gICAgICAgICAgICAgICBmdW5jOiBcImFwcGVuZFwifSk7XG4gIC8vXG4gIC8vICAgICAgICBicmVhaztcbiAgLy8gICAgICBjYXNlICdjb2xsZWN0aW9ucyc6XG4gIC8vICAgICAgICBmb3VuZEVsZW1lbnRzID0gY2F0YWxvZ1Jlc291cmNlKHtcbiAgLy8gICAgICAgICAgICAgbmFtZTogJ9Ca0L7Qu9C70LXQutGG0LjQuCcsXG4gIC8vICAgICAgICAgICAgIHN0eWxlc1BsYWNlOiAnbWFpbkNvbnRlbnRfX2ZvdW5kQ29sbGVjdGlvbnMnLFxuICAvLyAgICAgICAgICAgICBpZFBsYWNlOiAnZm91bmRDb2xsZWN0aW9ucycsXG4gIC8vICAgICAgICAgICAgIHN0b2NrOiBzdG9jayxcbiAgLy8gICAgICAgICAgICAgcGF0aDogJ2NvbGxlY3Rpb25zJyxcbiAgLy8gICAgICAgICAgICAgdGlsZUh0bWw6IHRpbGVIdG1sLFxuICAvLyAgICAgICAgICAgICBnZW9sb2NhdGlvbjogJyNtYWluJyxcbiAgLy8gICAgICAgICAgICAgZnVuYzogXCJhcHBlbmRcIn0pO1xuICAvLyAgICAgICAgYnJlYWs7XG4gIC8vICAgIH1cbiAgLy8gICAgXG4gIC8vICAgIGZvdW5kRWxlbWVudHMucHJlc2VudFJlc291cmNlKCk7ICAgICAgICBcbiAgLy8gIH0pOy8vIGVuZCBnZXRUaWxlXG4gIC8vfTtcblxuICAvL1xuICAvL3N0LnNlYXJjaCA9IGZ1bmN0aW9uKCB2YWx1ZSApIHtcbiAgLy8gIC8vINCc0LDRgdGB0LjQstGLLCDQutC+0YLQvtGA0YvQtSDQsdGD0LTRg9GCINC30LDQv9C+0LvQvdGP0YLRjNGB0Y8g0L/RgNC4INGB0L7QstC/0LDQtNC10L3QuNC4LlxuICAvLyAgdmFyIG1hdGNoZXMgPSB7XG4gIC8vICAgIGNhdGVnb3JpZXMgOiBbXSxcbiAgLy8gICAgZmlybXM6IFtdLFxuICAvLyAgICBjb2xsZWN0aW9uczogW11cbiAgLy8gIH0sICBcbiAgLy8gICAgICAkbWFpbiA9ICQoJyNtYWluJyksXG4gIC8vICAgICAgZmluYWxIVE1MID0gXCJcIixcbiAgLy8gICAgICAvLyDQndGD0LbQvdGL0LUg0L/Qu9C40YLQutC4LlxuICAvLyAgICAgIGNhdGVnb3JpZXNUaWxlc0hUTUwsIFxuICAvLyAgICAgIGZpcm1zVGlsZXNIVE1MLFxuICAvLyAgICAgIGNvbGxlY3Rpb25zVGlsZXNIVE1MLFxuICAvLyAgICAgIC8vINCU0LvQuNC90L3RiyDQvNCw0YHRgdC40LLQvtCyLlxuICAvLyAgICAgIGxlbkNhdHMsXG4gIC8vICAgICAgbGVuRmlybXMsXG4gIC8vICAgICAgbGVuQ29sbGVjdGlvbnMsXG4gIC8vICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINC/0YDQuNGB0YPRgtGB0LLRg9GO0YnQuNGFINCyINC90LjRhSDRgdGD0YnQvdC+0YHRgtC10LkuXG4gIC8vICAgICAgY2hlY2tDYXRzLFxuICAvLyAgICAgIGNoZWNrRmlybXMsXG4gIC8vICAgICAgY2hlY2tDb2xsZWN0aW9ucztcbiAgLy8gIFxuICAvLy8vICBzbWFydEFwcC5nZXRDYXRlZ29yaWVzKCkuZG9uZShmdW5jdGlvbiggY2F0ZWdvcmllcyApIHtcbiAgLy8vLyAgICBzbWFydEFwcC5nZXRDYXRlZ29yeUZpcm1zKCkuZG9uZShmdW5jdGlvbiggZmlybXMgKSB7XG4gIC8vLy8gICAgICBzbWFydEFwcC5nZXRBbGxDb2xsZWN0aW9ucygpLmRvbmUoZnVuY3Rpb24oIGNvbGxlY3Rpb25zICkge1xuICAvLy8vICAgICAgICBzbWFydEFwcC5nZXRUaWxlKCkuZG9uZShmdW5jdGlvbiggdGlsZUh0bWwgKSB7XG4gIC8vLy8gICAgICAgICAgLy8g0KDQtdCz0YPQu9GP0YDQvdC+0LUg0LLRi9GA0LDQttC10L3QuNC1INC00LvRjyDQv9GA0L7QstC10YDQutC4INC90LAg0YHQvtCy0L/QsNC00LXQvdC40LUuXG4gIC8vLy8gICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCh2YWx1ZS50b0xvd2VyQ2FzZSgpLCAnaScpOyBcbiAgLy8vLyAgICAgICAgICBjYXRlZ29yaWVzLmZvckVhY2goZnVuY3Rpb24oIGNhdGVnb3J5ICkge1xuICAvLy8vICAgICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC60LDRgtC10LPQvtGA0LjQuC5cbiAgLy8vLyAgICAgICAgICAgIGlmICggcmVnZXgudGVzdCggY2F0ZWdvcnkubmFtZSApICkge1xuICAvLy8vICAgICAgICAgICAgICBtYXRjaGVzLmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XG4gIC8vLy8gICAgICAgICAgICB9XG4gIC8vLy8gICAgICAgICAgfSk7IC8vIGVuZCBjYXRlZ29yaWVzLmZvckVhY2ggICAgIFxuICAvLy8vXG4gIC8vLy8gICAgICAgICAgZmlybXMuZm9yRWFjaChmdW5jdGlvbiggZmlybSApIHtcbiAgLy8vLyAgICAgICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDRhNC40YDQvNGLLlxuICAvLy8vICAgICAgICAgICAgaWYgKCByZWdleC50ZXN0KCBmaXJtLm5hbWUgKSApIHtcbiAgLy8vLyAgICAgICAgICAgICAgbWF0Y2hlcy5maXJtcy5wdXNoKCBmaXJtICk7XG4gIC8vLy8gICAgICAgICAgICB9XG4gIC8vLy8gICAgICAgICAgfSk7IC8vIGVuZCBmaXJtLmZvckVhY2hcbiAgLy8vL1xuICAvLy8vICAgICAgICAgICBjb2xsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKCBjb2xsZWN0aW9uICkge1xuICAvLy8vICAgICAgICAgICAgIC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQutC+0LvQu9C10LrRhtC40LguXG4gIC8vLy8gICAgICAgICAgICAgaWYgKCByZWdleC50ZXN0KCBjb2xsZWN0aW9uLm5hbWUgKSkge1xuICAvLy8vICAgICAgICAgICAgICAgbWF0Y2hlcy5jb2xsZWN0aW9ucy5wdXNoKCBjb2xsZWN0aW9uICk7XG4gIC8vLy8gICAgICAgICAgICAgfVxuICAvLy8vICAgICAgICAgIH0pOyAvLyBlbmQgY29sbGVjdGlvbi5mb3JFYWNoXG4gIC8vLy9cbiAgLy8vLyAgICAgICAgICBsZW5DYXRzID0gbWF0Y2hlcy5jYXRlZ29yaWVzLmxlbmd0aDtcbiAgLy8vLyAgICAgICAgICBsZW5GaXJtcyA9IG1hdGNoZXMuZmlybXMubGVuZ3RoO1xuICAvLy8vICAgICAgICAgIGxlbkNvbGxlY3Rpb25zID0gbWF0Y2hlcy5jb2xsZWN0aW9ucy5sZW5ndGg7XG4gIC8vLy8gICAgICAgICAgXG4gIC8vLy8gICAgICAgICAgY2hlY2tDYXRzID0gbGVuQ2F0cyAhPT0gMDtcbiAgLy8vLyAgICAgICAgICBjaGVja0Zpcm1zID0gbGVuRmlybXMgIT09IDA7XG4gIC8vLy8gICAgICAgICAgY2hlY2tDb2xsZWN0aW9ucyA9IGxlbkNvbGxlY3Rpb25zICE9PSAwO1xuICAvLy8vICAgICAgXG4gIC8vLy8gICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LjRgtGMINC90LAg0L3QsNC70LjRh9C40LUg0YHQvtCy0L/QsNC00LXQvdC40Lkg0LIg0Lxh0YHRgdC40LLQsNGFLlxuICAvLy8vICAgICAgICAgIGlmICggY2hlY2tDYXRzIHx8IGNoZWNrQ29sbGVjdGlvbnMgfHwgY2hlY2tGaXJtcyApIHtcbiAgLy8vLyAgICAgICAgICAgIHN0LnNob3dMb2FkaW5nKHN0Lmlkcy5tYWluKTtcbiAgLy8vLyAgICAgICAgICAgIC8vINCf0LXRgNC10LTQtdC70LDRgiDRjCFcbiAgLy8vLyAgICAgICAgICAgIGlmICggY2hlY2tDYXRzICkge1xuICAvLy8vICAgICAgICAgICAgICBzdC5zaG93Rm91bmRFbGVtZW50c0hUTUwoe1xuICAvLy8vICAgICAgICAgICAgICAgIHN0b2NrOiBtYXRjaGVzLmNhdGVnb3JpZXMsXG4gIC8vLy8gICAgICAgICAgICAgICAgZWxlbTogJ2NhdGVnb3JpZXMnXG4gIC8vLy8gICAgICAgICAgICAgIH0pO1xuICAvLy8vICAgICAgICAgICAgfSBcbiAgLy8vL1xuICAvLy8vICAgICAgICAgICAgaWYgKCBjaGVja0Zpcm1zICkge1xuICAvLy8vICAgICAgICAgICAgICBzdC5zaG93Rm91bmRFbGVtZW50c0hUTUwoe1xuICAvLy8vICAgICAgICAgICAgICAgIHN0b2NrOiBtYXRjaGVzLmZpcm1zLFxuICAvLy8vICAgICAgICAgICAgICAgIGVsZW06ICdmaXJtcydcbiAgLy8vLyAgICAgICAgICAgICAgfSk7XG4gIC8vLy8gICAgICAgICAgICB9XG4gIC8vLy8gICAgICAgICAgICBpZiAoIGNoZWNrQ29sbGVjdGlvbnMgKSB7XG4gIC8vLy8gICAgICAgICAgICAgIHN0LnNob3dGb3VuZEVsZW1lbnRzSFRNTCh7XG4gIC8vLy8gICAgICAgICAgICAgICAgc3RvY2s6IG1hdGNoZXMuY29sbGVjdGlvbnMgLFxuICAvLy8vICAgICAgICAgICAgICAgIGVsZW06ICdjb2xsZWN0aW9ucydcbiAgLy8vLyAgICAgICAgICAgICAgfSk7XG4gIC8vLy8gICAgICAgICAgICB9XG4gIC8vLy8gICAgICAgICAgICBcbiAgLy8vLyAgICAgICAgICAgICRtYWluLmZpbmQoJzpmaXJzdC1jaGlsZCcpLnJlbW92ZSgpO1xuICAvLy8vICAgICAgICAgIH0gZWxzZSB7XG4gIC8vLy8gICAgICAgICAgICBmaW5hbEhUTUwgPSAnPHAgY2xhc3M9XCJ0ZXh0LWNlbnRlciBuby1tYXRjaGVzXCI+0JLRiyDQuNGB0LrQsNC70Lg6IDxzdHJvbmc+JyArIHZhbHVlICsnPC9zdHJvbmc+LjwvYnI+JztcbiAgLy8vLyAgICAgICAgICAgIGZpbmFsSFRNTCArPSAn0J3QviDQvdC40YfQtdCz0L4g0L3QtSDQvdCw0YjQu9C4OiguPC9wPicgK1xuICAvLy8vICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm5vdC1mb3VuZC1naWZcIj48aW1nIGNsYXNzPVwiaW1nLXJlc3BpbnNpdmUgY2VudGVyLWJsb2NrXCIgc3JjPVwiL21lZGlhL3NtYXJ0dGlsZXMvaW1nL25vdC1mb3VuZC5naWZcIiBhbHQ9XCJOb3QgZm91bmQ6KC5cIj48L2ltZz48L2Rpdj4nO1xuICAvLy8vICAgICAgICAgICAgXG4gIC8vLy8gICAgICAgICAgICBzdC5zZWxlY3QuJG1haW4uaHRtbChmaW5hbEhUTUwpOyAgXG4gIC8vLy8gICAgICAgICAgfVxuICAvLy8vICAgICAgXG4gIC8vLy8gICAgICAgIH0pO1xuICAvLy8vICAgICAgfSk7Ly8gZW5kIHNtYXJ0QXBwLmdldEFsbENvbGxlY3Rpb25zXG4gIC8vLy8gICAgfSk7Ly8gZW5kIHNtYXJ0QXBwLmdldENhdGVnb3J5RmlybXNcbiAgLy8vLyAgfSk7Ly8gZW5kIHNtYXJ0QXBwLmdldENhdGVnb3JpZXNcbiAgLy8vL307XG4gIC8vINCX0LDQs9GA0YPQttCw0LXQvCDQtNC+0LzQsNGI0L3RjtGOINGB0YLRgNCw0L3QuNGG0YMuXG4gIHN0LmxvYWRIb21lQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzbWFydEFwcC5nZXRIb21lUGF0dGVybigpLmRvbmUoZnVuY3Rpb24gKGhvbWVDb250ZW50SHRtbCkge1xuICAgICAgLy8g0JfQsNC/0YDQsNGI0LjQstCw0LXQvCDRiNCw0LHQu9C+0L0g0YEg0LrQvtC90YLQsNC60YLQsNC80Lgg0Lgg0YTQvtGA0LzQvtC5LlxuICAgICAgc21hcnRBcHAuZ2V0Q29udGFjdHMoKS5kb25lKGZ1bmN0aW9uIChjb250YWN0c0h0bWwpIHtcbiAgICAgICAgLy8g0JrQvtC80L/QsNC90YPQtdC8INGB0YLRgNCw0L3QuNGG0YMuXG4gICAgICAgIHZhciBmaW5hbEhUTUwgPSBob21lQ29udGVudEh0bWwgKyBjb250YWN0c0h0bWw7XG4gICAgICAgIHN0LnNlbGVjdC4kbWFpbi5odG1sKGZpbmFsSFRNTCk7XG4gICAgICAgIC8vINCY0L3QuNGG0LjQsNC70LjQt9C40YDRg9C10Lwg0LrQsNGA0YPRgdC10LvRjC4gXG4gICAgICAgICQoJy5leGNsdXNpdmVfX3NsaWRlcycpLnNsaWNrKHtcbiAgICAgICAgICBkb3RzOiB0cnVlLFxuICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDM1MDAsXG4gICAgICAgICAgcmVzcG9uc2l2ZTogW3tcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgIGFycm93czogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XVxuICAgICAgICB9KTtcbiAgICAgICAgLy8g0J3QsNGB0YLRgNCw0LjQstCw0LXQvCDRhNC+0YDQvNGDLlxuICAgICAgICBzdC5zZXR0aW5nVXBGb3JtKCk7XG4gICAgICAgIHN0LnNldFBvbGlmaWxsRm9yUGxhY2Vob2xkZXIoKTtcbiAgICAgIH0pOyAvLyBlbmQgZ2V0Q29udGFjdHNcbiAgICB9KTsgLy8gZW5kIGdldEhvbWVQZXR0ZXJuXG4gIH07IC8vIGVuZCBsb2FkSG9tZUNvbnRlbnRcblxuICBzdC5idWlsZEhvbWVDYXRlZ29yaWVzID0gZnVuY3Rpb24gKHNwZWMpIHtcbiAgICAvKiBzcGVjXHJcbiAgICAgICB7XHJcbiAgICAgICAgIGFycmF5Q2F0ZWdvcmllczogc3RyaW5nLFxyXG4gICAgICAgICBuYW1lOiBzdHJpbmdcclxuICAgICAgIH1cclxuICAgICovXG4gICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQutCw0YLQtdCz0L7RgNC40LguXG4gICAgc21hcnRBcHAuZ2V0Q2F0ZWdvcmllcygpLmRvbmUoZnVuY3Rpb24gKGNhdGVnb3JpZXMpIHtcbiAgICAgIC8vINCo0LDQsdC70L7QvSDQv9C70LjRgtC60LguXG4gICAgICBzbWFydEFwcC5nZXRUaWxlKCkuZG9uZShmdW5jdGlvbiAodGlsZUh0bWwpIHtcbiAgICAgICAgdmFyIGFycmF5Q2F0ZWdvcmllcyA9IHNwZWMuYXJyYXlDYXRlZ29yaWVzLnNwbGl0KFwiIFwiKSxcblxuICAgICAgICAvLyDQmNC80Y8g0LLRi9Cx0YDQsNC90L3QvtC5INC60LDRgtC10LPQvtGA0LjQuCwg0LXRgdC70Lgg0YfRgtC+LlxuICAgICAgICBuYW1lID0gc3BlYy5uYW1lLFxuICAgICAgICAgICAgc29ydGVkQ2F0ZWdvcmllcyA9IFtdO1xuXG4gICAgICAgIC8vINCe0YLQsdC40YDQsNC10Lwg0L3Rg9C20L3Ri9C1INC60LDRgtC10LPQvtGA0LjQuC5cbiAgICAgICAgYXJyYXlDYXRlZ29yaWVzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBhcmVDYXRlZ29yeSkge1xuICAgICAgICAgIC8vINCY0YnQtdC8INC90YPQttC90YPRjiDQutCw0YLQtdCz0L7RgNC40Y4uXG4gICAgICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChjYXRlZ29yeSkge1xuICAgICAgICAgICAgaWYgKGNhdGVnb3J5LnNob3J0X25hbWUgPT0gY29tcGFyZUNhdGVnb3J5KSB7XG4gICAgICAgICAgICAgIHNvcnRlZENhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7IC8vIGVuZCBjYXRlZ29yaWVzLmZvckVhY2hcbiAgICAgICAgfSk7IC8vIGVuZCBhcnJheUNhdGVnb3JpZXMuZm9yRWFjaFxuXG4gICAgICAgIHZhciBob21lQ2F0ZWdvcmllcyA9IGNhdGFsb2dSZXNvdXJjZSh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBzdHlsZXNQbGFjZTogJ21haW5Db250ZW50X19ob21lQ2F0ZWdvcmllcycsXG4gICAgICAgICAgaWRQbGFjZTogJ2hvbWVDYXRlZ29yaWVzJyxcbiAgICAgICAgICBzdG9jazogc29ydGVkQ2F0ZWdvcmllcyxcbiAgICAgICAgICBwYXRoOiAnY2F0ZWdvcnknLFxuICAgICAgICAgIHRpbGVIdG1sOiB0aWxlSHRtbCxcbiAgICAgICAgICBnZW9sb2NhdGlvbjogJyNtYWluJ1xuICAgICAgICB9KTtcblxuICAgICAgICBob21lQ2F0ZWdvcmllcy5wcmVzZW50UmVzb3VyY2UoKTtcbiAgICAgIH0pOyAvLyBlbmQgc21hcnRBcHAuZ2V0VGlsZVxuICAgIH0pOyAvLyBlbmQgc21hcnRBcHAuZ2V0Q2F0ZWdvcmllc1xuICB9OyAvLyBlbmQgYnVpbGRIb21lQ2F0ZWdvcmllc1xuXG4gIC8vLy8g0JfQsNCz0YDRg9C20LDQtdGCINC60LDRgNGC0LjQvdC60LguXG4gIC8vc3QucHJlbG9hZEltYWdlcyA9IGZ1bmN0aW9uKCkge1xuICAvLyAgc21hcnRBcHAuZ2V0Q29sbGVjdGlvbkl0ZW1zKCkuZG9uZShmdW5jdGlvbiggY29sbGVjdGlvbnMpIHtcbiAgLy8gICAgc21hcnRBcHAuZ2V0Q2F0ZWdvcnlGaXJtcygpLmRvbmUoZnVuY3Rpb24oIGZpcm1zICkgeyAgICAgICBcbiAgLy8gICAgICBzbWFydEFwcC5nZXRDYXRlZ29yaWVzKCkuZG9uZShmdW5jdGlvbiggY2F0ZWdvcmllcyApIHtcbiAgLy8gICAgICAgIHZhciBpbWFnZXMgPSBbXSxcbiAgLy8gICAgICAgICAgICBjb2xzS2V5cyA9IE9iamVjdC5rZXlzKGNvbGxlY3Rpb25zWzBdKTtcbiAgLy9cbiAgLy8gICAgICAgIC8vINCf0LXRgNC10LHQuNGA0LDQtdC8INC60LvRjtGH0LguXG4gIC8vICAgICAgICBjb2xzS2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAvLyAgICAgICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INC60L7Qu9C70LXQutGG0LjRjiDQv9C+INC60LvRjtGH0YMuXG4gIC8vICAgICAgICAgIHZhciBjb2wgPSBjb2xsZWN0aW9uc1swXVtrZXldLFxuICAvLyAgICAgICAgICAvLyDQn9GD0YLRjCDQuiDQutCw0YDRgtC40L3QutC1INC60L7Qu9C70LXQutGG0LjQuC5cbiAgLy8gICAgICAgICAgICAgIHNyYyA9IGNvbC5jYXRlZ29yeS5zaG9ydF9uYW1lICsgXCIvXCIgKyBjb2wuZmlybS5zaG9ydF9uYW1lICsgXCIvXCIgKyBrZXkgKyAnLmpwZyc7XG4gIC8vICAgICAgICAgIFxuICAvLyAgICAgICAgICBpbWFnZXMucHVzaChuZXcgSW1hZ2Uoc3JjKSk7XG4gIC8vICAgICAgICAgIC8vINCf0LXRgNC10LHQuNGA0LDQtdC8INC40L3RhNC+0YDQvNCw0YbQuNC40Y4g0L4g0LrQvtC70LvQtdC60YbQuNC4LlxuICAvLyAgICAgICAgICBjb2wuc2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uKCBzYW1wbGUgKSB7XG4gIC8vICAgICAgICAgICAgLy8g0J/Rg9GC0Ywg0Log0LrQsNGA0YLQuNC90LrQsNC8INC+0LHRgNCw0LfRhtC+0LIg0LrQvtC70LvQtdC60YbQuNC4LlxuICAvLyAgICAgICAgICAgIHNyYyA9IGNvbC5jYXRlZ29yeS5zaG9ydF9uYW1lICsgXCIvXCIgKyBjb2wuZmlybS5zaG9ydF9uYW1lICsgXCIvXCIgKyBrZXkgKyBcIi9cIiArIHNhbXBsZS5udW0gKyAnLmpwZyc7XG4gIC8vXG4gIC8vICAgICAgICAgICAgaW1hZ2VzLnB1c2gobmV3IEltYWdlKHNyYykpO1xuICAvLyAgICAgICAgICB9KTtcbiAgLy8gICAgICAgIH0pO1xuICAvL1xuICAvLyAgICAgICAgZmlybXMuZm9yRWFjaChmdW5jdGlvbihmaXJtKSB7XG4gIC8vICAgICAgICAgIC8vINCf0YPRgtGMINC6INC60LDRgNGC0LjQvdC60LDQvNC4INGE0LjRgNC8LlxuICAvLyAgICAgICAgICB2YXIgc3JjID0gZmlybS5jYXRlZ29yaWVzWzBdICsgJy8nICtcbiAgLy8gICAgICAgICAgICAgIGZpcm0uc2hvcnRfbmFtZSArICcvJyArXG4gIC8vICAgICAgICAgICAgICBmaXJtLnNob3J0X25hbWUgKyAnLmpwZyc7XG4gIC8vXG4gIC8vICAgICAgICAgIGltYWdlcy5wdXNoKG5ldyBJbWFnZShzcmMpKTtcbiAgLy8gICAgICAgIH0pO1xuICAvLyAgICAgICAgXG4gIC8vICAgICAgICBjYXRlZ29yaWVzLmZvckVhY2goZnVuY3Rpb24oIGNhdGVnb3J5ICkge1xuICAvLyAgICAgICAgICAvLyDQn9GD0YLRjCDQuiDQutCw0YDRgtC40L3QutCw0LzQuCDQutCw0YLQtdCz0L7RgNC40LguXG4gIC8vICAgICAgICAgIHZhciBzcmMgPSBjYXRlZ29yeS5zaG9ydF9uYW1lICsgJy8nICsgY2F0ZWdvcnkuc2hvcnRfbmFtZSArICcuanBnJztcbiAgLy8gICAgICAgICAgXG4gIC8vICAgICAgICAgIGltYWdlcy5wdXNoKG5ldyBJbWFnZShzcmMpKTtcbiAgLy8gICAgICAgIH0pO1xuICAvLyAgICAgICAgXG4gIC8vICAgICAgICByZXR1cm4gaW1hZ2VzOyAgICAgIFxuICAvLyAgICAgIH0pOy8vIGVuZCBzbWFydEFwcC5nZXRDYXRlZ29yaWVzXG4gIC8vICAgIH0pOy8vIGVuZCBzbWFydEFwcC5nZXRDYXRlZ29yeUZpcm1zXG4gIC8vICB9KTsvLyBlbmQgc21hcnRBcHAuZ2V0Q29sbGVjdGlvbkl0ZW1zXG4gIC8vfTsvLyBlbmQgc3QucHJlbG9hZEltYWdlc1xuICB2YXIgY2F0YWxvZ1Jlc291cmNlID0gZnVuY3Rpb24gY2F0YWxvZ1Jlc291cmNlKHNwZWMpIHtcbiAgICAvKiBzcGVjXHJcbiAgICAge1xyXG4gICAgICAgbmFtZTogc3RyaW5nLFxyXG4gICAgICAgc3R5bGVOYW1lOiBzdHJpbmcoY2xhc3NlcylzdHJpbmcob3Rpb25hbFtoZWFkaW5nLWZpcm1dLFxyXG4gICAgICAgc3R5bGVzUGxhY2U6IHN0cmluZyhjbGFzc2VzKSxcclxuICAgICAgIGlkUGxhY2U6IHN0cmluZyhpZCksXHJcbiAgICAgICBzdG9jazogYXJyYXksXHJcbiAgICAgICBzdHlsZVN0b2NrOiBzdHJpbmcoY2xhc3NlcyksXHJcbiAgICAgICBwYXRoOiBzdHJpbmcsXHJcbiAgICAgICB0aWxlSHRtbDogdGlsZUh0bWwsXHJcbiAgICAgICBnZW9sb2NhdGlvbjogc3RyaW5nKHNlbGVjdG9yKSxcclxuICAgICAgIGZ1bmM6ICdmdW5jdHVpb24nKGh0bWwsIGFwcGVuZCBhbmQgYW5vdGhlciBmdW5jdGlvbnMpXHJcbiAgICAgfVxyXG4gICAgKi9cblxuICAgIHZhciB0aGF0ID0ge30sXG5cbiAgICAvLyDQmtCw0LrQuNC1INGF0LDRgNCw0LrRgtC10YDQuNGB0YLQuNC60Lgg0YMg0L3QtdCz0L4g0LXRgdGC0Yw/XG4gICAgLy8g0JjQvNGPINC30LDQs9C+0LvQvtCy0LrQsCDQuCDQtdCz0L4g0YHRgtC40LvRjC5cbiAgICBuYW1lID0gc3BlYy5uYW1lLFxuICAgICAgICBzdHlsZU5hbWUgPSBzcGVjLnN0eWxlTmFtZSA/IHNwZWMuc3R5bGVOYW1lIDogXCJcIixcblxuICAgIC8vINCc0LXRgdGC0L4sINCz0LTQtSDQvtC9INC00L7Qu9C20LXQvSDQsdGL0YLRjC5cbiAgICBnZW9sb2NhdGlvbiA9IHNwZWMuZ2VvbG9jYXRpb24sXG5cbiAgICAvLyDQmCDQutCw0LrQuNC8INGB0L/QvtGB0L7QsdC+0Lwg0LTQvtC70LbQvdC+INC/0YDQuNC50YLQuC5cbiAgICBmdW5jID0gc3BlYy5mdW5jID8gc3BlYy5mdW5jIDogXCJcIixcblxuICAgIC8vINCjINGN0YLQvtCz0L4g0LzQtdGB0YLQviDQtdGB0YLRjCDRgdGC0LjQu9GMLlxuICAgIC8vINCQINGC0LDQutC20LUg0L3QsNC40LzQtdC90L3QvtCy0LDQvdC40LUuXG4gICAgcG9zaXRpb24gPSAnPHNlY3Rpb24gY2xhc3M9XCInICsgc3BlYy5zdHlsZXNQbGFjZSArICdcIiBpZD1cIicgKyBzcGVjLmlkUGxhY2UgKyAnXCIgaXRlbXNjb3BlIGl0ZW10eXBlPVwiaHR0cHM6Ly9zY2hlbWEub3JnL1RoaW5nXCI+JyxcbiAgICAgICAgcG9zaXRpb25DbG9zZVRhZyA9ICc8L3NlY3Rpb24+JyxcblxuICAgIC8vINCjINGA0LXRgdGD0YDRgdCwINC10YHRgtGMINGB0LLQvtC5INC40L3QstC10L3RgtCw0YDRjCDQuCDRgdGC0LjQu9GMINC10LPQviDRgdGC0LjQu9GMLlxuICAgIHN0b2NrID0gc3BlYy5zdG9jayxcbiAgICAgICAgc3R5bGVTdG9jayA9IHNwZWMuc3R5bGVTdG9jayA/IHNwZWMuc3R5bGVTdG9jayA6IFwiXCIsXG5cbiAgICAvLyDQoyDRgNC10YHRg9GA0YHQsCDQtdGB0YLRjCDRgdCy0L7QuSDQuNGB0YLQvtGH0L3QuNC6INGBINC40LfQvtCx0YDQsNC20LXQvdC40Y/QvNC4LlxuICAgIHBhdGhUb0ltZ3MgPSBzcGVjLnBhdGgsXG5cbiAgICAvLyDQqNCw0LHQu9C+0L0g0L/Qu9C40YLQutC4LlxuICAgIHRpbGVIdG1sID0gc3BlYy50aWxlSHRtbDtcblxuICAgIC8vINCd0LXQutC+0YLQvtGA0YvQtSDQv9C10YDQtdC80LXQvdC90YvQtSDQv9C+0L3QsNC00L7QsdC40YLRjNGB0Y8g0LjQt9C80LXQvdC40YLRjC5cbiAgICB0aGF0LnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhhdC5wb3NpdGlvbkNsb3NlVGFnID0gcG9zaXRpb25DbG9zZVRhZztcbiAgICB0aGF0Ll9uYW1lID0gbmFtZTtcbiAgICAvLyDQp9GC0L4g0L7QvSDRg9C80LXQtdGCINC00LXQu9Cw0YLRjD9cbiAgICAvLyDQo9C80LXQtdGCINC/0YDQtdC00YHRgtCw0LLQuNGC0Ywg0YHQtdCx0Y8uXG4gICAgdGhhdC5idWlsZEhlYWRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaGVhZGluZyA9ICc8aDIgY2xhc3M9XCJoZWFkaW5nICcgKyBzdHlsZU5hbWUgKyAnXCIgaXRlbXByb3A9XCJjYXRlZ29yeVwiPic7XG4gICAgICBoZWFkaW5nICs9IHRoYXQuX25hbWUgKyAnPC9oMj4nO1xuXG4gICAgICByZXR1cm4gaGVhZGluZztcbiAgICB9O1xuXG4gICAgLy8g0KHQvtCx0LjRgNCw0LXRgiDRgdCy0L7QuSDQuNC90LLQtdC90YLQsNGA0YwuXG4gICAgdGhhdC5idWlsZFRpbGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZpbmFsSHRtbCA9ICc8ZGl2IGNsYXNzPVwiY292ZXJUaWxlcyAnICsgc3R5bGVTdG9jayArICdcIj4nO1xuICAgICAgZmluYWxIdG1sICs9ICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+JztcbiAgICAgIGZpbmFsSHRtbCArPSAnPHVsIGNsYXNzPVwidGlsZXNfX3RpbGVzTGlzdCB0aWxlc0xpc3RcIiByb2xlPVwiZ3JvdXBcIiBpdGVtc2NvcGUgIGl0ZW10eXBlPVwiaHR0cHM6Ly9zY2hlbWEub3JnL1RoaW5nXCI+JztcblxuICAgICAgc3RvY2subWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIC8vINCY0LfQstC70LXQutCw0LXQvCDQuNC3INC60LDQttC00L7QuSDQutCw0YLQtdCz0L7RgNC40Lgg0LTQsNC90L3Ri9C1LlxuICAgICAgICB2YXIgaHRtbCA9IHRpbGVIdG1sO1xuICAgICAgICB2YXIgbmFtZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gaXRlbS5kZXNjcmlwdGlvbjtcbiAgICAgICAgdmFyIHNob3J0X25hbWUgPSBcIlwiO1xuXG4gICAgICAgIC8vINCf0YDQuCDQvtC/0YDQtdC00LXQu9GR0L3QvdC+0Lwg0YLQuNC/0LUgLSDRgdCy0L7QuSB1cmwuXG4gICAgICAgIC8vINCi0LDQutC20LUg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNGOINC/0YDQuCDQvtC/0YDQtdC00LXQu9GR0L3QvdC+0Lwg0YLQuNC/0LUg0LDRgtGA0LjQsdGD0YLRiyBkYXRhLWNhdCDQuCBkYXRhLWZpcm0uXG4gICAgICAgIHN3aXRjaCAocGF0aFRvSW1ncykge1xuICAgICAgICAgIC8vIFVSTCDQtNC70Y8g0LrQsNGC0LXQs9C+0YDQuNC5LlxuICAgICAgICAgIGNhc2UgJ2NhdGVnb3J5JzpcbiAgICAgICAgICAgIHNob3J0X25hbWUgPSBpdGVtLnNob3J0X25hbWUgKyAnLycgKyBpdGVtLnNob3J0X25hbWU7XG5cbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImNhdGVnb3J5XCIsIGl0ZW0uc2hvcnRfbmFtZSk7XG4gICAgICAgICAgICAvLyDQm9C40LHQviBkYXRhLWZpcm0g0LHRg9C00LXRgiDQv9GD0YHRgtC+0LLQsNGC0YwsINC60LDRgtC10LPQvtGA0LjRjyDQt9Cw0LPRgNGD0LfQuNC70LDRgdGMINC40Lcg0LrQsNGC0LDQu9C+0LPQsCwg0YDQsNC30LTQtdC70LAgXCLQpNC40YDQvNGLXCIuXG4gICAgICAgICAgICAvLyDQm9C40LHQviDQsiDQvdC10LrQvtGC0L7RgNGL0YUg0L/Qu9C40YLQutCw0YUg0LrQsNGC0LXQs9C+0YDQuNC4INCx0YPQtNC10YIg0LrRjdGI0LjRgNC+0LLQsNC90L3QvtC1INC30L3QsNGH0LXQvdC40LUg0YTQuNGA0LzRiywg0L3QviDRjdGC0L4g0LbQtSDQvdC1INC60YDQuNGC0LjRh9C90L4uINCS0LXQtNGMINGC0LDQuj9cbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImZpcm1cIiwgc3QuYnJlYWRjcnVtYi5maXJtLnNob3J0X25hbWUpO1xuICAgICAgICAgICAgaHRtbCA9IGluc2VydFByb3BlcnR5KGh0bWwsIFwiY29sbGVjdGlvblwiLCBcIlwiKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8gVVJMINC00LvRjyDRhNC40YDQvCDQutCw0YLQtdCz0L7RgNC40LguXG4gICAgICAgICAgY2FzZSAnZmlybSc6XG4gICAgICAgICAgICBzaG9ydF9uYW1lID0gc3QuYnJlYWRjcnVtYi5jYXRlZ29yeS5zaG9ydF9uYW1lICsgXCIvXCIgKyBpdGVtLnNob3J0X25hbWUgKyBcIi9cIiArIGl0ZW0uc2hvcnRfbmFtZTtcblxuICAgICAgICAgICAgaHRtbCA9IGluc2VydFByb3BlcnR5KGh0bWwsIFwiY2F0ZWdvcnlcIiwgc3QuYnJlYWRjcnVtYi5jYXRlZ29yeS5zaG9ydF9uYW1lKTtcbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImZpcm1cIiwgaXRlbS5zaG9ydF9uYW1lKTtcbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImNvbGxlY3Rpb25cIiwgXCJcIik7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIC8vIFVSTCDQtNC70Y8g0LrQvtC70LvQtdC60YbQuNC5INGE0LjRgNC80YsuXG4gICAgICAgICAgY2FzZSAnY29sbGVjdGlvbic6XG4gICAgICAgICAgICBzaG9ydF9uYW1lID0gc3QuYnJlYWRjcnVtYi5jYXRlZ29yeS5zaG9ydF9uYW1lICsgXCIvXCIgKyBzdC5icmVhZGNydW1iLmZpcm0uc2hvcnRfbmFtZSArIFwiL1wiICsgaXRlbS5zaG9ydF9uYW1lICsgXCIvXCIgKyBpdGVtLnNob3J0X25hbWU7XG5cbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImNhdGVnb3J5XCIsIHN0LmJyZWFkY3J1bWIuY2F0ZWdvcnkuc2hvcnRfbmFtZSk7XG4gICAgICAgICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJmaXJtXCIsIHN0LmJyZWFkY3J1bWIuZmlybS5zaG9ydF9uYW1lKTtcbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImNvbGxlY3Rpb25cIiwgaXRlbS5zaG9ydF9uYW1lKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgLy8g0J3QsNCy0LXRgNC90L7QtSwg0LzQvtC20L3QviDRg9Cx0YDQsNGC0Ywg0YLQtSDQstCw0YDQuNCw0L3RgtGLLCDRh9GC0L4g0LLRi9GI0LUuXG4gICAgICAgICAgLy8gVVJMINC00LvRjyDRhNC40YDQvCDQsiDQutCw0YLQsNC70L7Qs9C1LlxuICAgICAgICAgIGNhc2UgJ2Zpcm1zJzpcbiAgICAgICAgICAgIHZhciBjYXRzID0gaXRlbS5jYXRlZ29yaWVzO1xuICAgICAgICAgICAgc2hvcnRfbmFtZSA9IGNhdHNbMF0gKyAnLycgKyBpdGVtLnNob3J0X25hbWUgKyAnLycgKyBpdGVtLnNob3J0X25hbWU7XG5cbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImNhdGVnb3J5XCIsIGNhdHMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJmaXJtXCIsIGl0ZW0uc2hvcnRfbmFtZSk7XG4gICAgICAgICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJjb2xsZWN0aW9uXCIsIFwiXCIpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAvLyBVUkwg0LTQu9GPINC60L7Qu9C70LXQutGG0LjRjyDQsiDQv9C+0LjRgdC60LUuXG4gICAgICAgICAgY2FzZSAnY29sbGVjdGlvbnMnOlxuICAgICAgICAgICAgc2hvcnRfbmFtZSA9IGl0ZW0uY2F0ZWdvcnkgKyBcIi9cIiArIGl0ZW0uZmlybSArIFwiL1wiICsgaXRlbS5zaG9ydF9uYW1lICsgXCIvXCIgKyBpdGVtLnNob3J0X25hbWU7XG5cbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImNhdGVnb3J5XCIsIHN0LmJyZWFkY3J1bWIuY2F0ZWdvcnkuc2hvcnRfbmFtZSk7XG4gICAgICAgICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJmaXJtXCIsIHN0LmJyZWFkY3J1bWIuZmlybS5zaG9ydF9uYW1lKTtcbiAgICAgICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImNvbGxlY3Rpb25cIiwgaXRlbS5zaG9ydF9uYW1lKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJzaG9ydF9uYW1lXCIsIHNob3J0X25hbWUpO1xuICAgICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJuYW1lXCIsIG5hbWUpO1xuICAgICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJkZXNjcmlwdGlvblwiLCBkZXNjcmlwdGlvbik7XG5cbiAgICAgICAgZmluYWxIdG1sICs9IGh0bWw7XG4gICAgICB9KTsgLy8gZW5kIGFycmF5SXRlbXMubWFwXG5cbiAgICAgIGZpbmFsSHRtbCArPSAnPC91bD48L2Rpdj48L2Rpdj4nO1xuXG4gICAgICByZXR1cm4gZmluYWxIdG1sO1xuICAgIH07XG5cbiAgICAvLyDQmCDQvNC+0LbQtdGCINC/0YDQuNC50YLQuCDQsiDQu9GO0LHQvtC1INC80LXRgdGC0L4uXG4gICAgdGhhdC5wcmVzZW50UmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaGVhZGluZyA9IHRoYXQuYnVpbGRIZWFkaW5nKCk7XG4gICAgICB2YXIgdGlsZXMgPSB0aGF0LmJ1aWxkVGlsZXMoKTtcblxuICAgICAgdmFyIGZpbmFsSFRNTCA9IHRoYXQucG9zaXRpb24gKyAnPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPicgKyBoZWFkaW5nICsgJzwvZGl2PicgKyB0aWxlcyArIHBvc2l0aW9uQ2xvc2VUYWc7XG4gICAgICBpZiAoZnVuYyA9PT0gJ2FwcGVuZCcpIHtcbiAgICAgICAgJChnZW9sb2NhdGlvbikuYXBwZW5kKGZpbmFsSFRNTCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKGdlb2xvY2F0aW9uKS5odG1sKGZpbmFsSFRNTCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB0aGF0O1xuICB9O1xuXG4gIC8vIGFycmF5Q2F0ZWdvcmllcyAtINC80LDRgdGB0LjQsiDQutCw0YLQtdCz0L7RgNC40LksINC40LfQstC70LXRh9GR0L3QvdGL0YUg0LjQtyBkYXRhLWNhdCDQutCw0YLQtdCz0L7RgNC40Lgg0L3QsCDQs9C70LDQstC90L7QuSDRgdGC0YDQsNC90LjRhtC1LlxuICBzdC5idWlsZEFuZFNob3dBc3NvcnRtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vINCf0L7Qu9GD0YfQsNC10LwganNvbi3RhNCw0LnQuyDRgdC+INCy0YHQtdC80Lgg0LrQsNGC0LXQs9C+0YDQuNGP0LzQuC5cbiAgICBzbWFydEFwcC5nZXRDYXRlZ29yaWVzKCkuZG9uZShmdW5jdGlvbiAoY2F0ZWdvcmllcykge1xuICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQtdC8IGpzb24g0YEg0YTQuNGA0LzQsNC80LguXG4gICAgICBzbWFydEFwcC5nZXRDYXRlZ29yeUZpcm1zKCkuZG9uZShmdW5jdGlvbiAoZmlybXMpIHtcbiAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDRiNCw0LHQu9C+0L0g0L/Qu9C40YLQutC4LlxuICAgICAgICBzbWFydEFwcC5nZXRUaWxlKCkuZG9uZShmdW5jdGlvbiAodGlsZUh0bWwpIHtcblxuICAgICAgICAgIHZhciBjYXRhbG9nQ2F0ZWdvcmllcyA9IGNhdGFsb2dSZXNvdXJjZSh7XG4gICAgICAgICAgICBuYW1lOiAn0J/QvtC60YDRi9GC0LjRjycsXG4gICAgICAgICAgICBzdHlsZXNQbGFjZTogJ21haW5Db250ZW50X19jb3ZlcnMgY292ZXJzJyxcbiAgICAgICAgICAgIGlkUGxhY2U6ICdjYXRhbG9nQ292ZXJzJyxcbiAgICAgICAgICAgIHN0b2NrOiBjYXRlZ29yaWVzLFxuICAgICAgICAgICAgcGF0aDogJ2NhdGVnb3J5JyxcbiAgICAgICAgICAgIHRpbGVIdG1sOiB0aWxlSHRtbCxcbiAgICAgICAgICAgIGdlb2xvY2F0aW9uOiAnI21haW4nLFxuICAgICAgICAgICAgZnVuYzogXCJhcHBlbmRcIiB9KTtcblxuICAgICAgICAgIHZhciBjYXRhbG9nRmlybXMgPSBjYXRhbG9nUmVzb3VyY2Uoe1xuICAgICAgICAgICAgbmFtZTogJ9Ck0LjRgNC80YsnLFxuICAgICAgICAgICAgc3R5bGVOYW1lOiAnaGVhZGluZy1maXJtJyxcbiAgICAgICAgICAgIHN0eWxlc1BsYWNlOiAnbWFpbkNvbnRlbnRfX2Zpcm1zIGZpcm1zJyxcbiAgICAgICAgICAgIGlkUGxhY2U6ICdjYXRhbG9nRmlybXMnLFxuICAgICAgICAgICAgc3RvY2s6IGZpcm1zLFxuICAgICAgICAgICAgcGF0aDogJ2Zpcm1zJyxcbiAgICAgICAgICAgIHRpbGVIdG1sOiB0aWxlSHRtbCxcbiAgICAgICAgICAgIGdlb2xvY2F0aW9uOiAnI21haW4nLFxuICAgICAgICAgICAgZnVuYzogXCJhcHBlbmRcIiB9KTtcblxuICAgICAgICAgIGNhdGFsb2dDYXRlZ29yaWVzLnByZXNlbnRSZXNvdXJjZSgpO1xuICAgICAgICAgIGNhdGFsb2dGaXJtcy5wcmVzZW50UmVzb3VyY2UoKTtcbiAgICAgICAgfSk7IC8vIGVuZCBnZXRUaWxlXG4gICAgICB9KTsgLy8gZW5kIGdldENhdGVnb3J5RmlybXNcbiAgICB9KTsgLy8gZW5kIGdldENhdGVnb3JpZXNcbiAgfTsgLy8gZW5kIGJ1aWxkQW5kU2hvd0NhdGVnb3JpZXNIVE1MXG5cbiAgc3Quc2hvd0NhdGFsb2dIVE1MID0gZnVuY3Rpb24gKCkge1xuICAgIHNtYXJ0QXBwLmdldENhdGFsb2coKS5kb25lKGZ1bmN0aW9uIChjYXRhbG9nKSB7XG4gICAgICBzdC5zZWxlY3QuJG1haW4uaHRtbChjYXRhbG9nKTtcbiAgICAgIHN0LmJ1aWxkQW5kU2hvd0Fzc29ydG1lbnQoKTtcbiAgICB9KTtcbiAgfTsgLy8gZW5kIHN0LnNob3dDYXRhbG9nSFRNTFxuICBzdC5zaG93U2VydmljZUhUTUwgPSBmdW5jdGlvbiAoKSB7XG4gICAgc21hcnRBcHAuZ2V0U2VydmljZSgpLmRvbmUoZnVuY3Rpb24gKHNlcnZpY2VIdG1sKSB7XG4gICAgICBzdC5zZWxlY3QuJG1haW4uaHRtbChzZXJ2aWNlSHRtbCk7XG4gICAgfSk7IC8vIGVuZCBzbWFydEFwcC5nZXRTZXJ2aWNlXG4gIH07IC8vIGVuZCBzdC5zaG93U2VydmljZUhUTUxcbiAgLy8vLyDQntCx0YrQtdC60YIg0L/RgNC+0LXQutGC0L7Qsi5cbiAgLy92YXIgcHJvamVjdHNSZXNvdXJjZSA9IGZ1bmN0aW9uKCBwYXJhbXMgKSB7XG4gIC8vICB2YXIgdGhhdCA9IGNhdGFsb2dSZXNvdXJjZSggcGFyYW1zICksXG4gIC8vICAgICAgcHJvamVjdFRpbGVIdG1sID0gcGFyYW1zLnByb2plY3RUaWxlSHRtbDtcbiAgLy8gIFxuICAvLyAgZGVsZXRlIHBhcmFtcy5zdHlsZVN0b2NrO1xuICAvLyAgZGVsZXRlIHBhcmFtcy5wYXRoO1xuICAvLyAgLy8g0KMg0L/Qu9C40YLQvtC6INC/0YDQvtC10LrRgtC+0LIg0LTRgNGD0LPQvtC5INGB0YLQuNC70YwuXG4gIC8vICBkZWxldGUgcGFyYW1zLnRpbGVIdG1sO1xuICAvLyAgXG4gIC8vICB0aGF0LmJ1aWxkVGlsZXMgPSBmdW5jdGlvbigpIHtcbiAgLy8gICAgdmFyIGZpbmFsSHRtbCA9ICc8ZGl2IGNsYXNzPVwicHJvamVjdHNfX3dvcmtzXCI+JyxcbiAgLy8gICAgICAgIHN0b2NrID0gcGFyYW1zLnN0b2NrO1xuICAvLyAgICBmaW5hbEh0bWwgKz0gICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+JztcbiAgLy8gICAgZmluYWxIdG1sICs9ICc8dWwgY2xhc3M9XCJsaXN0V29ya3NcIiByb2xlPVwiZ3JvdXBcIiBpdGVtc2NvcGUgIGl0ZW10eXBlPVwiaHR0cHM6Ly9zY2hlbWEub3JnL1RoaW5nXCI+JztcbiAgLy9cbiAgLy8gICAgc3RvY2subWFwKGZ1bmN0aW9uKCBpdGVtICkge1xuICAvLyAgICAgIHZhciBodG1sID0gcHJvamVjdFRpbGVIdG1sLFxuICAvLyAgICAgICAgICBuYW1lID0gaXRlbS5uYW1lLFxuICAvLyAgICAgICAgICBkZXNjcmlwdGlvbiA9IGl0ZW0uZGVzY3JpcHRpb24sXG4gIC8vICAgICAgICAgIHNob3J0X25hbWUgPSAncHJvamVjdHMvJyArIGl0ZW0uc2hvcnRfbmFtZSArICcvJyArIGl0ZW0uc2hvcnRfbmFtZS50b0xvd2VyQ2FzZSgpICsgJ18xJztcbiAgLy8gICAgICBcbiAgLy8gICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJzaG9ydF9uYW1lXCIsIHNob3J0X25hbWUpO1xuICAvLyAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcInByb2plY3RcIiwgaXRlbS5zaG9ydF9uYW1lKTtcbiAgLy8gICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJuYW1lXCIsIG5hbWUpO1xuICAvLyAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImRlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgLy8gICAgICBodG1sID0gaW5zZXJ0UHJvcGVydHkoaHRtbCwgXCJhbW91bnRJbWdzXCIsIGl0ZW0uYW1vdW50KTtcbiAgLy9cbiAgLy8gICAgICBmaW5hbEh0bWwgKz0gaHRtbDtcbiAgLy8gICAgfSk7Ly8gZW5kIHBhcmFtcy5zdG9jay5tYXBcbiAgLy8gICAgXG4gIC8vICAgIGZpbmFsSHRtbCArPSAnPC91bD48L2Rpdj48L2Rpdj4nO1xuICAvLyAgICBcbiAgLy8gICAgcmV0dXJuIGZpbmFsSHRtbDtcbiAgLy8gIH07XG4gIC8vICBcbiAgLy8gIHJldHVybiB0aGF0O1xuICAvL307Ly8gZW5kIHByb2plY3RzUmVzb3VyY2VcbiAgLy9cbiAgLy9cbiAgLy9zdC5zaG93UHJvamVjdHNIVE1MID0gZnVuY3Rpb24oKSB7XG4gIC8vICBzbWFydEFwcC5nZXRQcm9qZWN0cygpLmRvbmUoZnVuY3Rpb24oIHByb2plY3RzICkge1xuICAvLyAgICBzbWFydEFwcC5nZXRUaWxlUHJvamVjdCgpLmRvbmUoZnVuY3Rpb24oIHByb2plY3RUaWxlSHRtbCApIHtcbiAgLy8gICAgICB2YXIgbXlQcm9qZWN0cyA9IHByb2plY3RzUmVzb3VyY2Uoe1xuICAvLyAgICAgICAgbmFtZTogJ9Cf0YDQvtC10LrRgtGLJyxcbiAgLy8gICAgICAgIHN0eWxlUGxhY2U6ICdtYWluQ29udGVudF9fcHJvamVjdHMgcHJvamVjdHMnLFxuICAvLyAgICAgICAgaWRQbGFjZTogJ2NvbnRlbnRQcm9qZWN0cycsXG4gIC8vICAgICAgICBzdG9jazogcHJvamVjdHMsXG4gIC8vICAgICAgICBwcm9qZWN0VGlsZUh0bWw6IHByb2plY3RUaWxlSHRtbCxcbiAgLy8gICAgICAgIGdlb2xvY2F0aW9uOiAnI21haW4nLFxuICAvLyAgICAgICAgZnVuYzogJ2h0bWwnXG4gIC8vICAgICAgfSk7XG4gIC8vICAgICAgXG4gIC8vICAgICAgbXlQcm9qZWN0cy5wcmVzZW50UmVzb3VyY2UoKTtcbiAgLy8gICAgfSk7XG4gIC8vICB9KTtcbiAgLy99Oy8vIGVuZCBzdC5zaG93UHJvamVjdHNIVE1MXG4gIC8vINCe0LHRitC10LrRgiwg0L7RgiDQutC+0YLQvtGA0L7Qs9C+INC90LDRgdC70LXQtNGD0Y7RgtGB0Y8g0J7QlNCY0J3QntCn0J3Qq9CVINC60LDRgtC10LPQvtGA0LjQuCxcbiAgLy8g0YTQuNGA0LzRiyDQuCDQutC+0LvQu9C10LrRhtC40LguXG4gIHZhciBzaW5nbGVSZXNvdXJjZSA9IGZ1bmN0aW9uIHNpbmdsZVJlc291cmNlKHBhcmFtcykge1xuICAgIC8qIHBhcmFtcyAgXHJcbiAgICAgICBzdHlsZU5hbWU6IHN0cmluZyhvdGlvbmFsW2hlYWRpbmctZmlybV0pLFxyXG4gICAgICAgc3R5bGVzUGxhY2U6IHN0cmluZyhjbGFzc2VzKSxcclxuICAgICAgIGlkUGxhY2U6IHN0cmluZyhpZCksXHJcbiAgICAgICBzdG9jazogYXJyYXksXHJcbiAgICAgICBzdHlsZVN0b2NrOiBzdHJpbmcoY2xhc3NlcyksXHJcbiAgICAgICBwYXRoOiBzdHJpbmcsXHJcbiAgICAgICB0aWxlSHRtbDogdGlsZUh0bWwsXHJcbiAgICAgICBnZW9sb2NhdGlvbjogc3RyaW5nKHNlbGVjdG9yKSxcclxuICAgICovXG5cbiAgICB2YXIgdGhhdCA9IGNhdGFsb2dSZXNvdXJjZShwYXJhbXMpO1xuXG4gICAgLy8g0J3QtdC+0LHRj9C30LDRgtC10LvRjNC90YvQtSDQv9Cw0YDQsNC80LXRgtGA0YsuXG4gICAgZGVsZXRlIHBhcmFtcy5uYW1lO1xuICAgIGRlbGV0ZSBwYXJhbXMuZnVuYztcbiAgICAvLyDQmtGN0YjQuNGA0L7QstCw0L3QvdGL0LUg0LTQsNC90L3Ri9C1INC+INC/0L7RgdC70LXQtNC90LjRhSDQv9C10YDQtdC00LLQuNC20LXQvdC40Y/RhS5cbiAgICB0aGF0Ll9jYXRlZ29yeU5hbWUgPSAnPHNwYW4gaXRlbXByb3A9XCJuYW1lXCI+JyArIHN0LmJyZWFkY3J1bWIuY2F0ZWdvcnkubmFtZSArICc8L3NwYW4+JztcbiAgICB0aGF0Ll9maXJtTmFtZSA9ICc8c3BhbiBpdGVtcHJvcD1cIm5hbWVcIj4nICsgc3QuYnJlYWRjcnVtYi5maXJtLm5hbWUgKyAnPC9zcGFuPic7XG4gICAgdGhhdC5fY29sbGVjdGlvbk5hbWUgPSAnPHNwYW4gaXRlbXByb3A9XCJuYW1lXCI+JyArIHN0LmJyZWFkY3J1bWIuY29sbGVjdGlvbi5uYW1lICsgJzwvc3Bhbj4nO1xuXG4gICAgLy8g0KjQsNCx0LvQvtC90Ysg0Y3Qu9C10LzQtdC90YLQvtCyINC90LDQsi4g0YbQtdC/0L7Rh9C60LguXG4gICAgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzID0ge1xuICAgICAgbGlzdDogJzxvbCBpZD1cImJyZWFkY3J1bWJcIiBjbGFzcz1cIm1haW5Db250ZW50X19icmVhZGNydW1iIGJyZWFkY3J1bWJcIiBpdGVtc2NvcGUgaXRlbXR5cGU9XCJodHRwOi8vc2NoZW1hLm9yZy9CcmVhZGNydW1iTGlzdFwiPicsXG4gICAgICBsaXN0RmlybTogJzxvbCBpZD1cImJyZWFkY3J1bWJcIiBjbGFzcz1cIm1haW5Db250ZW50X19icmVhZGNydW1iIGJyZWFkY3J1bWIgYnJlYWRjcnVtYi1maXJtXCIgaXRlbXNjb3BlIGl0ZW10eXBlPVwiaHR0cDovL3NjaGVtYS5vcmcvQnJlYWRjcnVtYkxpc3RcIj4nLFxuICAgICAgYmNFbGVtQWN0aXZlOiAnPGxpIGNsYXNzPVwiYnJlYWRjcnVtYl9fYnJlYWRjcnVtYkl0ZW0gYnJlYWRjcnVtYkl0ZW0gYWN0aXZlXCIgaXRlbXByb3A9XCJpdGVtTGlzdEVsZW1lbnRcIiBpdGVtc2NvcGUgaXRlbXR5cGU9XCJodHRwOi8vc2NoZW1hLm9yZy9MaXN0SXRlbVwiICcsXG4gICAgICBiY0VsZW06ICc8bGkgZGF0YS1jYXQ9XCJcIiBkYXRhLWZpcm09XCJcIiBjbGFzcz1cImJyZWFkY3J1bWJfX2JyZWFkY3J1bWJJdGVtIGJyZWFkY3J1bWJJdGVtXCIgaXRlbXByb3A9XCJpdGVtTGlzdEVsZW1lbnRcIiBpdGVtc2NvcGUgaXRlbXR5cGU9XCJodHRwOi8vc2NoZW1hLm9yZy9MaXN0SXRlbVwiICcsXG4gICAgICBiY1JlZmVyOiAnPGEgY2xhc3M9XCJicmVhZGNydW1iSXRlbV9fcmVmZXJcIiBocmVmPVwiI1wiIGl0ZW1wcm9wPVwiaXRlbVwiPicsXG4gICAgICBpZHM6IHtcbiAgICAgICAgYmNDYXRlZ29yeTogJ2lkPVwiYmNDYXRlZ29yeVwiPicsXG4gICAgICAgIGJjRmlybTogJ2lkPVwiYmNGaXJtXCI+J1xuICAgICAgfSxcbiAgICAgIHNvbGlkRWxlbWVudHM6IHtcbiAgICAgICAgaG9tZUFuZENhdGFsb2dCQzogXCJcIlxuICAgICAgfVxuICAgIH07XG4gICAgLy8g0JLQuNC30LjRgtC90LDRjyDQutCw0YDRgtC+0YfQutCwLCDQvtC00L3QsCDQvdCwINCy0YHQtSDQvtC00LjQvdC+0YfQvdGL0LUg0YDQtdGB0YPRgNGB0YsuXG4gICAgdGhhdC5fbXlWaXNpdENhcmQgPSAnPGRpdiAgIGNsYXNzPVwiY29sbGVjdGlvbl9fY29udGFjdFwiPjxkaXYgY2xhc3M9XCJjb250YWluZXJcIj4nICsgJzxkaXYgY2xhc3M9XCJjb250YWN0X192aXNpdENhcmRcIiBpdGVtc2NvcGUgaXRlbXR5cGU9XCJodHRwOi8vc2NoZW1hLm9yZy9Pcmdhbml6YXRpb25cIj48ZGl2IGNsYXNzPVwidmlzaXRDYXJkX19oZWFkZXJcIj48L2Rpdj4nICsgJzxkaXYgY2xhc3M9XCJ2aXNpdENhcmRfX2JvZHlcIj4nICsgJzxoMyBjbGFzcz1cImJvZHlfX3RpdGxlXCI+0JrQvtC90YLQsNC60YLRizwvaDM+JyArICc8cCBjbGFzcz1cImJvZHlfX2NvbnRhY3RzXCI+JyArICc8YSBjbGFzcz1cImNvbnRhY3RzX190ZWxcIiBocmVmPVwidGVsOjgtNDk1LTkwOS01MC0yMFwiIGl0ZW1wcm9wPVwidGVsZXBob25lXCI+OC00OTUtOTA5LTUwLTIwPC9hPicgKyAnIDxhIGNsYXNzPVwiY29udGFjdHNfX2VtYWlsXCIgaHJlZj1cIm1haWx0bzpjb25uZWN0QHNtYXJ0LXRpbGVzLnJ1XCIgaXRlbXByb3A9XCJlbWFpbFwiPiBjb25uZWN0QHNtYXJ0LXRpbGVzLnJ1PC9hPicgKyAnPC9wPjwvZGl2PjwvZGl2PjwvZGl2Pic7XG5cbiAgICB0aGF0LmhvbWVBbmRDYXRhbG9nQkMgPSB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNFbGVtICsgJ2lkPVwiYmNIb21lXCI+JyArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5iY1JlZmVyICsgJzxzcGFuIGl0ZW1wcm9wPVwibmFtZVwiPtCT0LvQsNCy0L3QsNGPPC9zcGFuPicgKyAnPC9hPjxtZXRhIGl0ZW1wcm9wPVwicG9zaXRpb25cIiBjb250ZW50PVwiMVwiIC8+PC9saT4nICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbSArICdpZD1cImJjQ2F0YWxvZ1wiPicgKyB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNSZWZlciArICc8c3BhbiBpdGVtcHJvcD1cIm5hbWVcIj7QmtCw0YLQsNC70L7Qszwvc3Bhbj4nICsgJzwvYT48bWV0YSBpdGVtcHJvcD1cInBvc2l0aW9uXCIgY29udGVudD1cIjJcIiAvPjwvbGk+JztcblxuICAgIC8vINCk0YPQvdC60YbQuNGPLCDQutC+0YLQvtGA0LDRjyDQsdGD0LTQtdGCINC/0LXRgNC10L7Qv9GA0LXQtNC10LvRj9GC0YzRgdGPLlxuICAgIHRoYXQuX2J1aWxkQnJlYWRjcnVtYiA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgdGhhdC5wcmVzZW50UmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYnJlYWRjcnVtYiA9IHRoYXQuX2J1aWxkQnJlYWRjcnVtYigpLFxuICAgICAgICAgIGhlYWRpbmcgPSB0aGF0LmJ1aWxkSGVhZGluZygpLFxuICAgICAgICAgIHRpbGVzID0gdGhhdC5idWlsZFRpbGVzKCksXG4gICAgICAgICAgZmluYWxIVE1MID0gdGhhdC5wb3NpdGlvbiArICc8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+JyArIGJyZWFkY3J1bWIgKyBoZWFkaW5nICsgJzwvZGl2PicgKyB0aWxlcyArIHRoYXQucG9zaXRpb25DbG9zZVRhZztcblxuICAgICAgJChwYXJhbXMuZ2VvbG9jYXRpb24pLmh0bWwoZmluYWxIVE1MKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoYXQ7XG4gIH07XG4gIC8vINCe0LHRitC10LrRgiDQutCw0YLQtdCz0L7RgNC40LksINC60L7RgtC+0YDRi9C1INCy0YvQsdC40YDQsNGO0YLRgdGPINCyIFxuICAvLyDQutCw0YLQsNC70L7Qs9C1INC4INC90LAg0LTQvtC80LDRiNC90LXQuSDRgdGC0YDQsNC90LjRhtC1LlxuICB2YXIgY2F0YWxvZ0FuZEhvbWVDYXRlZ29yeSA9IGZ1bmN0aW9uIGNhdGFsb2dBbmRIb21lQ2F0ZWdvcnkocGFyYW1zKSB7XG4gICAgdmFyIHRoYXQgPSBzaW5nbGVSZXNvdXJjZShwYXJhbXMpO1xuXG4gICAgLy8g0JjQvNGPINC00LvRjyDQt9Cw0LPQvtC70L7QstC60LAuXG4gICAgdGhhdC5fbmFtZSA9IHRoYXQuX2NhdGVnb3J5TmFtZTtcblxuICAgIHZhciBjYXRlZ29yeUJDID0gdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbUFjdGl2ZSArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5pZHMuYmNDYXRlZ29yeSArIHRoYXQuX25hbWUgKyAnPC9saT48L29sPic7XG5cbiAgICB0aGF0Ll9idWlsZEJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZmluYWxIVE1MID0gdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmxpc3QgKyB0aGF0LmhvbWVBbmRDYXRhbG9nQkM7XG5cbiAgICAgIGZpbmFsSFRNTCArPSBjYXRlZ29yeUJDO1xuXG4gICAgICByZXR1cm4gZmluYWxIVE1MO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGhhdDtcbiAgfTtcblxuICBzdC5idWlsZEhvbWVBbmRDYXRhbG9nQ2F0ZWdvcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQtNCw0L3QvdGL0LUg0L4g0YTQuNGA0LzQsNGFINCyIGpzb24g0YTQvtGA0LzQsNGC0LUuXG4gICAgc21hcnRBcHAuZ2V0Q2F0ZWdvcnlGaXJtcygpLmRvbmUoZnVuY3Rpb24gKGZpcm1zKSB7XG4gICAgICBzbWFydEFwcC5nZXRUaWxlKCkuZG9uZShmdW5jdGlvbiAodGlsZUh0bWwpIHtcbiAgICAgICAgLy8g0JzQsNGB0YHQuNCyINGBINGE0LjRgNC80LDQvNC4LCDQutC+0YLQvtGA0YvQtSDQv9GA0LXQvdCw0LTQu9C10LbQsNGCINC60LDRgtC10LPQvtGA0LjRj9C8LlxuICAgICAgICB2YXIgYXJyYXlJdGVtcyA9IFtdO1xuXG4gICAgICAgIC8vINCd0LDRhdC+0LTQuNC8INGE0LjRgNC80YssINC60L7RgtC+0YDRi9C1INC/0YDQuNC90LDQtNC70LXQttCw0YIg0LrQsNGC0LXQs9C+0YDQuNC4XG4gICAgICAgIGZpcm1zLmZvckVhY2goZnVuY3Rpb24gKGZpcm0pIHtcbiAgICAgICAgICAvLyDQnNCwY2PQuNCyINC60LDRgtC10LPQvtGA0LjQuSwg0LrQvtGC0L7RgNGL0LUg0L/RgNC40L3QsNC00LvQtdC20LDRgiDRhNC40YDQvNC1LlxuICAgICAgICAgIGZpcm0uY2F0ZWdvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChjYXQpIHtcbiAgICAgICAgICAgIGlmIChjYXQgPT0gc3QuYnJlYWRjcnVtYi5jYXRlZ29yeS5zaG9ydF9uYW1lKSB7XG4gICAgICAgICAgICAgIGFycmF5SXRlbXMucHVzaChmaXJtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTsgLy8gZW5kIG1hcFxuICAgICAgICB9KTsgLy8gZW5kIG1hcFxuXG5cbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gY2F0YWxvZ0FuZEhvbWVDYXRlZ29yeSh7XG4gICAgICAgICAgaWRQbGFjZTogJ2NhdGVnb3J5JyxcbiAgICAgICAgICBzdG9jazogYXJyYXlJdGVtcyxcbiAgICAgICAgICBzdHlsZVN0b2NrOiAnY292ZXJUaWxlcy1maXJtJyxcbiAgICAgICAgICBwYXRoOiAnZmlybScsXG4gICAgICAgICAgdGlsZUh0bWw6IHRpbGVIdG1sLFxuICAgICAgICAgIGdlb2xvY2F0aW9uOiAnI21haW4nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNhdGVnb3J5LnByZXNlbnRSZXNvdXJjZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8g0J7QsdGK0LXQutGCINC60LDRgtC10LPQvtGA0LjQuCDRhNC40YDQvNGLLlxuICB2YXIgY2F0ZWdvcnlGaXJtID0gZnVuY3Rpb24gY2F0ZWdvcnlGaXJtKHBhcmFtcykge1xuICAgIHZhciB0aGF0ID0gc2luZ2xlUmVzb3VyY2UocGFyYW1zKTtcblxuICAgIHRoYXQuX25hbWUgPSB0aGF0Ll9jYXRlZ29yeU5hbWU7XG5cbiAgICB2YXIgYmNGaXJtQ2F0ZWdvcnkgPSB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNFbGVtICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmlkcy5iY0Zpcm0gKyB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNSZWZlciArIHRoYXQuX2Zpcm1OYW1lICsgJzwvYT48bWV0YSBpdGVtcHJvcD1cInBvc2l0aW9uXCIgY29udGVudD1cIjNcIiAvPicgKyB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNFbGVtQWN0aXZlICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmlkcy5iY0NhdGVnb3J5ICsgdGhhdC5fbmFtZSArICc8bWV0YSBpdGVtcHJvcD1cInBvc2l0aW9uXCIgY29udGVudD1cIjRcIiAvPjwvbGk+PC9vbD4nO1xuXG4gICAgdGhhdC5fYnVpbGRCcmVhZGNydW1iID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZpbmFsSFRNTCA9IHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5saXN0ICsgdGhhdC5ob21lQW5kQ2F0YWxvZ0JDO1xuXG4gICAgICBmaW5hbEhUTUwgKz0gYmNGaXJtQ2F0ZWdvcnk7XG5cbiAgICAgIHJldHVybiBmaW5hbEhUTUw7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGF0O1xuICB9OyAvLyBlbmQgY29sbGVjdGlvbkNhdGVnb3J5XG5cbiAgc3QuYnVpbGRDYXRlZ29yeU9mRmlybUhUTUwgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8g0J/QvtC70YPRh9Cw0Y4g0LTQsNC90L3Ri9C1INGBINC/0LvQuNGC0LrQsNC80LhcbiAgICBzbWFydEFwcC5nZXRDYXRlZ29yeUZpcm1zKCkuZG9uZShmdW5jdGlvbiAoY2F0ZWdvcmllcykge1xuICAgICAgLy8g0J/QvtC70YPRh9Cw0Y4g0YjQsNCx0LvQvtC9INC/0LvQuNGC0L7Qui5cbiAgICAgIHNtYXJ0QXBwLmdldFRpbGUoKS5kb25lKGZ1bmN0aW9uICh0aWxlSHRtbCkge1xuICAgICAgICAvLyDQodC+0LfQtNCw0Y4g0LzQsNGB0YHQuNCyINC90YPQttC90YvRhSDQutC+0LvQu9C10LrRhtC40Lkg0LrQsNGC0LXQs9C+0YDQuNC4INGE0LjRgNC80YsuXG4gICAgICAgIHZhciBjb2xsZWN0aW9ucyA9IFtdO1xuICAgICAgICAvLyDQl9Cw0L/QvtC70L3Rj9GOINGN0YLQvtGCINC80LDRgdGB0LjQsi5cbiAgICAgICAgY2F0ZWdvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChjYXRlZ29yeUZpcm0pIHtcbiAgICAgICAgICBpZiAoY2F0ZWdvcnlGaXJtLnNob3J0X25hbWUgPT0gc3QuYnJlYWRjcnVtYi5maXJtLnNob3J0X25hbWUpIHtcblxuICAgICAgICAgICAgY29sbGVjdGlvbnMgPSBjYXRlZ29yeUZpcm0uY29sbGVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uLmNhdGVnb3J5ID09PSBzdC5icmVhZGNydW1iLmNhdGVnb3J5LnNob3J0X25hbWU7XG4gICAgICAgICAgICB9KTsgLy8gZW5kIG1hcCBcbiAgICAgICAgICB9XG4gICAgICAgIH0pOyAvLyBlbmQgY2F0ZWdvcnlGaXJtc0l0ZW1zLm1hcFxuXG4gICAgICAgIHZhciBjYXRlZ29yeSA9IGNhdGVnb3J5RmlybSh7XG4gICAgICAgICAgc3R5bGVQbGFjZTogJ21haW5Db250ZW50X19jYXRlZ29yeScsXG4gICAgICAgICAgaWRQbGFjZTogJ2NhdGVnb3J5Q29sbGVjdGlvbnMnLFxuICAgICAgICAgIHN0b2NrOiBjb2xsZWN0aW9ucyxcbiAgICAgICAgICBzdHlsZVN0b2NrOiAnY292ZXJUaWxlcy1maXJtJyxcbiAgICAgICAgICBwYXRoOiAnY29sbGVjdGlvbicsXG4gICAgICAgICAgdGlsZUh0bWw6IHRpbGVIdG1sLFxuICAgICAgICAgIGdlb2xvY2F0aW9uOiAnI21haW4nIH0pO1xuXG4gICAgICAgIGNhdGVnb3J5LnByZXNlbnRSZXNvdXJjZSgpO1xuICAgICAgfSk7IC8vIGVuZCBnZXRUaWxlXG4gICAgfSk7IC8vIGVuZCBnZXRDYXRlZ29yeUZpcm1zIFxuICB9O1xuICAvLyDQndCw0YHRgtGA0LDQuNCy0LDQtdGCINC80LDRgdC60Lgg0YTQvtGA0LzRiy5cbiAgc3Quc2V0dGluZ1VwRm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKCcjaWRfcGhvbmUnKS5tYXNrKCcwICgwMDApIDAwMCAwMCAwMCcpO1xuICB9O1xuICAvL3N0LnNob3dDb250YWN0c0hUTUwgPSBmdW5jdGlvbigpIHtcbiAgLy8gIHNtYXJ0QXBwLmdldENvbnRhY3RzKCkuZG9uZShmdW5jdGlvbiggY29udGFjdHNIdG1sICl7ICBcbiAgLy8gICAgIHN0LnNlbGVjdC4kbWFpbi5odG1sKCBjb250YWN0c0h0bWwgKTtcbiAgLy8gICAgIHN0LnNldHRpbmdVcEZvcm0oKTtcbiAgLy8gICB9KTsvL2VuZCBzbWFydEFwcC5nZXRDb250YWN0c1xuICAvL307Ly8gZW5kIHN0LnNob3dDb250YWN0c0hUTUxcbiAgLy8g0J7QsdGK0LXQutGCINGE0LjRgNC80Ysg0LrQsNGC0LDQu9C+0LPQsC5cbiAgdmFyIGNhdGFsb2dGaXJtID0gZnVuY3Rpb24gY2F0YWxvZ0Zpcm0ocGFyYW1zKSB7XG4gICAgdmFyIHRoYXQgPSBzaW5nbGVSZXNvdXJjZShwYXJhbXMpO1xuXG4gICAgdGhhdC5fbmFtZSA9ICc8c3BhbiBpdGVtcHJvcD1cIm5hbWVcIj4nICsgdGhhdC5fZmlybU5hbWUgKyAnPC9zcGFuPic7XG5cbiAgICB2YXIgYmNGaXJtID0gdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbUFjdGl2ZSArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5pZHMuYmNGaXJtICsgdGhhdC5fbmFtZSArICc8bWV0YSBpdGVtcHJvcD1cInBvc2l0aW9uXCIgY29udGVudD1cIjNcIiAvPjwvbGk+PC9vbD4nO1xuXG4gICAgdGhhdC5fYnVpbGRCcmVhZGNydW1iID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGZpbmFsSFRNTCA9IHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5saXN0RmlybSArIHRoYXQuaG9tZUFuZENhdGFsb2dCQztcblxuICAgICAgZmluYWxIVE1MICs9IGJjRmlybTtcblxuICAgICAgcmV0dXJuIGZpbmFsSFRNTDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoYXQ7XG4gIH07IC8vIGVuZCBjYXRhbG9nRmlybVxuXG4gIC8vINCk0YPQvdC60YbQuNGPINC60L7RgtC+0YDQsNGPINC+0YLQvtCx0YDQsNC20LDQtdGCINGE0LjRgNC80YMg0LrQsNGC0LDQu9C+0LPQsFxuICBzdC5idWlsZENhdGFsb2dGaXJtSFRNTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INC60LDRgtC10LPQvtGA0LjQuC5cbiAgICBzbWFydEFwcC5nZXRDYXRlZ29yaWVzKCkuZG9uZShmdW5jdGlvbiAoY2F0ZWdvcmllcykge1xuICAgICAgc21hcnRBcHAuZ2V0Q2F0ZWdvcnlGaXJtcygpLmRvbmUoZnVuY3Rpb24gKGZpcm1zKSB7XG4gICAgICAgIC8vINCo0LDQsdC70L7QvSDQv9C70LjRgtC60LguXG4gICAgICAgIHNtYXJ0QXBwLmdldFRpbGUoKS5kb25lKGZ1bmN0aW9uICh0aWxlSHRtbCkge1xuICAgICAgICAgIHZhciBzb3J0ZWRDYXRlZ29yaWVzID0gW10sXG4gICAgICAgICAgICAgIGZpcm07XG5cbiAgICAgICAgICAvLyDQntGC0LHQuNGA0LDQtdC8INC90YPQttC90YvQtSDQutCw0YLQtdCz0L7RgNC40LguXG4gICAgICAgICAgZmlybXMuZm9yRWFjaChmdW5jdGlvbiAoZmlybSkge1xuICAgICAgICAgICAgaWYgKGZpcm0uc2hvcnRfbmFtZSA9PSBzdC5icmVhZGNydW1iLmZpcm0uc2hvcnRfbmFtZSkge1xuICAgICAgICAgICAgICAvLyDQoyDRhNC40YDQvNGLINC10YHRgtGMINC80LDRgdGB0LjQsiBjYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAvLyDQsiDQutC+0YLQvtGA0YvQuSDQt9Cw0L/QuNGB0LDQvdGLINCy0YHQtSDQv9GA0LjQvdCw0LTQu9C10LbQsNGJ0LjQtSDQutCw0YLQtdCz0L7RgNC40LguXG4gICAgICAgICAgICAgIGZpcm0uY2F0ZWdvcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wYXJlQ2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAvLyDQmNGJ0LXQvCDQvdGD0LbQvdGD0Y4g0LrQsNGC0LXQs9C+0YDQuNGOLlxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMuZm9yRWFjaChmdW5jdGlvbiAoY2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5zaG9ydF9uYW1lID09IGNvbXBhcmVDYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZWRDYXRlZ29yaWVzLnB1c2goY2F0ZWdvcnkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pOyAvLyBlbmQgY2F0ZWdvcmllcy5mb3JFYWNoXG4gICAgICAgICAgICAgIH0pOyAvLyBlbmQgYXJyYXlDYXRlZ29yaWVzLmZvckVhY2hcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTsgLy8gZW5kIGZpcm1zLmZvckVhY2hcblxuICAgICAgICAgIGZpcm0gPSBjYXRhbG9nRmlybSh7XG4gICAgICAgICAgICBzdHlsZU5hbWU6ICdoZWFkaW5nLWZpcm0nLFxuICAgICAgICAgICAgc3R5bGVzUGxhY2U6ICdtYWluQ29udGVudF9fZmlybSBmaXJtJyxcbiAgICAgICAgICAgIGlkUGxhY2U6ICdmaXJtQ2F0ZWdvcmllcycsXG4gICAgICAgICAgICBzdG9jazogc29ydGVkQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgIHBhdGg6ICdjYXRlZ29yeScsXG4gICAgICAgICAgICB0aWxlSHRtbDogdGlsZUh0bWwsXG4gICAgICAgICAgICBnZW9sb2NhdGlvbjogJyNtYWluJ1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZmlybS5wcmVzZW50UmVzb3VyY2UoKTtcbiAgICAgICAgfSk7IC8vIGVuZCBzbWFydEFwcC5nZXRUaWxlXG4gICAgICB9KTsgLy8gZW5kIHNtYXJ0QXBwLmdldENhdGVnb3J5RmlybXNcbiAgICB9KTsgLy8gZW5kIHNtYXJ0QXBwLmdldENhdGVnb3JpZXNcbiAgfTsgLy8gZW5kIGJ1aWxkSG9tZUNhdGVnb3JpZXNcblxuICAvLyDQntCx0YrQtdC60YIg0YTQuNGA0LzRiyDQutCw0YLQtdCz0L7RgNC40LguXG4gIHZhciBmaXJtQ2F0ZWdvcnkgPSBmdW5jdGlvbiBmaXJtQ2F0ZWdvcnkocGFyYW1zKSB7XG4gICAgdmFyIHRoYXQgPSBzaW5nbGVSZXNvdXJjZShwYXJhbXMpO1xuXG4gICAgdGhhdC5fbmFtZSA9ICc8c3BhbiBpdGVtcHJvcD1cIm5hbWVcIj4nICsgdGhhdC5fZmlybU5hbWUgKyAnPC9zcGFuPic7XG5cbiAgICB2YXIgYmNDYXRlZ29yeUZpcm0gPSB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNFbGVtICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmlkcy5iY0NhdGVnb3J5ICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjUmVmZXIgKyAnPHNwYW4gaXRlbXByb3A9XCJuYW1lXCI+JyArIHRoYXQuX2NhdGVnb3J5TmFtZSArICc8L3NwYW4+PC9hPicgKyAnPG1ldGEgaXRlbXByb3A9XCJwb3NpdGlvblwiIGNvbnRlbnQ9XCIzXCIgLz48L2xpPicgKyB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNFbGVtQWN0aXZlICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmlkcy5iY0Zpcm0gKyB0aGF0Ll9uYW1lICsgJzxtZXRhIGl0ZW1wcm9wPVwicG9zaXRpb25cIiBjb250ZW50PVwiNFwiIC8+PC9saT48L29sPic7XG5cbiAgICB0aGF0Ll9idWlsZEJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZmluYWxIVE1MID0gdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmxpc3RGaXJtICsgdGhhdC5ob21lQW5kQ2F0YWxvZ0JDO1xuXG4gICAgICBmaW5hbEhUTUwgKz0gYmNDYXRlZ29yeUZpcm07XG5cbiAgICAgIHJldHVybiBmaW5hbEhUTUw7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGF0O1xuICB9OyAvLyBlbmQgY2F0YWxvZ0Zpcm1cblxuICBzdC5idWlsZEFuZFNob3dGaXJtSFRNTCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzbWFydEFwcC5nZXRDYXRlZ29yeUZpcm1zKCkuZG9uZShmdW5jdGlvbiAoZmlybXMpIHtcbiAgICAgIHNtYXJ0QXBwLmdldFRpbGUoKS5kb25lKGZ1bmN0aW9uICh0aWxlSHRtbCkge1xuICAgICAgICB2YXIgYXJyYXlJdGVtcyA9IFtdLFxuICAgICAgICAgICAgZmlybTtcblxuICAgICAgICBmaXJtcy5tYXAoZnVuY3Rpb24gKGZpcm0pIHtcbiAgICAgICAgICBpZiAoZmlybS5zaG9ydF9uYW1lID09IHN0LmJyZWFkY3J1bWIuZmlybS5zaG9ydF9uYW1lKSB7XG4gICAgICAgICAgICAvLyDQoNCw0YHQv9Cw0LrQvtCy0YvQstCw0LXQvCDQuCDQvtCx0YDQsNCx0LDRgtGL0LLQsNC10Lwg0LzQsNGB0YHQuNCyINGBINC60L7Qu9C10LrRhtC40Y/QvNC4LlxuICAgICAgICAgICAgZmlybS5jb2xsZWN0aW9ucy5tYXAoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgYXJyYXlJdGVtcy5wdXNoKGNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgfSk7IC8vIGVuZCBmaXJtLmNvbGxlY3Rpb25zLm1hcCAgICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICB9KTsgLy8gZW5kIGZpcm1zLm1hcFxuXG4gICAgICAgIGZpcm0gPSBmaXJtQ2F0ZWdvcnkoe1xuICAgICAgICAgIHN0eWxlTmFtZTogJ2hlYWRpbmctZmlybScsXG4gICAgICAgICAgc3R5bGVzUGxhY2U6ICdtYWluQ29udGVudF9fZmlybSBmaXJtJyxcbiAgICAgICAgICBpZFBsYWNlOiAnZmlybScsXG4gICAgICAgICAgc3RvY2s6IGFycmF5SXRlbXMsXG4gICAgICAgICAgcGF0aDogJ2NvbGxlY3Rpb24nLFxuICAgICAgICAgIHRpbGVIdG1sOiB0aWxlSHRtbCxcbiAgICAgICAgICBnZW9sb2NhdGlvbjogJyNtYWluJ1xuICAgICAgICB9KTtcblxuICAgICAgICBmaXJtLnByZXNlbnRSZXNvdXJjZSgpO1xuICAgICAgfSk7IC8vIGVuZCBzbWFydEFwcC5nZXRUaWxlXG4gICAgfSk7IC8vIGVuZCBzbWFydEFwcC5nZXRDYXRlZ29yeUZpcm1zXG4gIH07IC8vIGVuZCBzdC5idWlsZEFuZFNob3dGaXJtSFRNTFxuICAvLyDQntCx0YrQtdC60YIg0L7QtNC40L3QvtGH0L3QvtC5INC60L7Qu9C70LXQutGG0LjQuC5cbiAgdmFyIHNpbmdsZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiBzaW5nbGVDb2xsZWN0aW9uKHBhcmFtcykge1xuICAgIC8qIHBhcmFtcyAgXHJcbiAgICAgICBzdHlsZU5hbWU6IHN0cmluZyhvdGlvbmFsW2hlYWRpbmctZmlybV0pLFxyXG4gICAgICAgc3R5bGVzUGxhY2U6IHN0cmluZyhjbGFzc2VzKSxcclxuICAgICAgIGlkUGxhY2U6IHN0cmluZyhpZCksXHJcbiAgICAgICBzdG9jazogYXJyYXksXHJcbiAgICAgICBzYW1wbGVIdG1sOiBzYW1wbGVIdG1sLFxyXG4gICAgICAgZ2VvbG9jYXRpb246IHN0cmluZyhzZWxlY3RvcilcclxuICAgICovXG4gICAgdmFyIHRoYXQgPSBzaW5nbGVSZXNvdXJjZShwYXJhbXMpO1xuXG4gICAgLy8g0JLRgdC1INGB0LLRj9C30LDQvdC90YvQtSDRgSDQv9C+0YHRgtGA0L7QtdC90LjQtSDQv9C70LjRgtC+0Log0L/QsNGA0LDQvNC10YLRgNGLINC90LUg0L3Rg9C20L3Riy5cbiAgICBkZWxldGUgdGhhdC5idWlsZFRpbGVzO1xuICAgIGRlbGV0ZSBwYXJhbXMudGlsZUh0bWw7XG4gICAgZGVsZXRlIHBhcmFtcy5wYXRoO1xuICAgIGRlbGV0ZSBwYXJhbXMuc3R5bGVTdG9jaztcblxuICAgIC8vINCa0L7Qu9C70LXQutGG0LjRjyDQv9C+0LrQsNC30YvQstCw0LXRgiDRgdCy0L7QuCDQvtCx0YDQsNC30YbRiy5cbiAgICB0aGF0LmJ1aWxkU2FtcGxlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vINCo0LDQsdC70L7QvSDQvtCx0YDQsNC30YbQsCwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDRhNC+0YDQvNCw0YLQuNGA0L7QstCw0YLRjNGB0Y8uXG4gICAgICB2YXIgc2FtcGxlSHRtbCA9IHBhcmFtcy5zYW1wbGVIdG1sLFxuXG4gICAgICAvLyDQmNC90LLQtdC90YLQsNGA0Ywg0LrQvtC70LvQtdC60YbQuNC4LlxuICAgICAgYXJyYXlJdGVtcyA9IHBhcmFtcy5zdG9jayxcblxuICAgICAgLy8g0K3Qu9C10LzQtdC90YLRiy5cbiAgICAgIHNsaWRlcyA9ICc8ZGl2IGNsYXNzPVwiY29sbGVjdGlvbl9fY29sbGVjdGlvblNsaWRlciBjb2xsZWN0aW9uU2xpZGVyXCI+JyArICc8ZGl2IGlkPVwiY29sbGVjdGlvblwiICBjbGFzcz1cImNvbGxlY3Rpb25TbGlkZXJfX3NsaWRlcyBjb250YWluZXJcIj4nICsgJzxkaXYgaWQ9XCJjb2xsZWN0aW9uU2FtcGxlc1wiIHJvbGU9XCJncm91cFwiIGl0ZW1zY29wZSBpdGVtdHlwZT1cImh0dHBzOi8vc2NoZW1hLm9yZy9UaGluZ1wiPiA+JyxcbiAgICAgICAgICByb3cgPSAnPGRpdiBjbGFzcz1cInJvd1wiIHJvbGU9XCJyb3dcIj4nLFxuICAgICAgICAgIHVsID0gJzx1bCBjbGFzcz1cImNvbGxlY3Rpb25TbGlkZXJfX2xpc3RUaWxlc1wiPicsXG4gICAgICAgICAgY2xvc2VUYWdzID0gJzwvZGl2PjwvZGl2PjwvZGl2PicsXG4gICAgICAgICAgZmluYWxIdG1sID0gc2xpZGVzICsgcm93ICsgY29udGFpbmVyICsgdWwsXG4gICAgICAgICAgdmlzaXRDYXJkID0gdGhhdC5fbXlWaXNpdENhcmQsXG5cbiAgICAgIC8vINCd0YPQttC90Ysg0LTQu9GPINGD0YHRgtCw0L3QvtCy0LrQuCDQv9GD0YLQtdC5INC6INC40LfQvtCx0YDQsNC20LXQvdC40LXQvC5cbiAgICAgIC8vINCY0LfQvtCx0YDQsNC20LXQvdC40Y8g0L3QsNGF0L7QtNGP0YLRjNGB0Y8sINC+0L/RgNC10LTQtdC70ZHQvdC90L4sINCyINGE0LjRgNC80LUg0LrQsNGC0LXQs9C+0YDQuNC4INGBINC90LDQt9Cy0LDQvdC40LXQvCDQutC+0LvQu9C10LrRhtC40LgsXG4gICAgICAvLyDQv9C+0Y3RgtC+0LzRgyDQvdCw0LTQvtCx0L3QvtGB0YLRjCDQsiDRg9C60LDQt9Cw0L3QuNC1INC+0L/RgNC10LTQtdC70ZHQvdC90L7Qs9C+INC/0YPRgtGPIC0g0L7RgtC/0LDQtNCw0LXRgi5cbiAgICAgIGNhdGVnb3J5U2hvcnROYW1lID0gc3QuYnJlYWRjcnVtYi5jYXRlZ29yeS5zaG9ydF9uYW1lLFxuICAgICAgICAgIGZpcm1TaG9ydE5hbWUgPSBzdC5icmVhZGNydW1iLmZpcm0uc2hvcnRfbmFtZSxcbiAgICAgICAgICBjb2xsZWN0aW9uU2hvcnROYW1lID0gc3QuYnJlYWRjcnVtYi5jb2xsZWN0aW9uLnNob3J0X25hbWUsXG5cbiAgICAgIC8vINCh0YfRkdGC0YfQuNC6INC00LvRjyDQv9GA0L7QstC10YDQutC4INC60L7Qu9C70LjRh9C10YHRgtCy0LAg0L7QsdGA0LDQt9GG0L7QsiDRgSDRgdGC0YDQvtC60LUuIFxuICAgICAgY291bnRlciA9IDY7XG5cbiAgICAgIGFycmF5SXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0YHQutC+0LvRjNC60L4g0L7QsdGA0LDQt9GG0L7QsiDQsiDRgdGC0YDQvtC60LVcbiAgICAgICAgaWYgKGkgPT09IGNvdW50ZXIgJiYgaSAhPT0gYXJyYXlJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAvLyDQn9GA0Lgg0L/QvtGB0LvQtdC00L3QtdC8INC90LDQvCDQutC+0L3QtdGH0L3QviDQttC1INC90LUg0L3Rg9C20L3QviDQtNC+0LHQsNCy0LvRj9GC0YzRgdGPINC30LDQutGA0YvQstCw0Y7RidC40LUg0YLQtdCz0LguIFxuICAgICAgICAgIC8vINCa0L7QvNGDIFwi0L3QsNC8XCIg0YLQvj8g0KLRiyDQt9C00LXRgdGMINC+0LTQuNC9LiDQotGLINGB0L7QstGB0LXQvCDQv9C+0LXRhdCw0Lsg0YfRgtC+LdC70Lg/XG4gICAgICAgICAgZmluYWxIdG1sICs9IFwiPC91bD48L2Rpdj48L2Rpdj5cIiArIHJvdyArIGNvbnRhaW5lciArIHVsO1xuICAgICAgICAgIGNvdW50ZXIgKz0gNjtcbiAgICAgICAgfVxuICAgICAgICAvLyDQmNC30LLQu9C10LrQsNC10Lwg0LjQtyDQutCw0LbQtNC+0Lkg0LrQsNGC0LXQs9C+0YDQuNC4INC00LDQvdC90YvQtS5cbiAgICAgICAgdmFyIGh0bWwgPSBzYW1wbGVIdG1sO1xuICAgICAgICB2YXIgbmFtZSA9IFwiXCIgKyBpdGVtLm5hbWU7XG4gICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IGl0ZW0uZGVzY3JpcHRpb247XG4gICAgICAgIHZhciBudW1iZXIgPSBpdGVtLm51bTtcbiAgICAgICAgdmFyIHNob3J0X25hbWUgPSBjYXRlZ29yeVNob3J0TmFtZSArIFwiL1wiICsgZmlybVNob3J0TmFtZSArIFwiL1wiICsgY29sbGVjdGlvblNob3J0TmFtZSArIFwiL1wiICsgbnVtYmVyO1xuXG4gICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcInNob3J0X25hbWVcIiwgc2hvcnRfbmFtZSk7XG4gICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcIm5hbWVcIiwgbmFtZSk7XG4gICAgICAgIGh0bWwgPSBpbnNlcnRQcm9wZXJ0eShodG1sLCBcImRlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgaHRtbCA9IGluc2VydFByb3BlcnR5KGh0bWwsIFwibnVtYmVyXCIsIG51bWJlcik7XG5cbiAgICAgICAgZmluYWxIdG1sICs9IGh0bWw7XG4gICAgICB9KTsgLy8gZW5kIGFycmF5SXRlbXMubWFwXG5cbiAgICAgIGZpbmFsSHRtbCArPSAnPC91bD48L2Rpdj48L2Rpdj4nICsgY2xvc2VUYWdzO1xuICAgICAgLy8g0JrQvtC90YLQsNC60YLRiy4uLlxuICAgICAgZmluYWxIdG1sICs9IHZpc2l0Q2FyZDtcblxuICAgICAgcmV0dXJuIGZpbmFsSHRtbDtcbiAgICB9O1xuXG4gICAgdGhhdC5wcmVzZW50UmVzb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYnJlYWRjcnVtYiA9IHRoYXQuX2J1aWxkQnJlYWRjcnVtYigpLFxuICAgICAgICAgIGhlYWRpbmcgPSB0aGF0LmJ1aWxkSGVhZGluZygpLFxuICAgICAgICAgIHRpbGVzID0gdGhhdC5idWlsZFNhbXBsZXMoKTtcblxuICAgICAgdmFyIGZpbmFsSFRNTCA9IHRoYXQucG9zaXRpb24gKyAnPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPicgKyBicmVhZGNydW1iICsgaGVhZGluZyArICc8L2Rpdj4nICsgdGlsZXMgKyB0aGF0LnBvc2l0aW9uQ2xvc2VUYWc7XG5cbiAgICAgICQocGFyYW1zLmdlb2xvY2F0aW9uKS5odG1sKGZpbmFsSFRNTCk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aGF0O1xuICB9O1xuXG4gIC8vINCe0LHRitC10LrRgiDQutC+0LvQtdC60YbQuNC4INGE0LjRgNC80YssINCy0YvQsdGA0LDQvdC90L7QuSDQsiDQutCw0YLQtdCz0L7RgNC40LguXG4gIHZhciBjb2xsZWN0aW9uQ2F0ZWdvcnlPZkZpcm0gPSBmdW5jdGlvbiBjb2xsZWN0aW9uQ2F0ZWdvcnlPZkZpcm0ocGFyYW1zKSB7XG4gICAgdmFyIHRoYXQgPSBzaW5nbGVDb2xsZWN0aW9uKHBhcmFtcyk7XG5cbiAgICB0aGF0Ll9uYW1lID0gdGhhdC5fY29sbGVjdGlvbk5hbWU7XG5cbiAgICB2YXIgYmNGaXJtQ2F0ZWdvcnlDb2xsZWN0aW9uID0gdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbSArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5pZHMuYmNGaXJtICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjUmVmZXIgKyB0aGF0Ll9maXJtTmFtZSArICc8L2E+PG1ldGEgaXRlbXByb3A9XCJwb3NpdGlvblwiIGNvbnRlbnQ9XCIzXCIgLz48L2xpPicgKyB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuYmNFbGVtICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmlkcy5iY0NhdGVnb3J5ICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjUmVmZXIgKyB0aGF0Ll9jYXRlZ29yeU5hbWUgKyAnPC9hPjxtZXRhIGl0ZW1wcm9wPVwicG9zaXRpb25cIiBjb250ZW50PVwiNFwiIC8+PC9saT4nICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbUFjdGl2ZSArICc+JyArIHRoYXQuX25hbWUgKyAnPG1ldGEgaXRlbXByb3A9XCJwb3NpdGlvblwiIGNvbnRlbnQ9XCI1XCIgLz48L2xpPjwvb2w+JztcblxuICAgIHRoYXQuX2J1aWxkQnJlYWRjcnVtYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmaW5hbEhUTUwgPSB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMubGlzdCArIHRoYXQuaG9tZUFuZENhdGFsb2dCQztcblxuICAgICAgZmluYWxIVE1MICs9IGJjRmlybUNhdGVnb3J5Q29sbGVjdGlvbjtcblxuICAgICAgcmV0dXJuIGZpbmFsSFRNTDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoYXQ7XG4gIH07XG4gIC8vINCe0LHRitC10LrQtdC60YIg0YTQuNGA0LzRiy5cbiAgdmFyIGNvbGxlY3Rpb25GaXJtID0gZnVuY3Rpb24gY29sbGVjdGlvbkZpcm0ocGFyYW1zKSB7XG4gICAgdmFyIHRoYXQgPSBzaW5nbGVDb2xsZWN0aW9uKHBhcmFtcyk7XG5cbiAgICB0aGF0Ll9uYW1lID0gdGhhdC5fY29sbGVjdGlvbk5hbWU7XG5cbiAgICB2YXIgYmNDYXRlZ29yeUZpcm1Db2xsZWN0aW9uID0gdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbSArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5pZHMuYmNDYXRlZ29yeSArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5iY1JlZmVyICsgdGhhdC5fY2F0ZWdvcnlOYW1lICsgJzwvYT48bWV0YSBpdGVtcHJvcD1cInBvc2l0aW9uXCIgY29udGVudD1cIjNcIiAvPjwvbGk+JyArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5iY0VsZW0gKyB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuaWRzLmJjRmlybSArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5iY1JlZmVyICsgdGhhdC5fZmlybU5hbWUgKyAnPC9hPjxtZXRhIGl0ZW1wcm9wPVwicG9zaXRpb25cIiBjb250ZW50PVwiNFwiIC8+PC9saT4nICsgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbUFjdGl2ZSArICc+JyArIHRoYXQuX25hbWUgKyAnPG1ldGEgaXRlbXByb3A9XCJwb3NpdGlvblwiIGNvbnRlbnQ9XCI1XCIgLz48L2xpPjwvb2w+JztcblxuICAgIHRoYXQuX2J1aWxkQnJlYWRjcnVtYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmaW5hbEhUTUwgPSB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMubGlzdCArIHRoYXQuaG9tZUFuZENhdGFsb2dCQztcblxuICAgICAgZmluYWxIVE1MICs9IGJjQ2F0ZWdvcnlGaXJtQ29sbGVjdGlvbjtcblxuICAgICAgcmV0dXJuIGZpbmFsSFRNTDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoYXQ7XG4gIH07XG5cbiAgLy8gcGF0aCAtINC/0YPRgtGMLCDQutC+0YLQvtGA0YvQuSDQv9GA0LjQstGR0Lsg0Log0LrQvtC70LvQtdC60YbQuNC4XG4gIC8vINC+0YIg0LrQsNGC0LXQs9C+0YDQuNC4INGE0LjRgNC80YssINC70LjQsdC+INC+0YIg0YHQsNC80L7QuSDRhNC40YDQvNGLLlxuICAvLyBmaXJtIG9yIGZhbHNlXG4gIHN0LmJ1aWxkQW5kU2hvd0NvbGxlY3Rpb25IdG1sID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAvLyDQn9C+0LvRg9GH0LjRgtGMINGI0LDQsdC70L7QvSDQvtCx0YDQsNC30YbQsFxuICAgIHNtYXJ0QXBwLmdldFNhbXBsZSgpLmRvbmUoZnVuY3Rpb24gKHNhbXBsZUh0bWwpIHtcbiAgICAgIC8vINCf0L7Qu9GD0YfQuNGC0Ywg0L7QsdGA0LDQt9GG0Ysg0LrQvtC70LvQtdC60YbQuNC5XG4gICAgICBzbWFydEFwcC5nZXRDb2xsZWN0aW9uSXRlbXMoKS5kb25lKGZ1bmN0aW9uIChjb2xsZWN0aW9ucykge1xuICAgICAgICAvLyDQntCx0YrQtdC60YIg0LrQvtC70LvQtdC60YbQuNC4IGpzb24g0YTQsNC50LvQsCwg0LrQvtGC0L7RgNGL0Lkg0YXRgNCw0L3QuNGCINCyINGB0LXQsdC1INCy0YHRjiDQuNC90YTQvtGA0LzQsNGG0LguXG4gICAgICAgIHZhciBjb2xsZWN0aW9uSW5mbyA9IGNvbGxlY3Rpb25zWzBdW3N0LmJyZWFkY3J1bWIuY29sbGVjdGlvbi5zaG9ydF9uYW1lXSxcblxuICAgICAgICAvLyDQnNCw0YHRgdC40LIg0L7QsdGA0LDQt9GG0L7QsiDQvdGD0LbQvdC+0Lkg0LrQvtC70LvQtdC60YbQuNC4XG4gICAgICAgIHNhbXBsZXMgPSBjb2xsZWN0aW9uSW5mby5zYW1wbGVzLFxuXG4gICAgICAgIC8vINCe0LHRitC10LrRgiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDRgdC+0LfQtNCw0LLQsNGC0YzRgdGPINCyINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7Rgiwg0LPQtNC1INC+0L0g0LHRi9C7INCy0YvQsdGA0LDQvS5cbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgICAgIGlkID0gcGF0aCA9PT0gJ2Zpcm0nID8gJ2NvbGxlY3Rpb25GaXJtJyA6ICdjb2xsZWN0aW9uQ2F0ZWdvcnlGaXJtJyxcbiAgICAgICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBzdHlsZXNQbGFjZTogJ21haW5Db250ZW50X19jb2xsZWN0aW9uJyxcbiAgICAgICAgICBpZFBsYWNlOiBpZCxcbiAgICAgICAgICBzdG9jazogc2FtcGxlcyxcbiAgICAgICAgICBzYW1wbGVIdG1sOiBzYW1wbGVIdG1sLFxuICAgICAgICAgIGdlb2xvY2F0aW9uOiAnI21haW4nXG4gICAgICAgIH07XG4gICAgICAgIC8vINCa0Y3RiNC40YDRg9C10Lwg0L/Rg9GC0Lgg0LHRgNC10LTQutGA0LDQvNCx0L7Qsi5cbiAgICAgICAgc3QuYnJlYWRjcnVtYi5jYXRlZ29yeS5zaG9ydF9uYW1lID0gY29sbGVjdGlvbkluZm8uY2F0ZWdvcnkuc2hvcnRfbmFtZTtcbiAgICAgICAgc3QuYnJlYWRjcnVtYi5maXJtLnNob3J0X25hbWUgPSBjb2xsZWN0aW9uSW5mby5maXJtLnNob3J0X25hbWU7XG4gICAgICAgIHN0LmJyZWFkY3J1bWIuY2F0ZWdvcnkubmFtZSA9IGNvbGxlY3Rpb25JbmZvLmNhdGVnb3J5Lm5hbWU7XG4gICAgICAgIHN0LmJyZWFkY3J1bWIuZmlybS5uYW1lID0gY29sbGVjdGlvbkluZm8uZmlybS5uYW1lO1xuXG4gICAgICAgIGlmIChwYXRoID09ICdmaXJtJykge1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uRmlybShwYXJhbXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uQ2F0ZWdvcnlPZkZpcm0ocGFyYW1zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxlY3Rpb24ucHJlc2VudFJlc291cmNlKCk7XG5cbiAgICAgICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXQvCDRgdC70LDQudC00YsuXG4gICAgICAgICQoJyNjb2xsZWN0aW9uU2FtcGxlcycpLnNsaWNrKHtcbiAgICAgICAgICBkb3RzOiB0cnVlLFxuICAgICAgICAgIHJlc3BvbnNpdmU6IFt7XG4gICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXG4gICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfV1cbiAgICAgICAgfSk7IC8vIGVuZCBzbGlja1xuXG4gICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRg9Cy0LXQu9C40YfQtdC90LjQtSDQutCw0YDRgtC40L3QvtC6LlxuICAgICAgICAkKCcuY29sbGVjdGlvblNsaWRlcl9fbGlzdFRpbGVzJykubWFnbmlmaWNQb3B1cCh7XG4gICAgICAgICAgZGVsZWdhdGU6ICdhJyxcbiAgICAgICAgICB0eXBlOiAnaW1hZ2UnLFxuICAgICAgICAgIGdhbGxlcnk6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7IC8vIGVuZCBnZXRDb2xsZWN0aW9uSXRlbXNcbiAgICB9KTsgLy8gZW5kIGdldFNhbXBsZVxuICB9OyAvLyBlbmQgYnVpbGRBbmRTaG93Q29sbGVjdGlvbkh0bWxcbiAgLy8vLyDQntCx0YrQtdC60YIg0L7QtNC90L7Qs9C+INC/0YDQvtC10LrRgtCwLlxuICAvL3ZhciBzaW5nbGVQcm9qZWN0ID0gZnVuY3Rpb24oIHBhcmFtcyApIHtcbiAgLy8gIC8qIHBhcmFtcyAgXG4gIC8vICAgICBzdHlsZU5hbWU6IHN0cmluZyhvdGlvbmFsKSxcbiAgLy8gICAgIHN0eWxlc1BsYWNlOiBzdHJpbmcoY2xhc3NlcyksXG4gIC8vICAgICBpZFBsYWNlOiBzdHJpbmcoaWQpLFxuICAvLyAgICAgZ2VvbG9jYXRpb246IHN0cmluZyhzZWxlY3RvcilcbiAgLy8gKi9cbiAgLy8gIFxuICAvLyAgdmFyIHRoYXQgPSBzaW5nbGVSZXNvdXJjZSggcGFyYW1zICksXG4gIC8vICAgICAgLy8g0JrQvtC70LvQuNGH0LXRgdGC0LLQviDQuNC30L7QsdGA0LDQttC10L3QuNC5INCyINC/0YDQvtC10LrRgtC1LlxuICAvLyAgICAgIGFtb3VudCA9IHN0LmJyZWFkY3J1bWIucHJvamVjdC5hbW91bnRJbWdzLFxuICAvLyAgICAgIC8vINCa0L7RgNC+0YLQutC+0LUg0LjQvNGPINC/0YDQvtC10LrRgtCwLlxuICAvLyAgICAgIHNob3J0X25hbWUgPSBzdC5icmVhZGNydW1iLnByb2plY3Quc2hvcnRfbmFtZTtcbiAgLy8gIC8vINCi0L4t0YHQsNC80L7QtS3QuNC80Y8sINC60L7RgtC+0YDQvtC1INC/0LXRgNC10LTQsNGR0YLRgdGPINGE0YPQvdC60YbQuNC4LFxuICAvLyAgLy8g0YfRgtC+INC+0YLQstC10YfQsNC10YIg0LfQsCDQt9Cw0LPQvtC70L7QstC+0LouXG4gIC8vICB0aGF0Ll9uYW1lID0gc3QuYnJlYWRjcnVtYi5wcm9qZWN0Lm5hbWU7XG4gIC8vICAvLyDQn9GA0L7QtdC60YIg0LzQvdC+0LPQvtCz0L4g0L3QtSDQvdCw0YHQu9C10LTRg9C10YIuXG4gIC8vICBkZWxldGUgdGhhdC5idWlsZFRpbGVzO1xuICAvLyAgZGVsZXRlIHBhcmFtcy50aWxlSHRtbDtcbiAgLy8gIGRlbGV0ZSBwYXJhbXMuc3RvY2s7XG4gIC8vICBkZWxldGUgcGFyYW1zLnN0eWxlU3RvY2s7XG4gIC8vICBkZWxldGUgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmlkcztcbiAgLy8gIGRlbGV0ZSB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMuc29saWRFbGVtZW50cztcbiAgLy8gIGRlbGV0ZSB0aGF0Ll9icmVhZGNydW1iRWxlbWVudHMubGlzdEZpcm07XG4gIC8vICBkZWxldGUgdGhhdC5fY2F0ZWdvcnlOYW1lO1xuICAvLyAgZGVsZXRlIHRoYXQuX2Zpcm1OYW1lO1xuICAvLyAgZGVsZXRlIHRoYXQuX2NvbGxlY3Rpb25OYW1lO1xuICAvLyAgXG4gIC8vICBcbiAgLy8gIHRoYXQuX2J1aWxkQnJlYWRjcnVtYiA9IGZ1bmN0aW9uKCkge1xuICAvLyAgICB2YXIgZmluYWxIVE1MID0gdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmxpc3QgK1xuICAvLyAgICAgIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5iY0VsZW0gKyAnaWQ9XCJiY1Byb2plY3RzXCI+JyArIHRoYXQuX2JyZWFkY3J1bWJFbGVtZW50cy5iY1JlZmVyICsgJ9Cf0YDQvtC10LrRgtGLPC9hPjxtZXRhIGl0ZW1wcm9wPVwicG9zaXRpb25cIiBjb250ZW50PVwiMVwiPjwvbGk+JyArXG4gIC8vICAgICAgdGhhdC5fYnJlYWRjcnVtYkVsZW1lbnRzLmJjRWxlbUFjdGl2ZSArICc+JyArXG4gIC8vICAgICAgJzxzcGFuIGl0ZW1wcm9wPVwibmFtZVwiPicgKyB0aGF0Ll9uYW1lICsgJzwvc3Bhbj4nICtcbiAgLy8gICAgICAnPG1ldGEgaXRlbXByb3A9XCJwb3NpdGlvblwiIGNvbnRlbnQ9XCIyXCIgLz48L2xpPjwvb2w+JztcbiAgLy8gICAgXG4gIC8vICAgIHJldHVybiBmaW5hbEhUTUw7ICAgICAgICAgIFxuICAvLyAgfTtcbiAgLy8gIC8vINCh0L7Qt9C00LDRjiDQvdC+0LLRg9GOINGE0YPQvdC60YbQuNGOLCDQutC+0YLQvtGA0LDRjyDQv9GA0LjQvdC40LzQsNC10YIg0LjQtyDQv9Cw0YDQsNC80LXRgtGA0L7QslxuICAvLyAgLy8g0LrQvtGA0L7RgtC60L7QtSDQuNC80Y8g0L/RgNC+0LXQutGC0LAg0Lgg0LrQvtC70LvQuNGH0LXRgdGC0LLQviDQutCw0YDRgtC40L3QvtC6INCyINC90ZHQvCxcbiAgLy8gIC8vINC/0L7RgdC70LUg0YfQtdCz0L4g0YHQvtC30LTQsNGR0YIg0YHQu9Cw0LnQtNC10YAg0Lgg0LjQvNGPINGN0YLQvtC80YMg0LLRgdC10LzRgy4uLlxuICAvLyAgdmFyIGJ1aWxkU2xpZGVyID0gZnVuY3Rpb24oKSB7XG4gIC8vICAgICB2YXIgZmluYWxIVE1MID0gJzxkaXYgY2xhc3M9XCJzaW5nbGVQcm9qZWN0X19zbGlkZXIgc2xpZGVyXCIgcm9sZT1cInJlZ2lvblwiIGl0ZW1zY29wZSBpdGVtdHlwZT1cImh0dHBzOi8vc2NoZW1hLm9yZy9UaGluZ1wiPicgK1xuICAvLyAgICAgICAgICc8dWwgY2xhc3M9XCJzbGlkZXJfX3NsaWRlc1wiPicsXG4gIC8vICAgICAgICAgaTtcbiAgLy9cbiAgLy8gICAgZm9yIChpID0gMTsgaSA8PSBhbW91bnQ7IGkrKykge1xuICAvLyAgICAgIC8vIFVSTCDQuiDQuNC30L7QsdGA0LDQttC10L3QuNGOINC/0YDQvtC10LrRgtCwINGB0YLRgNC+0LjRgtGB0Y8g0LjQt1xuICAvLyAgICAgIC8vINC60L7RgNC+0YLQutC+0LPQviDQuNC80Y8g0L/RgNC+0LXQutGC0LAg0LIg0L3QuNC20L3QtdC8INGA0LXQs9C40YHRgtGA0LUg0LggXG4gIC8vICAgICAgLy8g0LTQvtCx0LDQstC70LXQvdC40LXQvCDQv9C+0YDRj9C00LrQvtCy0L7Qs9C+INC90L7QvNC10YDQsCDRh9C10YDQtdC3INC90LjQttC90LXQtSDQv9C+0LTRh9GR0YDQutC40LLQsNC90LjQtS5cbiAgLy8gICAgICB2YXIgaHRtbCA9ICc8ZmlndXJlIGNsYXNzPVwic2xpZGVzX19pdGVtXCIgc3R5bGU9XCIgYmFja2dyb3VuZC1pbWFnZTp1cmwoL21lZGlhL3NtYXJ0dGlsZXMvaW1nL3Byb2plY3RzLycgKyBcbiAgLy8gICAgICBzaG9ydF9uYW1lICsgJy8nICsgc2hvcnRfbmFtZS50b0xvd2VyQ2FzZSgpICArICdfJyArIGkgKyAnLmpwZyk7XCI+PC9maWd1cmU+JztcbiAgLy8gICAgICBcbiAgLy8gICAgICBmaW5hbEhUTUwgKz0gaHRtbDsgXG4gIC8vICAgIH1cbiAgLy8gICAgXG4gIC8vICAgIGZpbmFsSFRNTCArPSAnPC91bD48L2Rpdj4nXG4gIC8vXG4gIC8vICAgIHJldHVybiBmaW5hbEhUTUw7XG4gIC8vICAgIFxuICAvLyAgfTtcbiAgLy8gIFxuICAvLyAgdGhhdC5wcmVzZW50UmVzb3VyY2UgPSBmdW5jdGlvbigpIHtcbiAgLy8gICAgdmFyIGJyZWFkY3J1bWIgPSB0aGF0Ll9idWlsZEJyZWFkY3J1bWIoKSwgXG4gIC8vICAgICAgICBoZWFkaW5nID0gdGhhdC5idWlsZEhlYWRpbmcoKSxcbiAgLy8gICAgICAgIHNsaWRlciA9IGJ1aWxkU2xpZGVyKCksXG4gIC8vICAgICAgICBcbiAgLy8gICAgICAgIGZpbmFsSFRNTCA9IHRoYXQucG9zaXRpb24gK1xuICAvLyAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250YWluZXJcIj4nICtcbiAgLy8gICAgICAgIGJyZWFkY3J1bWIgKyBcbiAgLy8gICAgICAgIGhlYWRpbmcgKyAnPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+JyArXG4gIC8vICAgICAgICBzbGlkZXIgKyBcbiAgLy8gICAgICAgIHRoYXQuX215VmlzaXRDYXJkICsgXG4gIC8vICAgICAgICAnPC9kaXY+JyArIHRoYXQucG9zaXRpb25DbG9zZVRhZztcbiAgLy8gICAgXG4gIC8vICAgICAgICBcbiAgLy8gICAgJChwYXJhbXMuZ2VvbG9jYXRpb24pLmh0bWwoZmluYWxIVE1MKTtcbiAgLy8gIH07XG4gIC8vICBcbiAgLy8gIHJldHVybiB0aGF0O1xuICAvL307XG4gIC8vXG4gIC8vc3Quc2hvd1Byb2plY3RIVE1MID0gZnVuY3Rpb24oKSB7XG4gIC8vICB2YXIgcHJvamVjdCA9IHNpbmdsZVByb2plY3Qoe1xuICAvLyAgICAgc3R5bGVOYW1lOiAnc2luZ2xlUHJvamVjdF9faGVhZGluZycsXG4gIC8vICAgICBzdHlsZXNQbGFjZTogJ21haW5Db250ZW50X19zaW5nbGVQcm9qZWN0IHNpbmdsZVByb2plY3QnLFxuICAvLyAgICAgaWRQbGFjZTogJ3NpbmdsUHJvamVjdCcsXG4gIC8vICAgICBnZW9sb2NhdGlvbjogJyNtYWluJ1xuICAvLyAgfSk7XG4gIC8vICBcbiAgLy8gIHByb2plY3QucHJlc2VudFJlc291cmNlKCk7XG4gIC8vICBcbiAgLy8gICQoJy5zbGlkZXJfX3NsaWRlcycpLnNsaWNrKHtcbiAgLy8gICAgZG90czogdHJ1ZSxcbiAgLy8gICAgYXV0b3BsYXk6IHRydWUsXG4gIC8vICAgIGF1dG9wbGF5U3BlZWQ6IDI1MDAsXG4gIC8vICAgIHJlc3BvbnNpdmU6IFt7XG4gIC8vICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAvLyAgICAgIHNldHRpbmdzOiB7XG4gIC8vICAgICAgICBhcnJvd3M6IGZhbHNlXG4gIC8vICAgICAgfSAgXG4gIC8vICAgIH1dXG4gIC8vICB9KTtcbiAgLy99O1xuXG4gIGdsb2JhbC4kc3QgPSBzdDtcbn0pKHdpbmRvdyk7XG5cbi8vIENvbnRyb2xsZXJcbiQoZnVuY3Rpb24gKCkge1xuICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3N1Yk5hdiAuc3ViQ2F0ZWdvcnlfX3JlZmVyLCAjYnRuVG9wJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogJCgkdGhpcy5hdHRyKCdocmVmJykpLm9mZnNldCgpLnRvcFxuICAgIH0sIDE1MDAsICdlYXNlSW5PdXRFeHBvJyk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pOyAvLyBlbmQgY2xpY2tcbiAgLy9cbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAkc3QubmF2LmNvbnRhY3RzLCBmdW5jdGlvbigpIHtcbiAgLy8gICAkc3Quc2hvd0xvYWRpbmcoJHN0Lmlkcy5tYWluKTtcbiAgLy8gICAkc3Quc3dpdGNoQWN0aXZlTWVudSh0aGlzKTtcbiAgLy8gIFxuICAvLyAgICRzdC5zaG93Q29udGFjdHNIVE1MKCk7XG4gIC8vICAgJHN0LnNldFBvbGlmaWxsRm9yUGxhY2Vob2xkZXIoKTtcbiAgLy8gICAkKCcjbmFtZScpLmZvY3VzKCk7XG4gIC8vICBcbiAgLy8gICByZXR1cm4gZmFsc2U7XG4gIC8vfSk7XG5cbiAgLy8gJHN0Lm5hdi5ob21lLCAjbG9nb1xuICAvLyQoZG9jdW1lbnQpLm9uKCdjbGljaycsICRzdC5pZHMuYnJlYWRjcnVtYi5ob21lLCBmdW5jdGlvbigpIHtcbiAgLy8gICRzdC5zaG93TG9hZGluZygkc3QuaWRzLm1haW4pO1xuICAvLyAgJHN0LnN3aXRjaEFjdGl2ZU1lbnUoJHN0Lm5hdi5ob21lKTtcbiAgLy8gIFxuICAvLyAgJHN0LmxvYWRIb21lQ29udGVudCgpO1xuICAvLyAgXG4gIC8vICByZXR1cm4gZmFsc2U7XG4gIC8vfSk7IC8vIGVuZCBjbGlja1xuXG4gIC8vLy8kc3QubmF2LmNhdGFsb2dcbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAkc3QuaWRzLmJyZWFkY3J1bWIuY2F0YWxvZyAsIGZ1bmN0aW9uKCkge1xuICAvLyAgJHN0LnNob3dMb2FkaW5nKCRzdC5pZHMubWFpbik7XG4gIC8vICAkc3Quc3dpdGNoQWN0aXZlTWVudSgkc3QubmF2LmNhdGFsb2cpO1xuICAvLyAgXG4gIC8vICAkc3Quc2hvd0NhdGFsb2dIVE1MKCk7XG4gIC8vICBcbiAgLy8gIHJldHVybiBmYWxzZTtcbiAgLy99KTsgLy8gZW5kIGNsaWNrXG5cbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAkc3QubmF2LnNlcnZpY2UsIGZ1bmN0aW9uKCkge1xuICAvLyAgJHN0LnNob3dMb2FkaW5nKCRzdC5pZHMubWFpbik7XG4gIC8vICAkc3Quc3dpdGNoQWN0aXZlTWVudSgkc3QubmF2LnNlcnZpY2UpO1xuICAvLyAgXG4gIC8vICAkc3Quc2hvd1NlcnZpY2VIVE1MKCk7XG4gIC8vICBcbiAgLy8gIHJldHVybiBmYWxzZTtcbiAgLy99KTsgLy8gZW5kIGNsaWNrXG5cbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAkc3QubmF2LnByb2plY3RzICsgJywnICsgJHN0Lmlkcy5icmVhZGNydW1iLnByb2plY3RzLCBmdW5jdGlvbigpIHtcbiAgLy8gICRzdC5zaG93TG9hZGluZygkc3QuaWRzLm1haW4pO1xuICAvLyAgJHN0LnN3aXRjaEFjdGl2ZU1lbnUoJHN0Lm5hdi5wcm9qZWN0cyk7XG4gIC8vICBcbiAgLy8gICRzdC5zaG93UHJvamVjdHNIVE1MKCk7XG4gIC8vICBcbiAgLy8gIHJldHVybiBmYWxzZTtcbiAgLy99KTsgLy8gZW5kIGNsaWNrXG5cbiAgJHN0LnNlbGVjdC4kYnRuVG9wLmhpZGUoKTtcblxuICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoJCh0aGlzKS5zY3JvbGxUb3AoKSA8IDEwMCkge1xuICAgICAgJHN0LnNlbGVjdC4kYnRuVG9wLmZhZGVPdXQoMTAwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzdC5zZWxlY3QuJGJ0blRvcC5mYWRlSW4oMTAwMCk7XG4gICAgfVxuICB9KTsgLy8gZW5kIHNjcm9sbFxuICAvLyQoZG9jdW1lbnQpLm9uKCdzdWJtaXQnLCAnI3NlYXJjaCcsIGZ1bmN0aW9uKCkge1xuICAvLyAgXG4gIC8vICB2YXIgJGlucHV0ID0gJCh0aGlzKS5maW5kKCcjc2VhcmNoSW5wdXQnKTsgXG4gIC8vICB2YXIgdmFsdWUgPSAkaW5wdXQudmFsKCk7XG4gIC8vICBcbiAgLy8gICRzdC5zaG93TG9hZGluZygkc3QuaWRzLm1haW4pO1xuICAvL1xuICAvLyAgJHN0LnNlYXJjaCh2YWx1ZSk7XG4gIC8vICBcbiAgLy8gICRpbnB1dC52YWwoJycpO1xuICAvLyAgcmV0dXJuIGZhbHNlOyBcbiAgLy99KTsgIFxuXG4gIHZhciBjYXRlZ29yaWVzID0gbmV3IEJsb29kaG91bmQoe1xuICAgIGRhdHVtVG9rZW5pemVyOiBCbG9vZGhvdW5kLnRva2VuaXplcnMub2JqLndoaXRlc3BhY2UoJ25hbWUnKSxcbiAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2UsXG4gICAgcmVtb3RlOiAnL2FwaS92MC9jYXRlZ29yaWVzLz9mb3JtYXQ9anNvbidcbiAgfSk7XG4gIC8vMTI3LjAuMC4xOjgwODBcbiAgdmFyIGZpcm1zID0gbmV3IEJsb29kaG91bmQoe1xuICAgIGRhdHVtVG9rZW5pemVyOiBCbG9vZGhvdW5kLnRva2VuaXplcnMub2JqLndoaXRlc3BhY2UoJ25hbWUnKSxcbiAgICBxdWVyeVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLndoaXRlc3BhY2UsXG4gICAgcmVtb3RlOiAnL2FwaS92MC9maXJtcy8/Zm9ybWF0PWpzb24nXG4gIH0pO1xuICAvLyAgZGF0dW1Ub2tlbml6ZXI6IEJsb29kaG91bmQudG9rZW5pemVycy5vYmoud2hpdGVzcGFjZSgnbmFtZScpLFxuICAvLyAgcXVlcnlUb2tlbml6ZXI6IEJsb29kaG91bmQudG9rZW5pemVycy53aGl0ZXNwYWNlLFxuICAvLyAgdXJsOiAnMTI3LjAuMC4xOjgwODAvYXBpL3YwL2Zpcm1zLz9mb3JtYXQ9anNvbidcblxuICAvL2RhdHVtVG9rZW5pemVyOiBmdW5jdGlvbihkYXR1bSkge1xuICAvLyAgICByZXR1cm4gQmxvb2Rob3VuZC50b2tlbml6ZXJzLm9iai53aGl0ZXNwYWNlKGRhdHVtLm5hbWUpO1xuICAvLyAgfSxcbiAgLy8gIHF1ZXJ5VG9rZW5pemVyOiBCbG9vZGhvdW5kLnRva2VuaXplcnMud2hpdGVzcGFjZSxcbiAgLy8gIHJlbW90ZToge1xuICAvLyAgICB1cmw6ICcvYXBpL3YwL2NvbGxlY3Rpb25zLz9mb3JtYXQ9anNvbidcbiAgLy8gIH0gXG4gIHZhciBjb2xsZWN0aW9ucyA9IG5ldyBCbG9vZGhvdW5kKHtcbiAgICBkYXR1bVRva2VuaXplcjogQmxvb2Rob3VuZC50b2tlbml6ZXJzLm9iai53aGl0ZXNwYWNlKCduYW1lJyksXG4gICAgcXVlcnlUb2tlbml6ZXI6IEJsb29kaG91bmQudG9rZW5pemVycy53aGl0ZXNwYWNlLFxuICAgIHJlbW90ZTogJy9hcGkvdjAvY29sbGVjdGlvbnMvP2Zvcm1hdD1qc29uJ1xuICB9KTtcblxuICAkKCcjc2VhcmNoIC50eXBlYWhlYWQnKS50eXBlYWhlYWQoe1xuICAgIGhpZ2hsaWdodDogdHJ1ZSxcbiAgICBtaW5MZW5ndGg6IDBcbiAgfSwge1xuICAgIG5hbWU6ICdjYXRlZ29yaWVzJyxcbiAgICBkaXNwbGF5OiAnbmFtZScsXG4gICAgc291cmNlOiBjYXRlZ29yaWVzLFxuICAgIHRlbXBsYXRlczoge1xuICAgICAgaGVhZGVyOiAnPGgzIGNsYXNzPVwic2VhcmNoX19jYXB0aW9uIHNlYXJjaF9fY2FwdGlvbi10aGVtZV9jYXRlZ29yaWVzXCI+0JrQsNGC0LXQs9C+0YDQuNC4PC9oMz4nXG4gICAgfSxcbiAgICBsaW1pdDogMTBcbiAgfSwge1xuICAgIG5hbWU6ICdjb2xsZWN0aW9ucycsXG4gICAgZGlzcGxheTogJ25hbWUnLFxuICAgIHNvdXJjZTogY29sbGVjdGlvbnMsXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICBoZWFkZXI6ICc8aDMgY2xhc3M9XCJzZWFyY2hfX2NhcHRpb24gc2VhcmNoX19jYXB0aW9uLXRoZW1lX2NvbGxlY3Rpb25zXCI+0JrQvtC70LvQtdC60YbQuNC4PC9oMz4nXG4gICAgfSxcbiAgICBsaW1pdDogMTBcbiAgfSwge1xuICAgIG5hbWU6ICdmaXJtcycsXG4gICAgZGlzcGxheTogJ25hbWUnLFxuICAgIHNvdXJjZTogZmlybXMsXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICBoZWFkZXI6ICc8aDMgY2xhc3M9XCJzZWFyY2hfX2NhcHRpb24gc2VhcmNoX19jYXB0aW9uLXRoZW1lX2Zpcm1zXCI+0KTQuNGA0LzRizwvaDM+J1xuICAgIH0sXG4gICAgbGltaXQ6IDEwXG4gIH0pO1xuICAkKFwiI25hdmJhclRvZ2dsZVwiKS5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAkKGV2ZW50LnRhcmdldCkuZm9jdXMoKTtcbiAgfSk7XG5cbiAgJChcIiNuYXZiYXJUb2dnbGVcIikuYmx1cihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgc2NyZWVuV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBpZiAoc2NyZWVuV2lkdGggPCA3NjgpIHtcbiAgICAgICQoXCIjY29sbGFwc2FibGVcIikuY29sbGFwc2UoJ2hpZGUnKTtcbiAgICB9XG4gIH0pO1xuICAkKCcuc2lnbmF0dXJlX19hdXRob3InKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVybCA9ICQodGhpcykuYXR0cignaHJlZicpO1xuXG4gICAgd2luZG93Lm9wZW4odXJsKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7IC8vIGVuZCBjbGlja1xuXG4gICQoJyNmb290ZXIgYScpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIU1vZGVybml6ci5jc3N0cmFuc2l0aW9ucykgJCh0aGlzKS5zdG9wKCkuYW5pbWF0ZSh7XG4gICAgICBjb2xvcjogJyM3NmJkZmYnXG4gICAgfSwgNTAwKTtcbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIGlmICghTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zKSAkKHRoaXMpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgIGNvbG9yOiAnIzEwOGNmZidcbiAgICB9LCA1MDApO1xuICB9KTtcbiAgLy8kc3Quc2hvd0xvYWRpbmcoJ2JvZHknKTtcbiAgLy8kc3QubG9hZEhvbWVDb250ZW50KCk7XG5cbiAgJCgnLmV4Y2x1c2l2ZV9fc2xpZGVzJykuc2xpY2soe1xuICAgIGRvdHM6IHRydWUsXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgYXV0b3BsYXlTcGVlZDogMzUwMCxcbiAgICByZXNwb25zaXZlOiBbe1xuICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgYXJyb3dzOiBmYWxzZVxuICAgICAgfVxuICAgIH1dXG4gIH0pO1xuICAvL3ZhciBpbWFnZXMgPSAkc3QucHJlbG9hZEltYWdlcygpO1xuICAvLyQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjb3B0aW9ucyBhJywgZnVuY3Rpb24oZSkge1xuICAvLyAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgLy8gICAgICAvLyDQnNCw0YHRgdC40LIg0LrQsNGC0LXQs9C+0YDQuNC5XG4gIC8vICAgICAgY2F0ZWdvcmllcyA9ICR0aGlzLmF0dHIoJ2RhdGEtY2F0JyksIFxuICAvLyAgICAgIGhlYWRpbmdOYW1lID0gJHRoaXMuZmluZCgnLm9wdGlvbl9fdmFyaWFudCcpLnRleHQoKTtcbiAgLy8gICAgICBcbiAgLy8gICRzdC5zaG93TG9hZGluZygkc3QuaWRzLm1haW4pO1xuICAvLyAgXG4gIC8vICAkc3QuYnVpbGRIb21lQ2F0ZWdvcmllcyh7bmFtZTogaGVhZGluZ05hbWUsIGFycmF5Q2F0ZWdvcmllczogY2F0ZWdvcmllc30pO1xuICAvLyAgXG4gIC8vICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8vfSk7XG4gICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjc3ViTmF2IC5zdWJDYXRlZ29yeV9fcmVmZXIsICNidG5Ub3AnLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgJCgnaHRtbCwgYm9keScpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgIHNjcm9sbFRvcDogJCgkdGhpcy5hdHRyKCdocmVmJykpLm9mZnNldCgpLnRvcFxuICAgIH0sIDE1MDAsICdlYXNlSW5PdXRFeHBvJyk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTsgLy8gZW5kIGNsaWNrXG5cbiAgLy8kKGRvY3VtZW50KS5vbiggJ2NsaWNrJywgJyNjYXRhbG9nQ292ZXJzIGEsICNob21lQ2F0ZWdvcmllcyBhLCAjZm91bmRDYXRlZ29yaWVzIGEudGlsZScsIGZ1bmN0aW9uKCkge1xuICAvLyAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgLy9cbiAgLy8gIC8vINCX0LDQv9C+0LvQvdGP0LXQvCDQuCDQvtCx0L3QvtCy0LvRj9C10Lwg0LrRjdGIINC/0YDQuCDQutC70LjQutC1LlxuICAvLyAgJHN0LmJyZWFkY3J1bWIuY2F0ZWdvcnkubmFtZSA9ICR0aGlzLmZpbmQoJy50aWxlX19uYW1lJykudGV4dCgpO1xuICAvLyAgJHN0LmJyZWFkY3J1bWIuY2F0ZWdvcnkuc2hvcnRfbmFtZSA9ICR0aGlzLmF0dHIoJ2RhdGEtY2F0Jyk7XG4gIC8vICAvLyDQkiBJRSwg0LXRgdC70Lgg0YHQvdCw0YfQsNC70LAg0LfQsNCz0YDRg9C20LDRgtGMINC60LDRgNGC0LjQvdC60YMg0LfQsNCz0YDRg9C30LrQuCxcbiAgLy8gIC8vINCwINC/0L7RgtC+0Lwg0LrRjdGI0LjRgNC+0LLQsNGC0Ywg0LTQsNC90L3Ri9C1LCDRgtC+INGB0YLRgNCw0L3QvdGL0Lwg0L7QsdGA0LDQt9C+0LxcbiAgLy8gIC8vINCx0YPQtNC10YIg0LrRjdGI0LjRgNC+0LLQsNGC0YzRgdGPINGC0L7Qu9GM0LrQviDQsNGC0YDQuNCx0YPRgiDQutCw0YLQtdCz0L7RgNC40LgsINC4XG4gIC8vICAvLyDQt9Cw0LPQvtC70L7QstC+0Log0LHRg9C00LXRgiB1bmRlZmluZWQg0LjQu9C4INC/0YPRgdGC0L7QuS4g0JIgQ2hyb21lINC4IFxuICAvLyAgLy8g0L7RgdGC0LDQu9GM0L3Ri9GFINCx0YDQsNGD0LfQtdGA0LDRhSDQstGB0ZEg0YDQsNCx0L7RgtCw0LXRgiDQqNCY0JrQkNCg0J3Qni5cbiAgLy8gIC8vINCf0L7QvdGP0YLRjCDRjdGC0L4sINC80L3QtSDRgdGC0L7QuNC70L4gMyDRh9Cw0YHQsC4uLlxuICAvLyAgJHN0LnNob3dMb2FkaW5nKCRzdC5pZHMubWFpbik7XG4gIC8vXG4gIC8vICAkc3QuYnVpbGRIb21lQW5kQ2F0YWxvZ0NhdGVnb3J5KCk7XG4gIC8vICBcbiAgLy8gIHJldHVybiBmYWxzZTtcbiAgLy99KTsvLyBlbmQgY2xpY2tcbiAgLy9cbiAgLy9cbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2NhdGFsb2dGaXJtcyBhLnRpbGUsICNmb3VuZEZpcm1zIGEudGlsZScsIGZ1bmN0aW9uKCkge1xuICAvLyAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgLy8gIFxuICAvLyAgJHN0LmJyZWFkY3J1bWIuZmlybS5zaG9ydF9uYW1lID0gJHRoaXMuYXR0cignZGF0YS1maXJtJyk7XG4gIC8vICAkc3QuYnJlYWRjcnVtYi5maXJtLm5hbWUgPSAkdGhpcy5maW5kKCcudGlsZV9fbmFtZScpLnRleHQoKTtcbiAgLy8gIFxuICAvLyAgJHN0LnNob3dMb2FkaW5nKCRzdC5pZHMubWFpbik7XG4gIC8vICAgICAgXG4gIC8vICAkc3QuYnVpbGRDYXRhbG9nRmlybUhUTUwoKTtcbiAgLy8gIFxuICAvLyAgcmV0dXJuIGZhbHNlO1xuICAvL30pOy8vIGVuZCBjbGlja1xuICAvLyDQktGB0L/Qu9GL0LLQsNGO0YnQuNC1INC80LXRgtC60Lgg0Lgg0LjRhSDRgdGC0LjQu9C4INC/0YDQuCDRhNC+0LrRg9GB0LUg0Lgg0L/RgNC4INC30LDQv9C+0LvQvdC10L3QvdC+0Lwg0L/QvtC70LUuIFxuICAkKGRvY3VtZW50KS5vbignaW5wdXQgcHJvcGVydHljaGFuZ2UnLCAnLmNvbnRhY3RGb3JtX19jb250cm9sbGVyJywgZnVuY3Rpb24gKGUpIHtcbiAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdjb250YWN0Rm9ybV9fY29udHJvbGxlci1maWxsZWQnLCAhISQoZS50YXJnZXQpLnZhbCgpKTtcblxuICAgIHZhciAkbmFtZUlucHV0ID0gJCgnI2lkX25hbWUnKTtcbiAgICB2YXIgc3RyID0gJG5hbWVJbnB1dC52YWwoKTtcblxuICAgIC8vINCf0YDQtdC+0LHRgNCw0LfRg9C10Lwg0L/QtdGA0LLRg9GOINCx0YPQutCy0YMg0LIg0LjQvNC10L3QuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8uXG4gICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgIHJldHVybiB3b3JkLnJlcGxhY2Uod29yZC5jaGFyQXQoMCksIHdvcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpO1xuICAgIH0pLmpvaW4oJyAnKTtcblxuICAgICRuYW1lSW5wdXQudmFsKHN0cik7XG4gIH0pLm9uKCdmb2N1cycsICcuY29udGFjdEZvcm1fX2NvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5hZGRDbGFzcygnY29udGFjdEZvcm1fX2NvbnRyb2xsZXItZm9jdXNlZCcpO1xuICB9KS5vbignYmx1cicsICcuY29udGFjdEZvcm1fX2NvbnRyb2xsZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnY29udGFjdEZvcm1fX2NvbnRyb2xsZXItZm9jdXNlZCcpO1xuICB9KTtcblxuICB2YXIgZG9tYWlucyA9IFsnZ21haWwuY29tJywgJ2FvbC5jb20nLCAneWFob28uY29tJywgJ21haWwucnUnLCAneWFuZGV4LnJ1JywgJ2xpc3QucnUnXTtcbiAgdmFyIHRvcExldmVsRG9tYWlucyA9IFtcImNvbVwiLCBcIm5ldFwiLCBcIm9yZ1wiLCBcInJ1XCIsIFwiaW9cIl07XG5cbiAgLy8g0KXQtdC70L/QtdGAINC00LvRjyDQstCw0LvQuNC00LDRhtC40Lgg0LLQstC10LTRkdC90L3QvtCz0L4g0L/QvtGH0YLQvtCy0LPQviDRj9GJ0LjQutCwLlxuICAkKGRvY3VtZW50KS5vbignYmx1cicsICcjaWRfZW1haWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5tYWlsY2hlY2soe1xuICAgICAgZG9tYWluczogZG9tYWlucywgLy8gb3B0aW9uYWxcbiAgICAgIHRvcExldmVsRG9tYWluczogdG9wTGV2ZWxEb21haW5zLCAvLyBvcHRpb25hbFxuICAgICAgc3VnZ2VzdGVkOiBmdW5jdGlvbiBzdWdnZXN0ZWQoZWxlbWVudCwgc3VnZ2VzdGlvbikge1xuICAgICAgICAkKCcjaGVscGVyJykuaHRtbCgn0JLQvtC30LzQvtC20L3Qviwg0LLRiyDQuNC80LXQu9C4INCyINCy0LjQtNGDIDxiPjxpPicgKyBzdWdnZXN0aW9uLmZ1bGwgKyBcIjwvYj48L2k+P1wiKTtcbiAgICAgIH0sXG4gICAgICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoZWxlbWVudCkge1xuICAgICAgICAkKCcjaGVscGVyJykuaHRtbChcIlwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgJCgnI2lkX3Bob25lJykubWFzaygnMCAoMDAwKSAwMDAgMDAgMDAnKTtcbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2NvbnRlbnRQcm9qZWN0cyBhJywgZnVuY3Rpb24oKSB7XG4gIC8vICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAvLyAgLy8g0JrRjdGI0LjRgNGD0LXQvCDQvdGD0LbQvdGL0LUg0LTQsNC90L3Ri9C1LlxuICAvLyAgJHN0LmJyZWFkY3J1bWIucHJvamVjdC5uYW1lID0gJHRoaXMuZmluZCgnLnByb2plY3RfX25hbWUnKS50ZXh0KCk7XG4gIC8vICAkc3QuYnJlYWRjcnVtYi5wcm9qZWN0LnNob3J0X25hbWUgPSAkdGhpcy5hdHRyKCdkYXRhLXByb2plY3QnKTtcbiAgLy8gICRzdC5icmVhZGNydW1iLnByb2plY3QuYW1vdW50SW1ncyA9ICR0aGlzLmF0dHIoJ2RhdGEtYW1vdW50SW1ncycpO1xuICAvLyAgXG4gIC8vICAkc3Quc2hvd0xvYWRpbmcoJHN0Lmlkcy5tYWluKTtcbiAgLy8gIFxuICAvLyAgJHN0LnNob3dQcm9qZWN0SFRNTCgpO1xuICAvLyAgXG4gIC8vICByZXR1cm4gZmFsc2U7XG4gIC8vfSk7XG5cbiAgJCgnLnNsaWRlcl9fc2xpZGVzJykuc2xpY2soe1xuICAgIGRvdHM6IHRydWUsXG4gICAgYXV0b3BsYXk6IHRydWUsXG4gICAgYXV0b3BsYXlTcGVlZDogMjUwMCxcbiAgICByZXNwb25zaXZlOiBbe1xuICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgYXJyb3dzOiBmYWxzZVxuICAgICAgfVxuICAgIH1dXG4gIH0pO1xuICAvLyQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjY2F0ZWdvcnkgYS50aWxlJywgZnVuY3Rpb24oZSkge1xuICAvLyAgXG4gIC8vICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAvLyAgLy8g0JrRjdGI0LjRgNGD0LXQvCDQuNGE0L7RgNC80LDRhtC40Y4g0L4g0YTQuNGA0LzQtVxuICAvLyAgJHN0LmJyZWFkY3J1bWIuZmlybS5zaG9ydF9uYW1lID0gJHRoaXMuYXR0cignZGF0YS1maXJtJyk7XG4gIC8vICAkc3QuYnJlYWRjcnVtYi5maXJtLm5hbWUgPSAkdGhpcy5maW5kKCcudGlsZV9fbmFtZScpLnRleHQoKTtcbiAgLy8gIFxuICAvLyAgJHN0LnNob3dMb2FkaW5nKCRzdC5pZHMubWFpbik7XG4gIC8vICBcbiAgLy8gICRzdC5idWlsZEFuZFNob3dGaXJtSFRNTCgpO1xuICAvLyAgXG4gIC8vICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIC8vfSk7Ly8gZW5kIGNsaWNrXG5cbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2NhdGVnb3J5Q29sbGVjdGlvbnMgYS50aWxlJywgZnVuY3Rpb24oKSB7XG4gIC8vICBcbiAgLy8gIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gIC8vICBcbiAgLy8gICRzdC5icmVhZGNydW1iLmNvbGxlY3Rpb24ubmFtZSA9ICR0aGlzLmZpbmQoJy50aWxlX19uYW1lJykudGV4dCgpO1xuICAvLyAgJHN0LmJyZWFkY3J1bWIuY29sbGVjdGlvbi5zaG9ydF9uYW1lID0gJHRoaXMuYXR0cignZGF0YS1jb2wnKTtcbiAgLy8gIFxuICAvLyAgJHN0LnNob3dMb2FkaW5nKCRzdC5pZHMubWFpbik7XG4gIC8vICBcbiAgLy8gICRzdC5idWlsZEFuZFNob3dDb2xsZWN0aW9uSHRtbChmYWxzZSk7XG4gIC8vICBcbiAgLy8gIHJldHVybiBmYWxzZTtcbiAgLy99KTtcbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2Zpcm0gYS50aWxlLCAjZm91bmRDb2xsZWN0aW9ucyBhLnRpbGUnLCBmdW5jdGlvbigpIHtcbiAgLy8gIFxuICAvLyAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgLy8gIC8vINCa0Y3RiNC40YDRg9C10Lwg0LTQsNC90L3Ri9C1INCy0YvQsdGA0LDQvdC90L7QuSDQutC+0LvQu9C10LrRhtC40LguXG4gIC8vXG4gIC8vICAkc3QuYnJlYWRjcnVtYi5jb2xsZWN0aW9uLnNob3J0X25hbWUgPSAkdGhpcy5hdHRyKCdkYXRhLWNvbCcpO1xuICAvLyAgJHN0LmJyZWFkY3J1bWIuY29sbGVjdGlvbi5uYW1lID0gJHRoaXMuZmluZCgnLnRpbGVfX25hbWUnKS50ZXh0KCk7XG4gIC8vICBcbiAgLy8gICRzdC5zaG93TG9hZGluZygkc3QuaWRzLm1haW4pO1xuICAvLyAgXG4gIC8vICAkc3QuYnVpbGRBbmRTaG93Q29sbGVjdGlvbkh0bWwoJ2Zpcm0nKTtcbiAgLy8gIFxuICAvLyAgcmV0dXJuIGZhbHNlO1xuICAvL30pO1xuICAvLyDQmtC+0LPQtNCwINCy0YvQsdC40YDQsNC10YjRjCDQutCw0LrRg9GOLdC90LjQsdGD0LTRjCDQutCw0YLQtdCz0L7RgNC40Y4sINGB0YLRgNC+0Y7RgtGB0Y8gINC60L7Qu9C70LXQutGG0LjQuNC4INGE0LjRgNC80Ysg0LLRi9Cx0YDQsNC90L3QvtC5INC60LDRgtC10LPQvtGA0LjQuC4gXG4gIC8vJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNmaXJtQ2F0ZWdvcmllcyBhLnRpbGUnLCBmdW5jdGlvbihlKSB7XG4gIC8vICBcbiAgLy8gIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gIC8vIFxuICAvLyAgJHN0LmJyZWFkY3J1bWIuY2F0ZWdvcnkuc2hvcnRfbmFtZSA9ICR0aGlzLmF0dHIoJ2RhdGEtY2F0Jyk7XG4gIC8vICAkc3QuYnJlYWRjcnVtYi5jYXRlZ29yeS5uYW1lID0gJHRoaXMuZmluZCgnLnRpbGVfX25hbWUnKS50ZXh0KCk7XG4gIC8vICBcbiAgLy8gICRzdC5zaG93TG9hZGluZygkc3QuaWRzLm1haW4pO1xuICAvLyAgXG4gIC8vICAkc3QuYnVpbGRDYXRlZ29yeU9mRmlybUhUTUwoKTtcbiAgLy8gIFxuICAvLyAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAvL30pOy8vIGVuZCBjbGlja1xuICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDRgdC70LDQudC00LXRgNCwXG4gICQoJyNjb2xsZWN0aW9uU2FtcGxlcycpLnNsaWNrKHtcbiAgICBkb3RzOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IFt7XG4gICAgICBicmVha3BvaW50OiA3NjgsXG4gICAgICBzZXR0aW5nczoge1xuICAgICAgICBhcnJvd3M6IGZhbHNlXG4gICAgICB9XG4gICAgfV1cbiAgfSk7IC8vIGVuZCBzbGlja1xuXG4gIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRg9Cy0LXQu9C40YfQtdC90LjQtSDQutCw0YDRgtC40L3QvtC6LlxuICAkKCcuY29sbGVjdGlvblNsaWRlcl9fbGlzdFRpbGVzJykubWFnbmlmaWNQb3B1cCh7XG4gICAgZGVsZWdhdGU6ICdhJyxcbiAgICB0eXBlOiAnaW1hZ2UnLFxuICAgIGdhbGxlcnk6IHtcbiAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICB9XG4gIH0pO1xuICAvLyQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjZmlybSAjYmNDYXRlZ29yeSBhLCAjY29sbGVjdGlvbkZpcm0gICNiY0NhdGVnb3J5IGEnLCBmdW5jdGlvbigpIHtcbiAgLy8gIHZhciBiYWNrVG9MYXN0Q2F0ZWdvcnkgPSAkc3QuYnVpbGRIb21lQW5kQ2F0YWxvZ0NhdGVnb3J5O1xuICAvLyAgXG4gIC8vICBiYWNrVG9MYXN0Q2F0ZWdvcnkoKTtcbiAgLy8gIFxuICAvLyAgcmV0dXJuIGZhbHNlO1xuICAvL30pO1xuXG4gIC8vJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNjb2xsZWN0aW9uRmlybSAjYmNGaXJtIGEnLCBmdW5jdGlvbigpIHtcbiAgLy8gIHZhciBiYWNrVG9MYXN0RmlybSA9ICRzdC5idWlsZEFuZFNob3dGaXJtSFRNTDtcbiAgLy8gIFxuICAvLyAgYmFja1RvTGFzdEZpcm0oKTtcbiAgLy8gIFxuICAvLyAgcmV0dXJuIGZhbHNlO1xuICAvL30pO1xuXG4gIC8vJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNjb2xsZWN0aW9uQ2F0ZWdvcnlGaXJtICNiY0Zpcm0gYSwgI2NhdGVnb3J5Q29sbGVjdGlvbnMgI2JjRmlybSBhJywgZnVuY3Rpb24oKSB7XG4gIC8vICB2YXIgYmFja1RvTGFzdEZpcm0gPSAkc3QuYnVpbGRDYXRhbG9nRmlybUhUTUw7XG4gIC8vICBcbiAgLy8gIGJhY2tUb0xhc3RGaXJtKCk7XG4gIC8vICBcbiAgLy8gIHJldHVybiBmYWxzZTtcbiAgLy99KTtcbiAgLy9cbiAgLy8kKGRvY3VtZW50KS5vbignY2xpY2snLCAnI2NvbGxlY3Rpb25DYXRlZ29yeUZpcm0gI2JjQ2F0ZWdvcnkgYScsIGZ1bmN0aW9uKCkge1xuICAvLyAgdmFyIGJhY2tUb0xhc3RDYXRlZ29yeSA9ICRzdC5idWlsZENhdGVnb3J5T2ZGaXJtSFRNTDtcbiAgLy8gIFxuICAvLyAgYmFja1RvTGFzdENhdGVnb3J5KCk7XG4gIC8vICBcbiAgLy8gIHJldHVybiBmYWxzZTtcbiAgLy99KTtcbiAgJChkb2N1bWVudCkub24oJ21vdXNlb3ZlcicsICcudGlsZScsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIU1vZGVybml6ci5jc3N0cmFuc2l0aW9ucykge1xuICAgICAgJCh0aGlzKS5maW5kKCcudGlsZV9fZGVzY3JpcHRpb24sIC5zYW1wbGVfX2Rlc2NyaXB0aW9uJykuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgICBoZWlnaHQ6IFwiNzAlXCIsXG4gICAgICAgIGJvcmRlckJvdHRvbVdpZHRoOiAyLFxuICAgICAgICBib3hTaGFkb3c6ICcwIDVweCAyMHB4IHJnYmEoMCwgMCwgMCwgLjUpJyxcbiAgICAgICAgcGFkZGluZzogJzUlJ1xuICAgICAgfSwgMTAwMCk7XG4gICAgfVxuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignbW91c2VvdXQnLCAnLnRpbGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpIHtcbiAgICAgICQodGhpcykuZmluZCgnLnRpbGVfX2Rlc2NyaXB0aW9uLCAuc2FtcGxlX19kZXNjcmlwdGlvbicpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICBib3JkZXJCb3R0b21XaWR0aDogMCxcbiAgICAgICAgYm94U2hhZG93OiAwLFxuICAgICAgICBwYWRkaW5nOiAwXG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH0pO1xuICAkKGRvY3VtZW50KS5vbignbW91c2VvdmVyJywgJy5saXN0V29ya3NfX2l0ZW0nLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpIHtcbiAgICAgICQodGhpcykuZmluZCgnLnByb2plY3RCb2R5X19kZXNjcmlwdGlvbicpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgd2lkdGg6IFwiNTAlXCIsXG4gICAgICAgIGNvbG9yOiAnIzc2YmRmZicsXG4gICAgICAgIHBhZGRpbmc6ICczJSdcbiAgICAgIH0sIDEwMDApO1xuICAgIH1cbiAgfSkub24oJ21vdXNlb3V0JywgJy5saXN0V29ya3NfX2l0ZW0nLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpIHtcbiAgICAgICQodGhpcykuZmluZCgnLnByb2plY3RCb2R5X19kZXNjcmlwdGlvbicpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGNvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBwYWRkaW5nOiAwXG4gICAgICB9LCAxMDAwKTtcbiAgICB9XG4gIH0pO1xuICAkKCcubG9hZGluZ19fZmlndXJlJykuZmFkZU91dCgpO1xuICAkKCcubG9hZGluZycpLmRlbGF5KDI1MCkuZmFkZU91dCg0MDApO1xuXG4gICRzdC5zZXRQb2xpZmlsbEZvclBsYWNlaG9sZGVyKCk7XG5cbiAgJCgnLnNlYXJjaEZvcm1fX2J0blNlYXJjaCcpLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIU1vZGVybml6ci5jc3N0cmFuc2l0aW9ucykge1xuICAgICAgJCh0aGlzKS5zdG9wKCkuYW5pbWF0ZSh7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM3NGZmODYnXG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIGlmICghTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zKSB7XG4gICAgICAkKHRoaXMpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzc2YmRmZidcbiAgICAgIH0sIDUwMCk7XG4gICAgfVxuICB9KTsgLy8gZW5kIGhvdmVyXG5cbiAgJCgnI25hdiBsaScpLm1vdXNlb3ZlcihmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFNb2Rlcm5penIuY3NzdHJhbnNpdGlvbnMpIHtcbiAgICAgICQodGhpcykuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2RmYTc2ZVwiXG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfSkubW91c2VvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmICghTW9kZXJuaXpyLmNzc3RyYW5zaXRpb25zKSB7XG4gICAgICAkKHRoaXMpLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnXG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgfSk7XG59KTsgLy9lbmQgcmVhZHkiXX0=
